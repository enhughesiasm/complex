{"version":3,"sources":["resources/images/jarmix.jpg","resources/images/jar1transinverted.png","resources/images/shop.jpg","resources/images/jar1.jpg","resources/images/jar2.jpg","resources/images/jar3.jpg","resources/images/jar4.jpg","resources/images/jar5.jpg","resources/images/shelves_bw.jpg","resources/styles/styles.js","components/shared/help_text.js","components/shared/font_awesome.js","components/ui/nav/mass_delivery_button.js","components/shared/friendly_number.js","components/ui/nav/complex_nav.js","components/ui/first_load.js","components/shared/functions.js","components/ui/win_screen.js","components/trait_names.js","components/upgrades/upgrades_keys.js","components/upgrades/upgrades_making.js","components/employees/employee_types.js","components/upgrades/upgrades_employees.js","components/upgrades/upgrades_delivery.js","components/upgrades/upgrades_machines.js","components/upgrades/upgrades_special.js","components/upgrades/upgrades_storage.js","components/upgrades/upgrades.js","components/machines/machine_types.js","components/employees/employee_allocation.js","components/machines/machine_roles.js","components/employees/employees.js","components/machines/machines.js","components/machines/machine_build_permission.js","components/save_data/initial_values.js","components/traits_state.js","components/save_data/debug_values.js","components/stats/upgrade_bought_entry.js","components/stats/upgrades_bought.js","components/stats/complex_stats.js","shared/use_viewport.js","components/complex_footer.js","components/complex_tabs.js","components/ui/home/box_production.js","components/ui/complex_list_entry.js","components/ui/home/box_employees.js","components/ui/home/box_upgrades.js","components/shared/easing.js","components/ui/home/storage/storage_entry.js","components/ui/home/storage/storage.js","components/ui/home/tab_home.js","components/ui/factory/visual/output_indicator.js","components/ui/factory/visual/power_buildings.js","components/ui/factory/visual/storage_buildings.js","components/ui/factory/visual/prod_buildings.js","components/ui/factory/visual/delivery_people.js","components/ui/factory/visual/current_jar.js","components/ui/factory/visual/factory_visual.js","components/ui/factory/machines_box.js","components/ui/factory/build_progress.js","components/ui/factory/status_entry.js","components/ui/factory/build_queue_entry.js","components/ui/factory/build_queue.js","components/ui/factory/flexible_machinery.js","components/ui/factory/factory_status.js","components/ui/factory/tab_factory.js","components/complex_main.js","components/ui/complex_patch_notes.js","components/save_data/savable_values.js","components/stats/management_reaction.js","components/complex_game.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","require","texts","complex","favours","production","employees","upgrades","storage","factory","tabs","machines","buildqueue","factoryVisual","workers","power","builders","about","prodBuildings","wastedProduction","wastedDeliveries","flexibleMachinery","HelpText","props","className","helpKey","direction","additionalClassName","data-tooltip","FontAwesome","icon","style","MassDeliveryButton","onClick","onPerformMassDelivery","FriendlyNumber","orderOfMagnitude","Math","floor","log10","amount","suffix","display","afterDp","Number","isInteger","toLocaleString","toFixed","toString","substring","parseInt","name","prefix","ComplexNav","state","burgerActive","toggleBurger","bind","onLinkClicked","active","this","setState","showMassDeliveryBtn","canMakeTraits","onMakeTraitsClicked","totalDelivered","producingPerS","deliveringPerS","upgradesAvailable","totalStorageSize","bottleNeckedPerSecond","id","role","aria-label","href","activeclassname","target","rel","onNavLinkClicked","fontFamily","disabled","marginRight","statsActive","data-show","data-target","onToggleStatsActive","overflowWrap","maxWidth","length","padding","alt","src","jar1t","width","React","Component","FirstLoad","tickLengthMs","backgroundX","backgroundY","YMoveRate","maxY","minY","YDirection","shopOpacity","shelfOpacity","saveData","localStorage","getItem","tick","timerID","setInterval","clearInterval","newX","YChange","newY","backgroundImage","shelfImg","marginTop","marginBottom","shopImg","backgroundPosition","onFirstLoadModalClosed","JSON","parse","create_UUID","dt","Date","getTime","replace","c","r","random","submitToAnalytics","action","category","label","value","window","gtag","event_category","event_label","WinScreen","parseFloat","gameWinTime","asSeconds","timeLived","moment","duration","asMinutes","backgroundRepeat","backgroundPositionY","backgroundSize","background","onWinScreenClosed","humanize","utc","asMilliseconds","format","positives","negatives","preferenceVerbs","nouns","adjectives","getAdjective","fraction","getTraitName","x","positiveFraction","upgradesKeys","PRODUCTION_EFFICIENCY","DELIVERY_GENIUS","LABOUR_TRAINING","ADVANCED_CRAFTING","ARTISANS","BUILD_ROAD","STACKABLE_CRATES","INVENT_CRANES","HIGH_SPEED_TRAINS","HORSES","WAGONS","HUMUNGOUS_WAGONS","TRAINS","CONSTRUCTION_101","CONSTRUCTION_INT","CONSTRUCTION_ADV","BOX_1","BOX_2","BOX_3","BOX_4","BOX_BIGGER","BOX_CRATES","SHED","STANDARDISED_JARS","VERTICAL_STACKING","MORE_LAND","CONTAINERISATION","AUTOMATED_PIPE_NETWORK","WORKBENCH","TOOLS","GLASSBLOWING","LABELS","LABEL_ROLLS","TRAIT_SYNTHESIS","TURBO_PRODUCTION","INVENT_MACHINERY","TALES_OF_THE_PRELIFE","WONDER_ABOUT_LIFE","WORK_SATISFACTION","VISIT_THE_SHOP","LEAVE_FOR_EARTH","BETTER_MACHINERY","EVEN_BETTER_MACHINERY","MORE_EFFICIENT_MACHINERY","CHEAPER_MATERIALS","SMARTER_CONSTRUCTION_METHODS","EVEN_BETTERER_MACHINERY","EVEN_BETTERERER_MACHINERY","UNIMAGINABLE_MACHINERY","SELF_REPLICATING_MACHINES","FLEXIBLE_MACHINERY","makingUpgrades","key","cost","unlocked","unlockedAtTraitsDelivered","apply","traitsState","makeRateMultiplier","getUpgradeByKey","makeRateBase","madePerClick","employeeTypes","PRODUCTION","DELIVERY","BUILDER","employeeUpgrades","e","getEmployeeByType","description","costMultiplier","workPerSecondMultiplier","outputMultiplier","deliveryAnimationDuration","deliveryUpgrades","workRequiredMultiplier","tryGetUpgradeByName","machineUpgrades","explanation","all","filter","a","tier","forEach","m","flexibleMachineryUnlocked","machineCostMultiplier","machineOutputMultiplier","specialUpgrades","activatePyro","gameComplete","totalTimePlayed","clone","storageUpgrades","increaseStorageSize","increaseStorageMultiplierByFactor","machineStorageMultiplier","loadAll","upgradeId","u","push","purchased","sort","b","machineTypes","NONE","LEMON_POWER","MACHINING_TABLE","LOADER","ASSEMBLER","WATER_POWER","SMALL_WAREHOUSE","CONVEYOR_BELT","STEAM_POWER","MEDIUM_WAREHOUSE","TURBINE_POWER","TRAIT_PUMP","INDUSTRIAL_WAREHOUSE","ASSEMBLY_LINE","COAL_POWER","TRAIT_COMPRESSOR","MASSIVE_WHEEL","employeeAllocation","MANUAL","MACHINE","machineRoles","POWER","STORAGE","processTick","delta","employee","onCompletion","work","paused","outcomePerSecond","currentEmployeeState","type","progress","workPerSecond","actualWorkRequired","workRequiredToComplete","currentOutputAmount","outputPerCompletion","getMachineByType","totalDeliveryMultiplier","getFlexibleMultiplier","everFailed","justFailed","setTimeout","justFailedMs","timeRequired","currentTimeTaken","baseCost","baseWorkPerSecond","overallWorkMultiplier","allocation","manual","hiredAmount","hire","canReallocate","spreadAllocation","prodMachineCount","getCountByRole","reallocate","makeTraits","autoDeliverTraits","building","checkBuildQueue","buildQueue","machine","workRequiredToBuild","buildMachine","max","console","error","canBuild","builtAmount","baseProduction","multProduction","traitsPerOutput","required","traitsOutputPerSecond","baseDelivery","multDelivery","pow","baseStorage","multStorage","machineBuildPermission","SUCCESS","NOPOWER","NOFAVOURS","initialValues","debug","stored","storedTraits","storageMax","storageBase","storageMultiplier","isMakingTraits","justFailedToMake","workRequiredToMakeTrait","makeProgressPercent","totalMade","totalWastedProduction","totalWastedDeliveries","favoursSpent","deliveryRateBase","deliveryRateMultiplier","costScalingExponent","costScalingBaseMultiplier","flexibleMachinerySetting","flexibleMachineryAbsMax","flexibleMachineFactor","delivery","builder","upgradesPurchased","machinesBuilt","version","lastTickTime","tickInProgress","visualStorageMax","wrapperHeight","deliveryFadeOutTimeMs","startTime","allEmployees","allUpgrades","initComplete","init","savedValues","values","prop","i","massDelivery","isActive","employeeId","machineId","builtMachineType","orderByMultipleProperties","args","Array","prototype","slice","call","arguments","equality","localeCompare","employeeAllocations","upgrade","applyUpgrade","poissonProcess","create","averageWaitInMilliseconds","trigger","start","min","currentStorageSize","prodWorkers","updateVisualStorage","makeWorkPerSecond","perform","s","numberToDeliver","getTimeToMake","getOutcomePerSecond","total","getBuiltByRole","getBottleneckedPerSecond","prod","del","getNaturalStorageSize","getMachineStorageSize","getUpgradeById","getUnlockedUpgrades","canPurchaseUpgrade","purchaseUpgrade","getUnlockedEmployees","canHireEmployee","getEmployeeCost","emp","status","ceil","hireEmployee","canReallocateProdWorker","reallocateProdWorker","employeeType","justBuilt","cancellationRefundFactor","map","reduce","totalPower","includeBuildQueue","buildItem","reverse","size","sell","getMachineCost","refund","getCancellationRefundAmount","outputAmount","success","getUnlockedMachines","canBuildMachine","availablePower","amountInBuildQueue","totalAmount","addMachineToQueue","alert","cancelMachineFromQueue","entry","index","splice","refundAmount","getCurrentlyBuildingMachine","bqItem","progressMakingTraits","amountToProgress","isStorageFull","amountMade","addToStorage","increaseStorageMultiplierByAmount","delivered","desiredAmount","currentAmount","newTrait","deliver","selfDeliver","removeFromVisualStorage","initialStored","getDeliverySpeed","amountDelivered","currentStored","amountToDeliver","amountRemaining","undeliveredVisuals","visualsToAffect","affectedVisuals","remainingDeliveries","t","attachQuickviews","bulmaQuickview","attach","isPaused","diff","add","ex","UpgradeBoughtEntry","UpgradesBought","purchasedUpgrades","ComplexStats","data-content","jarMix","areMachinesUnlocked","machinesUnlockedList","machinesAll","managementReaction","useViewport","useState","innerWidth","setWidth","useEffect","handleWindowResize","addEventListener","removeEventListener","ComplexFooter","currentYear","getFullYear","alignItems","class","patchNotesActive","togglePatchNotes","marginLeft","fontSize","complexTabs","HOME","FACTORY","BoxProduction","maxHeight","minHeight","productionPerClick","productionTimeToMake","productionProgressPercent","ComplexListEntry","additionalClass","tooltipData","favoursAvailable","abs","canPurchase","buildTooltipText","opacity","onPurchaseClicked","purchaseText","showProgressBar","height","progressTooFast","cursor","pauseText","onPauseClicked","pauseIcon","BoxEmployees","employeesUnlocked","employeesCanHire","employeesGetCost","employeesHire","canHire","workdescription","employeeStatus","BoxUpgrades","upgradesUnlocked","upgradesAll","upgradesCanPurchase","upgradesPurchase","remainingUpgrades","EasingFunctions","linear","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","images","jar1","jar2","jar3","jar4","jar5","StorageEntry","image","deliveryTime","heightMaxPx","fractionSinceDelivered","onClickDeliver","Storage","storageCurrentSize","storageIsFull","storageTraits","storageAmount","dp","padStart","trait","HomeTab","justFailedProduction","canShowEmployees","canShowUpgrades","OutputIndicator","notificationType","text","amountText","suffixText","PowerBuildings","totalGeneratedPower","buildings","totalUsedPower","totalFactoryPower","actualBuildings","isUsed","amountUsed","y","tooltipText","getStorage","totalUsed","capacity","StorageBuildings","storageNaturalSize","storageMachineSize","totalStorage","storageMagnitude","storing","isFull","newB","ProdBuildings","manualWorkers","currentProdWork","totalMachineWork","totalOutput","manualDp","machineDp","totalDp","onReallocateProdWorker","ratios","DeliveryPeople","deliverers","builtDeliveryBuildings","anyLoaders","loaders","deliveryRate","deliveryRatio","ratio","ratioType","animationDuration","CurrentJar","magnitude","getMagnitudeDisplay","jars","lifespan","jar","FactoryVisual","born","jarLifespanMilliseconds","builtProdBuildings","newLifespan","b1","a1","builtPowerBuildings","builtStorageBuildings","powerTotal","MachinesBox","fnSelectKey","machinesGetCost","machinesAddToQueue","machinesSell","machinesCanBuild","groupedMachines","v","k","machinesByRole","group","toUpperCase","buildTooltip","sellText","onSellClicked","BuildProgress","buildingCurrentMachine","actuallyBuilding","StatusEntry","BuildQueueEntry","onCancelMachineFromBuildQueue","buildingGetCancellationRefundAmount","BuildQueue","FlexibleMachinery","canDeliverMore","canProduceMore","justifyContent","flexDirection","onFlexibleMachineryUpdate","current","absMax","step","FactoryStatus","FactoryTab","powerCommitted","numBuilders","numDeliverers","committedPower","ComplexMain","paddingBottom","showPyro","activeTab","onSetActiveTab","ComplexPatchNotes","data-dismiss","onTogglePatchNotes","savableValues","reactions","adverbs_positive","adverbs_negative","getManagementReaction","reaction","possibles","adverb","ComplexGame","pyroStart","scrollTo","settings","updateState","pyroLength","setActiveTab","tab","firstLoad","lastSaved","canShowWinScreen","toggleStatsActive","saveGame","slowTimerID","save","stringifiedSave","stringify","setItem","removeItem","unlockedUpgrades","App","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","log","onUpdate","onSuccess","catch","ReactDOM","render","StrictMode","document","getElementById","URL","process","origin","fetch","headers","response","contentType","get","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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A,2BACC,uBACCkD,KAAK,+BACLE,OAAO,SACPC,IAAI,uBACJ,4BAAQrD,UAAU,gDAAlB,mEAMF,2BACC,4BACCA,UAAU,6CACVS,QAAS2B,KAAKrC,MAAMmI,mBAFrB,oC,GAnJgC5D,IAAMC,W,OCEvCgE,EAAY,CAAC,cAAc,UAAU,UAAW,SAAS,UAAW,cAAc,WAAY,YAAY,YAAY,cAAc,gBACzI,OAAO,WAAY,aAAa,aAAa,YAAY,WAAW,aAAa,UAAU,aAAa,cACvG,UAAU,YAAa,WAAW,OAAO,WAAW,WAAW,WAAW,aAAa,UAAU,aAClG,aACA,aACA,aACA,yBACA,kBACA,iBACA,WACA,WACA,eACA,aACA,kBACA,qBACA,SACA,YACA,YACA,cACA,YACA,UACA,aACA,QACA,YACA,QACA,SACA,iBACA,UACA,eACA,eACA,aACA,WACA,WACA,aACA,WACA,aACA,YACA,OACA,UACA,cACA,SACA,cACA,cACA,WACA,WACA,QACA,eACA,SACA,YACA,gBACA,eACA,YACA,gBACA,cACA,WACA,gBACA,cACA,aACA,YACA,WACA,WACA,UACA,SACA,WACA,SACA,WACA,YACA,OACA,YACA,WACA,cACA,WACA,WACA,UACA,UACA,UACA,YACA,WACA,YACA,UACA,WACA,aACA,YACA,eACA,OACA,WACA,gBACA,cACA,WACA,QACA,OACA,WACA,WACA,WACA,YACA,aACA,eACA,WACA,aACA,UACA,WACA,SACA,UACA,eACA,WACA,cACA,UACA,SACA,UACA,SACA,cACA,SACA,YACA,SACA,WACA,aACA,cACA,aACA,WACA,gBACA,cACA,kBACA,aACA,cACA,aACA,aACA,cACA,YACA,eACA,OACA,wBACA,WACA,YACA,UACA,UACA,UACA,QACA,UACA,cACA,aACA,SACA,aACA,aACA,WACA,SACA,gBACA,OACA,qBACA,YACA,YACA,OACA,aACA,UACA,YACA,WACA,cACA,aACA,UACA,YACA,WACA,aACA,gBACA,aACA,aACA,UACA,UACA,WACA,UACA,YACA,UACA,aACA,WACA,UACA,aACA,eACA,UACA,WACA,aACA,WACA,YACA,aACA,UACA,WACA,cACA,aACA,cACA,aACA,cACA,WACA,SACA,OACA,YACA,aACA,SACA,WACA,gBACA,gBACA,eACA,eACA,iBACA,YACA,cACA,WACA,UACA,OACA,SACA,SACA,WACA,QACA,WACA,QACA,gBACA,cACA,WACA,SACA,YACA,SACA,QACA,SACA,WACA,QACA,SACA,QACA,cACA,aACA,WACA,YACA,WACA,OACA,WACA,YACA,WACA,gBACA,gBACA,aACA,OACA,UACA,SACA,cACA,YACA,OACA,YACA,YACA,eACA,UACA,OACA,QACA,WACA,eACA,aACA,YACA,UACA,SACA,UACA,gBACA,eACA,SACA,eACA,OACA,SACA,WACA,SACA,cACA,cACA,UACA,eACA,eACA,gBACA,QACA,OACA,YACA,aACA,aACA,SACA,UACA,QACA,MACA,SACA,YACA,YACA,eACA,WACA,SACA,SACA,eACA,SACA,YACA,YACA,gBACA,UACA,WACA,eACA,gBACA,YACA,aACA,iBACA,UACA,YACA,cACA,aACA,WACA,SACA,SACA,aACA,WACA,UACA,eACA,iBACA,WACA,gBACA,WACA,YACA,gBACA,WACA,SACA,YACA,cACA,cACA,UACA,cACA,QACA,OACA,cACA,QACA,YACA,WACA,aACA,WACA,YACA,iBACA,UACA,YACA,SACA,OACA,SACA,WACA,QACA,SACA,SACA,WACA,UACA,aACA,aACA,OACA,QACA,eACA,cACA,gBACA,aACA,cACA,eACA,YACA,cACA,cACA,gBACA,gBACA,aAEKC,EAAY,CACjB,WACA,SACA,UACA,OACA,QACA,SACA,QACA,UACA,YACA,YACA,gBACA,WACA,aACA,UACA,YACA,aACA,WACA,aACA,UACA,QACA,QACA,aACA,UACA,SACA,cACA,UACA,eACA,WACA,WACA,YACA,WACA,SACA,SACA,OACA,aACA,aACA,aACA,YACA,eACA,aACA,WACA,eACA,eACA,WACA,SACA,QACA,QACA,WACA,WACA,QACA,QACA,UACA,WACA,YACA,WACA,YACA,YACA,YACA,cACA,UACA,YACA,QACA,gBACA,eACA,eACA,eACA,YACA,WACA,cACA,aACA,eACA,gBACA,aACA,eACA,aACA,WACA,cACA,OACA,cACA,aACA,UACA,UACA,WACA,YACA,cACA,UACA,YACA,QACA,YACA,WACA,aACA,UACA,UACA,SACA,QACA,QACA,aACA,UACA,YACA,aACA,cACA,YACA,SACA,YACA,QACA,SACA,OACA,WACA,UACA,UACA,aACA,WACA,cACA,UACA,WACA,YACA,YACA,cACA,WACA,YACA,gBACA,YACA,aACA,YACA,QACA,YACA,WACA,cACA,YACA,YACA,aACA,YACA,aACA,gBACA,YACA,OACA,aACA,aACA,YACA,WACA,aACA,UACA,gBACA,aACA,aACA,cACA,QACA,YACA,UACA,YACA,WACA,YACA,QACA,SACA,gBACA,QACA,eACA,SACA,gBACA,WACA,aACA,WACA,aACA,YACA,YACA,UACA,MACA,YACA,kBACA,YACA,cACA,gBACA,YACA,aACA,kBACA,WACA,UACA,WACA,WACA,QACA,aACA,WACA,UACA,aACA,eACA,YACA,aACA,eACA,cACA,OACA,kBACA,cACA,cACA,SACA,cACA,WACA,aACA,YACA,YACA,YACA,YACA,aACA,QACA,cACA,QACA,SACA,WACA,gBACA,WACA,WACA,YACA,YACA,UACA,iBACA,UACA,eACA,MACA,QACA,gBACA,SACA,OACA,MACA,iBACA,aACA,SACA,SACA,QACA,gBACA,SACA,aACA,cACA,gBACA,aACA,WACA,YACA,QACA,WACA,cACA,QACA,cACA,cACA,SACA,cACA,iBACA,WACA,eACA,eACA,gBACA,aACA,aACA,gBACA,aACA,aACA,UACA,gBACA,eACA,aACA,eACA,cACA,eACA,aACA,eACA,UACA,aACA,UACA,QACA,WACA,aACA,aACA,OACA,cACA,eACA,UACA,UACA,OACA,kBAGKC,EAAkB,CAAC,SAAW,eAAgB,eAAgB,SAAU,WAAY,eACzF,UAAW,WAAY,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","file":"static/js/main.2cb8caa4.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/jarmix.3d4ba374.jpg\";","module.exports = __webpack_public_path__ + \"static/media/jar1transinverted.5e65188b.png\";","module.exports = __webpack_public_path__ + \"static/media/shop.8f4bb758.jpg\";","module.exports = \"data:image/jpeg;base64,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\"","module.exports = \"data:image/jpeg;base64,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\"","module.exports = \"data:image/jpeg;base64,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\"","module.exports = \"data:image/jpeg;base64,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\"","module.exports = \"data:image/jpeg;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/shelves_bw.6ca742b4.jpg\";","require('../../../node_modules/bulma/sass/utilities/initial-variables.sass');\nrequire('../../../node_modules/bulma/sass/utilities/functions.sass');\n\nrequire('./bulma-slider.css');\nrequire('./magic.min.css');\n\nrequire('./customise.scss');\n\n// enhughesiasm specific\nrequire('./complex.scss');\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst texts = {\n\tcomplex:\n\t\t'The Supplier creates and delivers human traits to the Shop Before Life',\n\tfavours:\n\t\t'Earn Favours from Management and spend them to improve your business',\n\tproduction: 'Make traits by your own hand, and with your own tools.',\n\temployees:\n\t\t'You can hire people to help make traits, perform deliveries, and build your factory.',\n\tupgrades:\n\t\t'Research technology to make your factory bigger, better and faster.',\n\tstorage: 'This is where you keep your traits. Try not to run out of space!',\n\tfactory:\n\t\t'Your builders can build machines to industrialise your trait production, delivery and storage. Be careful—the machines use electricity.',\n\ttabs: 'You can now switch between your home & your factory.',\n\tmachines:\n\t\t'Build machines to help you create and store traits. They might get out of control pretty fast...',\n\tbuildqueue: \"These are the machines you're planning to build.\",\n\tfactoryVisual:\n\t\t\"It's a mess. A beautiful, beautiful mess. Hover over any part for more detailed information.\",\n\tworkers:\n\t\t'Your workers can either make traits by hand, or use your fancy new machines.',\n\tpower: 'All this machinery requires power!',\n\tbuilders: \"Factories don't just build themselves.\",\n\tabout:\n\t\t'This is a quick, messy project I threw together in a few days, just for fun. (And I wanted to play a bit more in the world of the prelife.) If you like it, or have any comments, or just want to say hi, get in touch via complex@walkingoncustard.com :) Thanks for playing!',\n\tprodBuildings:\n\t\t'Your workers can either make traits manually or via machine. Click on them to reassign from one to the other.',\n\twastedProduction: 'Full storage.', // has to be short\n\twastedDeliveries: 'Empty storage.', // has to be short,\n\tflexibleMachinery:\n\t\t'Your machines can be repurposed to provide more production or delivery capacity.',\n};\n\nconst HelpText = (props) => (\n\t<span\n\t\tclassName={\n\t\t\t'helpText is-hidden-mobile ' +\n\t\t\tprops.helpKey +\n\t\t\t' tooltip is-tooltip-primary is-tooltip-multiline is-tooltip-' +\n\t\t\t(props.direction ? props.direction : 'top') +\n\t\t\t' is-tooltip-multiline ' +\n\t\t\t(props.additionalClassName || '')\n\t\t}\n\t\tdata-tooltip={\n\t\t\ttexts[props.helpKey]\n\t\t\t\t? texts[props.helpKey]\n\t\t\t\t: 'Missing key: ' + props.helpKey\n\t\t}>\n\t\t<i className='fas fa-question-circle' />\n\t</span>\n);\n\nexport default HelpText;\n\nHelpText.propTypes = {\n\thelpKey: PropTypes.string.isRequired,\n\tdirection: PropTypes.string,\n\tadditionalClassName: PropTypes.string,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst FontAwesome = (props) => (\n\t<i className={'fas fa-' + props.icon} style={props.style}></i>\n);\n\nexport default FontAwesome;\n\nFontAwesome.propTypes = {\n\ticon: PropTypes.string.isRequired,\n\tstyle: PropTypes.object,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst MassDeliveryButton = (props) => <button className=\"button is-small is-rounded massDelivery is-success tooltip is-tooltip-bottom\" onClick={props.onPerformMassDelivery}\n\tdata-tooltip=\"Lucky! Everyone wants to help with your deliveries.\">DELIVER LOTS</button>;\n\nexport default MassDeliveryButton;\n\nMassDeliveryButton.propTypes = {\n\tonPerformMassDelivery: PropTypes.func.isRequired\n};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport FontAwesome from '../shared/font_awesome';\n\nconst FriendlyNumber = (props) => {\n\tlet orderOfMagnitude = Math.floor(Math.log10(props.amount));\n\tlet suffix = '';\n\tlet dp = 2;\n\n\tlet amount = props.amount;\n\tlet display = '';\n\tlet afterDp = '';\n\n\tif (orderOfMagnitude < 3) {\n\t\tif (Number.isInteger(amount)) {\n\t\t\tdisplay = Math.floor(amount).toLocaleString();\n\t\t} else {\n\t\t\tdisplay = Number(amount).toFixed(2).toLocaleString();\n\t\t}\n\t} else if (orderOfMagnitude < 6) {\n\t\tdisplay = Math.floor(amount).toLocaleString();\n\t} else {\n\t\t// YES THIS IS UGLY AND COULD BE DONE WITH A BIT OF SMART MATHS BUT IT'S LATE AND I JUST WANT IT TO WORK\n\t\tswitch (orderOfMagnitude) {\n\t\t\tcase 6:\n\t\t\t\tsuffix = ' million';\n\t\t\t\tafterDp = amount.toString().substring(1, 1 + dp);\n\n\t\t\t\tif (parseInt(afterDp) !== 0) {\n\t\t\t\t\tdisplay = amount.toString().substring(0, 1) + '.' + afterDp;\n\t\t\t\t} else {\n\t\t\t\t\tdisplay = amount.toString().substring(0, 1);\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\tcase 7:\n\t\t\t\tsuffix = ' million';\n\t\t\t\tafterDp = amount.toString().substring(2, 2 + dp);\n\t\t\t\tif (parseInt(afterDp) !== 0) {\n\t\t\t\t\tdisplay = amount.toString().substring(0, 2) + '.' + afterDp;\n\t\t\t\t} else {\n\t\t\t\t\tdisplay = amount.toString().substring(0, 2);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 8:\n\t\t\t\tsuffix = ' million';\n\t\t\t\tafterDp = amount.toString().substring(3, 3 + dp);\n\t\t\t\tif (parseInt(afterDp) !== 0) {\n\t\t\t\t\tdisplay = amount.toString().substring(0, 3) + '.' + afterDp;\n\t\t\t\t} else {\n\t\t\t\t\tdisplay = amount.toString().substring(0, 3);\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\tcase 9:\n\t\t\t\tsuffix = ' billion';\n\t\t\t\tafterDp = amount.toString().substring(1, 1 + dp);\n\t\t\t\tif (parseInt(afterDp) !== 0) {\n\t\t\t\t\tdisplay = amount.toString().substring(0, 1) + '.' + afterDp;\n\t\t\t\t} else {\n\t\t\t\t\tdisplay = amount.toString().substring(0, 1);\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\tcase 10:\n\t\t\t\tsuffix = ' billion';\n\t\t\t\tafterDp = amount.toString().substring(2, 2 + dp);\n\t\t\t\tif (parseInt(afterDp) !== 0) {\n\t\t\t\t\tdisplay = amount.toString().substring(0, 2) + '.' + afterDp;\n\t\t\t\t} else {\n\t\t\t\t\tdisplay = amount.toString().substring(0, 2);\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\tcase 11:\n\t\t\t\tsuffix = ' billion';\n\t\t\t\tafterDp = amount.toString().substring(3, 3 + dp);\n\t\t\t\tif (parseInt(afterDp) !== 0) {\n\t\t\t\t\tdisplay = amount.toString().substring(0, 3) + '.' + afterDp;\n\t\t\t\t} else {\n\t\t\t\t\tdisplay = amount.toString().substring(0, 3);\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\tcase 12:\n\t\t\t\tsuffix = ' trillion';\n\t\t\t\tafterDp = amount.toString().substring(1, 1 + dp);\n\t\t\t\tif (parseInt(afterDp) !== 0) {\n\t\t\t\t\tdisplay = amount.toString().substring(0, 1) + '.' + afterDp;\n\t\t\t\t} else {\n\t\t\t\t\tdisplay = amount.toString().substring(0, 1);\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\tcase 13:\n\t\t\t\tsuffix = ' trillion';\n\t\t\t\tafterDp = amount.toString().substring(2, 2 + dp);\n\t\t\t\tif (parseInt(afterDp) !== 0) {\n\t\t\t\t\tdisplay = amount.toString().substring(0, 2) + '.' + afterDp;\n\t\t\t\t} else {\n\t\t\t\t\tdisplay = amount.toString().substring(0, 2);\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\tcase 14:\n\t\t\t\tsuffix = ' trillion';\n\t\t\t\tafterDp = amount.toString().substring(3, 3 + dp);\n\t\t\t\tif (parseInt(afterDp) !== 0) {\n\t\t\t\t\tdisplay = amount.toString().substring(0, 3) + '.' + afterDp;\n\t\t\t\t} else {\n\t\t\t\t\tdisplay = amount.toString().substring(0, 3);\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\tcase 15:\n\t\t\t\tsuffix = ' quadrillion';\n\t\t\t\tafterDp = amount.toString().substring(1, 1 + dp);\n\t\t\t\tif (parseInt(afterDp) !== 0) {\n\t\t\t\t\tdisplay = amount.toString().substring(0, 1) + '.' + afterDp;\n\t\t\t\t} else {\n\t\t\t\t\tdisplay = amount.toString().substring(0, 1);\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\tcase 16:\n\t\t\t\tsuffix = ' quadrillion';\n\t\t\t\tafterDp = amount.toString().substring(2, 2 + dp);\n\t\t\t\tif (parseInt(afterDp) !== 0) {\n\t\t\t\t\tdisplay = amount.toString().substring(0, 2) + '.' + afterDp;\n\t\t\t\t} else {\n\t\t\t\t\tdisplay = amount.toString().substring(0, 2);\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\tcase 17:\n\t\t\t\tsuffix = ' quadrillion';\n\t\t\t\tafterDp = amount.toString().substring(3, 3 + dp);\n\t\t\t\tif (parseInt(afterDp) !== 0) {\n\t\t\t\t\tdisplay = amount.toString().substring(0, 3) + '.' + afterDp;\n\t\t\t\t} else {\n\t\t\t\t\tdisplay = amount.toString().substring(0, 3);\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\tcase 18:\n\t\t\t\tsuffix = ' quintillion';\n\t\t\t\tafterDp = amount.toString().substring(1, 1 + dp);\n\t\t\t\tif (parseInt(afterDp) !== 0) {\n\t\t\t\t\tdisplay = amount.toString().substring(0, 1) + '.' + afterDp;\n\t\t\t\t} else {\n\t\t\t\t\tdisplay = amount.toString().substring(0, 1);\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\tcase 19:\n\t\t\t\tsuffix = ' quintillion';\n\t\t\t\tafterDp = amount.toString().substring(2, 2 + dp);\n\t\t\t\tif (parseInt(afterDp) !== 0) {\n\t\t\t\t\tdisplay = amount.toString().substring(0, 2) + '.' + afterDp;\n\t\t\t\t} else {\n\t\t\t\t\tdisplay = amount.toString().substring(0, 2);\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\tcase 20:\n\t\t\t\tsuffix = ' quintillion';\n\t\t\t\tafterDp = amount.toString().substring(3, 3 + dp);\n\t\t\t\tif (parseInt(afterDp) !== 0) {\n\t\t\t\t\tdisplay = amount.toString().substring(0, 3) + '.' + afterDp;\n\t\t\t\t} else {\n\t\t\t\t\tdisplay = amount.toString().substring(0, 3);\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\tcase 21:\n\t\t\t\tsuffix = ' sextillion';\n\t\t\t\tafterDp = amount.toString().substring(1, 1 + dp);\n\t\t\t\tif (parseInt(afterDp) !== 0) {\n\t\t\t\t\tdisplay = amount.toString().substring(0, 1) + '.' + afterDp;\n\t\t\t\t} else {\n\t\t\t\t\tdisplay = amount.toString().substring(0, 1);\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\tcase 22:\n\t\t\t\tsuffix = ' sextillion';\n\t\t\t\tafterDp = amount.toString().substring(2, 2 + dp);\n\t\t\t\tif (parseInt(afterDp) !== 0) {\n\t\t\t\t\tdisplay = amount.toString().substring(0, 2) + '.' + afterDp;\n\t\t\t\t} else {\n\t\t\t\t\tdisplay = amount.toString().substring(0, 2);\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\tcase 23:\n\t\t\t\tsuffix = ' sextillion';\n\t\t\t\tafterDp = amount.toString().substring(3, 3 + dp);\n\t\t\t\tif (parseInt(afterDp) !== 0) {\n\t\t\t\t\tdisplay = amount.toString().substring(0, 3) + '.' + afterDp;\n\t\t\t\t} else {\n\t\t\t\t\tdisplay = amount.toString().substring(0, 3);\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\tcase 24:\n\t\t\t\tsuffix = ' septillion';\n\t\t\t\tafterDp = amount.toString().substring(1, 1 + dp);\n\t\t\t\tif (parseInt(afterDp) !== 0) {\n\t\t\t\t\tdisplay = amount.toString().substring(0, 1) + '.' + afterDp;\n\t\t\t\t} else {\n\t\t\t\t\tdisplay = amount.toString().substring(0, 1);\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\tcase 25:\n\t\t\t\tsuffix = ' septillion';\n\t\t\t\tafterDp = amount.toString().substring(2, 2 + dp);\n\t\t\t\tif (parseInt(afterDp) !== 0) {\n\t\t\t\t\tdisplay = amount.toString().substring(0, 2) + '.' + afterDp;\n\t\t\t\t} else {\n\t\t\t\t\tdisplay = amount.toString().substring(0, 2);\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\tcase 26:\n\t\t\t\tsuffix = ' septillion';\n\t\t\t\tafterDp = amount.toString().substring(3, 3 + dp);\n\t\t\t\tif (parseInt(afterDp) !== 0) {\n\t\t\t\t\tdisplay = amount.toString().substring(0, 3) + '.' + afterDp;\n\t\t\t\t} else {\n\t\t\t\t\tdisplay = amount.toString().substring(0, 3);\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\tcase 27:\n\t\t\t\tsuffix = ' octillion';\n\t\t\t\tafterDp = amount.toString().substring(1, 1 + dp);\n\t\t\t\tif (parseInt(afterDp) !== 0) {\n\t\t\t\t\tdisplay = amount.toString().substring(0, 1) + '.' + afterDp;\n\t\t\t\t} else {\n\t\t\t\t\tdisplay = amount.toString().substring(0, 1);\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\tcase 28:\n\t\t\t\tsuffix = ' octillion';\n\t\t\t\tafterDp = amount.toString().substring(2, 2 + dp);\n\t\t\t\tif (parseInt(afterDp) !== 0) {\n\t\t\t\t\tdisplay = amount.toString().substring(0, 2) + '.' + afterDp;\n\t\t\t\t} else {\n\t\t\t\t\tdisplay = amount.toString().substring(0, 2);\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\tcase 29:\n\t\t\t\tsuffix = ' octillion';\n\t\t\t\tafterDp = amount.toString().substring(3, 3 + dp);\n\t\t\t\tif (parseInt(afterDp) !== 0) {\n\t\t\t\t\tdisplay = amount.toString().substring(0, 3) + '.' + afterDp;\n\t\t\t\t} else {\n\t\t\t\t\tdisplay = amount.toString().substring(0, 3);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tsuffix = ' gajillion';\n\t\t\t\tdisplay = amount; // yup this will break but *surely* will never happen ;p\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tlet direction = props.direction || 'bottom';\n\n\treturn (\n\t\t<span\n\t\t\tclassName={\n\t\t\t\t'is-size-7-mobile ' +\n\t\t\t\t(props.amount > 999999 ? 'tooltip is-tooltip-' + direction : '')\n\t\t\t}\n\t\t\tdata-tooltip={props.amount + (props.name ? ' ' + props.name : '')}>\n\t\t\t{(props.prefix || '') + display + suffix}{' '}\n\t\t\t{props.icon && <FontAwesome icon={props.icon} />}\n\t\t</span>\n\t);\n};\n\nexport default FriendlyNumber;\n\nFriendlyNumber.propTypes = {\n\tamount: PropTypes.number,\n\tdirection: PropTypes.string,\n\tname: PropTypes.string,\n\ticon: PropTypes.string,\n\tprefix: PropTypes.string,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport jar1t from '../../../resources/images/jar1transinverted.png';\nimport HelpText from './../../shared/help_text';\nimport FontAwesome from '../../shared/font_awesome';\n\nimport MassDeliveryButton from './mass_delivery_button';\nimport FriendlyNumber from '../../shared/friendly_number';\n\nclass ComplexNav extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tburgerActive: false,\n\t\t};\n\n\t\tthis.toggleBurger = this.toggleBurger.bind(this);\n\n\t\tthis.onLinkClicked = this.onLinkClicked.bind(this);\n\t}\n\n\ttoggleBurger() {\n\t\tlet active = !this.state.burgerActive;\n\t\tthis.setState({ burgerActive: active });\n\t}\n\n\tonLinkClicked() {\n\t\tthis.setState({ burgerActive: false });\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tshowMassDeliveryBtn,\n\t\t\tfavours,\n\t\t\tcanMakeTraits,\n\t\t\tonMakeTraitsClicked,\n\t\t\ttotalDelivered,\n\t\t\tproducingPerS,\n\t\t\tdeliveringPerS,\n\t\t\tupgradesAvailable,\n\t\t\ttotalStorageSize,\n\t\t\tbottleNeckedPerSecond,\n\t\t} = this.props;\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<nav\n\t\t\t\t\tid='complexNav'\n\t\t\t\t\tclassName='navbar is-dark is-bold is-fixed-top'\n\t\t\t\t\trole='navigation'\n\t\t\t\t\taria-label='main navigation'>\n\t\t\t\t\t<div className='navbar-brand'>\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\thref='https://enhughesiasm.com'\n\t\t\t\t\t\t\tclassName='navbar-item'\n\t\t\t\t\t\t\tactiveclassname='active'\n\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\trel='noopener noreferrer'>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tonClick={this.onNavLinkClicked}\n\t\t\t\t\t\t\t\tclassName='tooltip is-tooltip-right is-tooltip-info'\n\t\t\t\t\t\t\t\tdata-tooltip='return to enhughesiasm.com'>\n\t\t\t\t\t\t\t\t<h1\n\t\t\t\t\t\t\t\t\tclassName='is-size-1 has-text-weight-bold'\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tfontFamily:\n\t\t\t\t\t\t\t\t\t\t\t'\"Jost*\", \"Helvetica Neue\", Helvetica, Arial, sans-serif',\n\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\te\n\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</a>\n\n\t\t\t\t\t\t<div className='navbar-item is-hidden-desktop'>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName='button is-rounded is-small is-success'\n\t\t\t\t\t\t\t\tdisabled={!canMakeTraits}\n\t\t\t\t\t\t\t\tonClick={onMakeTraitsClicked}>\n\t\t\t\t\t\t\t\tMake Traits\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{this.props.totalDelivered > 0 && (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName='navbar-item favours is-hidden-desktop'\n\t\t\t\t\t\t\t\tactiveclassname='active'>\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tclassName='is-size-7 favourText is-info has-text-weight-bold'\n\t\t\t\t\t\t\t\t\tstyle={{ marginRight: '1.5rem' }}>\n\t\t\t\t\t\t\t\t\t<FriendlyNumber\n\t\t\t\t\t\t\t\t\t\ticon='thumbs-up'\n\t\t\t\t\t\t\t\t\t\tname='Favours'\n\t\t\t\t\t\t\t\t\t\tamount={this.props.favours || 0}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<HelpText\n\t\t\t\t\t\t\t\t\thelpKey='favours'\n\t\t\t\t\t\t\t\t\tdirection='bottom'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t<div className='navbar-item is-hidden-desktop has-text-centered massDeliveryItem'>\n\t\t\t\t\t\t\t{this.props.showMassDeliveryBtn && (\n\t\t\t\t\t\t\t\t<MassDeliveryButton\n\t\t\t\t\t\t\t\t\tonPerformMassDelivery={\n\t\t\t\t\t\t\t\t\t\tthis.props.onPerformMassDelivery\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t'navbar-menu ' +\n\t\t\t\t\t\t\t(this.state.burgerActive ? 'is-active' : '')\n\t\t\t\t\t\t}>\n\t\t\t\t\t\t<div className='navbar-start' style={{}}>\n\t\t\t\t\t\t\t<h2>The Supplier&apos;s Complex</h2>\n\t\t\t\t\t\t\t<div className='navbar-item traitStats is-hidden-mobile is-size-7'>\n\t\t\t\t\t\t\t\t{totalDelivered > 10 && (\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t\t\t'button is-small is-rounded is-' +\n\t\t\t\t\t\t\t\t\t\t\t(this.props.statsActive\n\t\t\t\t\t\t\t\t\t\t\t\t? 'danger'\n\t\t\t\t\t\t\t\t\t\t\t\t: 'light')\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tdata-show='quickview'\n\t\t\t\t\t\t\t\t\t\tdata-target='statsView'\n\t\t\t\t\t\t\t\t\t\tonClick={\n\t\t\t\t\t\t\t\t\t\t\tthis.props.onToggleStatsActive\n\t\t\t\t\t\t\t\t\t\t}>\n\t\t\t\t\t\t\t\t\t\tStatistics\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName='navbar-item upgradesAvailable is-hidden-mobile is-size-7'\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\toverflowWrap: 'break-word',\n\t\t\t\t\t\t\t\t\tmaxWidth: '10rem',\n\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t{totalDelivered > 10 &&\n\t\t\t\t\t\t\t\t\tupgradesAvailable.length > 0 && (\n\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\tpadding:\n\t\t\t\t\t\t\t\t\t\t\t\t\t'0rem 0.5rem 0rem 0.5rem',\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t\t\t\t'notification is-' +\n\t\t\t\t\t\t\t\t\t\t\t\t(upgradesAvailable.length > 1\n\t\t\t\t\t\t\t\t\t\t\t\t\t? upgradesAvailable.length >\n\t\t\t\t\t\t\t\t\t\t\t\t\t  2\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? 'success'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: 'warning'\n\t\t\t\t\t\t\t\t\t\t\t\t\t: 'light')\n\t\t\t\t\t\t\t\t\t\t\t}>\n\t\t\t\t\t\t\t\t\t\t\tUpgrades Available:{' '}\n\t\t\t\t\t\t\t\t\t\t\t{upgradesAvailable.length}{' '}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='navbar-end is-hidden-mobile'>\n\t\t\t\t\t\t\t{totalDelivered > 0 && (\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName='navbar-item successfulDeliveries tooltip is-tooltip-bottom is-tooltip-multiline '\n\t\t\t\t\t\t\t\t\tdata-tooltip={\n\t\t\t\t\t\t\t\t\t\t'Producing: ' +\n\t\t\t\t\t\t\t\t\t\tproducingPerS +\n\t\t\t\t\t\t\t\t\t\t'/s - ' +\n\t\t\t\t\t\t\t\t\t\t'Storing: ' +\n\t\t\t\t\t\t\t\t\t\ttotalStorageSize +\n\t\t\t\t\t\t\t\t\t\t' - Delivering: ' +\n\t\t\t\t\t\t\t\t\t\tdeliveringPerS +\n\t\t\t\t\t\t\t\t\t\t'/s'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tactiveclassname='active'>\n\t\t\t\t\t\t\t\t\t<span className='is-size-7 sdText has-text-weight-bold'>\n\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\talt='a jar'\n\t\t\t\t\t\t\t\t\t\t\tsrc={jar1t}\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\twidth: '25px',\n\t\t\t\t\t\t\t\t\t\t\t\tmarginRight: '.3rem',\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<FriendlyNumber\n\t\t\t\t\t\t\t\t\t\t\tname='Favours'\n\t\t\t\t\t\t\t\t\t\t\tamount={bottleNeckedPerSecond}\n\t\t\t\t\t\t\t\t\t\t/>{' '}\n\t\t\t\t\t\t\t\t\t\t/s\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t{totalDelivered > 0 && (\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName='navbar-item favours is-hidden-mobile'\n\t\t\t\t\t\t\t\t\tactiveclassname='active'>\n\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\tclassName='is-size-7 favourText is-info has-text-weight-bold'\n\t\t\t\t\t\t\t\t\t\tstyle={{ marginRight: '1.5rem' }}>\n\t\t\t\t\t\t\t\t\t\t<FriendlyNumber\n\t\t\t\t\t\t\t\t\t\t\tname='Favours'\n\t\t\t\t\t\t\t\t\t\t\tamount={favours || 0}\n\t\t\t\t\t\t\t\t\t\t\ticon='thumbs-up'\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t<HelpText\n\t\t\t\t\t\t\t\t\t\thelpKey='favours'\n\t\t\t\t\t\t\t\t\t\tdirection='bottom'\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<div className='navbar-item is-hidden-mobile has-text-centered massDeliveryItem'>\n\t\t\t\t\t\t\t\t{showMassDeliveryBtn && (\n\t\t\t\t\t\t\t\t\t<MassDeliveryButton\n\t\t\t\t\t\t\t\t\t\tonPerformMassDelivery={\n\t\t\t\t\t\t\t\t\t\t\tthis.props.onPerformMassDelivery\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{!showMassDeliveryBtn && (\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclassName='hasTextCentered'\n\t\t\t\t\t\t\t\t\t\tstyle={{ width: '100%' }}>\n\t\t\t\t\t\t\t\t\t\t<FontAwesome icon='globe-europe' />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className='navbar-item is-hidden-mobile-only'>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName='button is-rounded is-size-6 is-success'\n\t\t\t\t\t\t\t\t\tdisabled={!this.props.canMakeTraits}\n\t\t\t\t\t\t\t\t\tonClick={this.props.onMakeTraitsClicked}>\n\t\t\t\t\t\t\t\t\tMake Traits\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</nav>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default ComplexNav;\n\nComplexNav.propTypes = {\n\tshowMassDeliveryBtn: PropTypes.bool.isRequired,\n\tfavours: PropTypes.number,\n\tcanMakeTraits: PropTypes.bool.isRequired,\n\tonMakeTraitsClicked: PropTypes.func.isRequired,\n\ttotalDelivered: PropTypes.number.isRequired,\n\tproducingPerS: PropTypes.number.isRequired,\n\tdeliveringPerS: PropTypes.number.isRequired,\n\tupgradesAvailable: PropTypes.array.isRequired,\n\ttotalStorageSize: PropTypes.number.isRequired,\n\tbottleNeckedPerSecond: PropTypes.number.isRequired,\n\tonPerformMassDelivery: PropTypes.func.isRequired,\n\tstatsActive: PropTypes.bool.isRequired,\n\tonToggleStatsActive: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport shopImg from '../../resources/images/shop.jpg';\nimport shelfImg from '../../resources/images/shelves_bw.jpg';\n\nexport default class FirstLoad extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\ttickLengthMs: 10,\n\t\t\tbackgroundX: -210,\n\t\t\tbackgroundY: -450,\n\t\t\tYMoveRate: 0.09,\n\t\t\tmaxY: -100,\n\t\t\tminY: -650,\n\t\t\tYDirection: 'down',\n\t\t\tshopOpacity: 0,\n\t\t\tshelfOpacity: 1,\n\t\t\tsaveData: localStorage.getItem('thesupplierscomplex_save'),\n\t\t};\n\n\t\tthis.tick = this.tick.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.timerID = setInterval(() => this.tick(), this.state.tickLengthMs);\n\t}\n\n\tcomponentWillUnmount() {\n\t\tclearInterval(this.timerID);\n\t}\n\n\ttick() {\n\t\tlet newX = this.state.backgroundX + 0;\n\n\t\tlet direction = this.state.YDirection;\n\n\t\tlet YChange =\n\t\t\tdirection === 'down'\n\t\t\t\t? this.state.YMoveRate * -1\n\t\t\t\t: this.state.YMoveRate;\n\t\tlet newY = this.state.backgroundY + YChange; // (this.state.YDirection =='down' ? this.state.YMoveRate : -this.state.YMoveRate);\n\n\t\tif (newY >= this.state.maxY) {\n\t\t\tdirection = 'down';\n\t\t} else if (newY <= this.state.minY) {\n\t\t\tdirection = 'up';\n\t\t}\n\n\t\tthis.setState({\n\t\t\tbackgroundX: newX,\n\t\t\tbackgroundY: newY,\n\t\t\tYDirection: direction,\n\t\t});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div id='complexFirstLoad' className='modal is-active'>\n\t\t\t\t<div\n\t\t\t\t\tclassName='modal-background has-text-centered'\n\t\t\t\t\tstyle={{ backgroundImage: 'url(' + shelfImg + ')' }}\n\t\t\t\t\tonClick={null}>\n\t\t\t\t\t<h1\n\t\t\t\t\t\tclassName='title is-size-5-mobile'\n\t\t\t\t\t\tstyle={{ marginTop: '0.5rem', marginBottom: '0' }}>\n\t\t\t\t\t\tThe Supplier&apos;s Complex\n\t\t\t\t\t</h1>\n\t\t\t\t\t<p\n\t\t\t\t\t\tclassName='is-size-5 is-size-6-mobile'\n\t\t\t\t\t\tstyle={{ marginTop: '.2rem' }}>\n\t\t\t\t\t\tBased on{' '}\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\thref='https://enhughesiasm.com/sbl'\n\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\trel='noopener noreferrer'>\n\t\t\t\t\t\t\tThe Shop Before Life\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t, by Neil Hughes\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\n\t\t\t\t<div className='modal-content'>\n\t\t\t\t\t<div\n\t\t\t\t\t\tid='firstLoadModal'\n\t\t\t\t\t\tclassName='notification is-primary has-text-centered is-paddingless'\n\t\t\t\t\t\tstyle={{ fontFamily: 'Jost*' }}>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tid='background'\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tbackgroundImage: 'url(' + shopImg + ')',\n\t\t\t\t\t\t\t\tpadding: '1rem 2rem',\n\t\t\t\t\t\t\t\tbackgroundPosition:\n\t\t\t\t\t\t\t\t\tthis.state.backgroundX +\n\t\t\t\t\t\t\t\t\t'px ' +\n\t\t\t\t\t\t\t\t\tthis.state.backgroundY +\n\t\t\t\t\t\t\t\t\t'px',\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t<p className='is-size-5 is-size-6-mobile has-text-weight-bold'>\n\t\t\t\t\t\t\t\tWelcome to the prelife.\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<p className='is-size-5 is-size-6-mobile'>\n\t\t\t\t\t\t\t\t<strong>The Shop Before Life</strong> is the\n\t\t\t\t\t\t\t\tmagical place where all humans choose who to\n\t\t\t\t\t\t\t\tbecome once they&apos;re born on Earth. And\n\t\t\t\t\t\t\t\tManagement have asked you to be the Supplier.\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<p className='is-size-5 is-size-6-mobile'>\n\t\t\t\t\t\t\t\tYour job is to make enough human traits to\n\t\t\t\t\t\t\t\tsupply the Shop.\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<p className='is-size-5 is-size-6-mobile'>\n\t\t\t\t\t\t\t\tUse Favours from Management to grow your\n\t\t\t\t\t\t\t\tbusiness from a tiny one-person enterprise to a{' '}\n\t\t\t\t\t\t\t\t<strong>\n\t\t\t\t\t\t\t\t\tcolossal, chaotic valley-spanning\n\t\t\t\t\t\t\t\t\tmegafactory\n\t\t\t\t\t\t\t\t</strong>\n\t\t\t\t\t\t\t\t.\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<p className='is-size-5 is-size-6-mobile'>\n\t\t\t\t\t\t\t\tGood luck.\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<p className='is-size-7 is-size-7-mobile is-italic'>\n\t\t\t\t\t\t\t\t(Estimated game length: 1—2 hours)\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<br />\n\n\t\t\t\t\t\t\t{/* /* this.state.saveData && <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-evenly'}}> */}\n\n\t\t\t\t\t\t\t{this.state.saveData && (\n\t\t\t\t\t\t\t\t<div className='buttons is-centered'>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tclassName='button is-medium is-rounded is-success'\n\t\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\t\tthis.props.onFirstLoadModalClosed(\n\t\t\t\t\t\t\t\t\t\t\t\tJSON.parse(this.state.saveData)\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tstyle={{ fontFamily: 'Jost*' }}>\n\t\t\t\t\t\t\t\t\t\tContinue\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tclassName='button is-medium is-rounded is-success'\n\t\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\t\tthis.props.onFirstLoadModalClosed(\n\t\t\t\t\t\t\t\t\t\t\t\tnull\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tstyle={{ fontFamily: 'Jost*' }}>\n\t\t\t\t\t\t\t\t\t\tNew Game\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{!this.state.saveData && (\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName='button is-medium is-rounded is-success'\n\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\tthis.props.onFirstLoadModalClosed(null)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tstyle={{ fontFamily: 'Jost*' }}>\n\t\t\t\t\t\t\t\t\tI&apos;m ready\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nFirstLoad.propTypes = {\n\tonFirstLoadModalClosed: PropTypes.func.isRequired,\n};\n","import { useEffect, useRef } from 'react';\n\nexport function create_UUID() {\n\tvar dt = new Date().getTime();\n\tvar uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(\n\t\t/[xy]/g,\n\t\tfunction (c) {\n\t\t\tvar r = (dt + Math.random() * 16) % 16 | 0;\n\t\t\tdt = Math.floor(dt / 16);\n\t\t\treturn (c === 'x' ? r : (r & 0x3) | 0x8).toString(16);\n\t\t}\n\t);\n\treturn uuid;\n}\n\nexport function getHashCode(str) {\n\tvar hash = 0,\n\t\ti,\n\t\tchr;\n\tif (str.length === 0) return hash;\n\tfor (i = 0; i < str.length; i++) {\n\t\tchr = str.charCodeAt(i);\n\t\thash = (hash << 5) - hash + chr;\n\t\thash |= 0; // Convert to 32bit integer\n\t}\n\treturn hash;\n}\n\nexport function useTraceUpdate(props) {\n\tconst prev = useRef(props);\n\tuseEffect(() => {\n\t\tconst changedProps = Object.entries(props).reduce((ps, [k, v]) => {\n\t\t\tif (prev.current[k] !== v) {\n\t\t\t\tps[k] = [prev.current[k], v];\n\t\t\t}\n\t\t\treturn ps;\n\t\t}, {});\n\t\tif (Object.keys(changedProps).length > 0) {\n\t\t\tconsole.log('Changed props:', changedProps);\n\t\t}\n\t\tprev.current = props;\n\t});\n}\n\nexport function orderByMultipleProperties(prop) {\n\tvar args = Array.prototype.slice.call(arguments, 1);\n\treturn function (a, b) {\n\t\tlet equality = 0;\n\t\tif (Number.isInteger(a[prop]) && Number.isInteger(b[prop])) {\n\t\t\tequality = a[prop] - b[prop];\n\t\t} else {\n\t\t\tequality = (a[prop] || '')\n\t\t\t\t.toString()\n\t\t\t\t.localeCompare((b[prop] || '').toString());\n\t\t}\n\t\tif (equality === 0 && arguments.length > 1) {\n\t\t\treturn orderByMultipleProperties.apply(null, args)(a, b);\n\t\t}\n\t\treturn equality;\n\t};\n}\n\nexport function JSON_to_URLEncoded(element, key, list) {\n\tlet l = list || [];\n\tif (typeof element == 'object') {\n\t\tfor (let idx in element)\n\t\t\tJSON_to_URLEncoded(\n\t\t\t\telement[idx],\n\t\t\t\tkey ? key + '[' + idx + ']' : idx,\n\t\t\t\tl\n\t\t\t);\n\t} else {\n\t\tl.push(key + '=' + encodeURIComponent(element));\n\t}\n\treturn l.join('&');\n}\n\nexport function groupBy(array, fnSelectKey) {\n\treturn array.reduce(\n\t\t// eslint-disable-next-line\n\t\t(r, v, i, a, k = fnSelectKey(v)) => ((r[k] || (r[k] = [])).push(v), r),\n\t\t{}\n\t);\n}\n\nexport function submitToAnalytics(action, category, label, value) {\n\tif (window.gtag) {\n\t\twindow.gtag('event', action, {\n\t\t\tevent_category: category,\n\t\t\tevent_label: label || '',\n\t\t\tvalue: value || 0,\n\t\t});\n\t}\n}\n\nexport function unloadBuyMeACoffeeWidget() {\n\tlet n = document.getElementById('bmc-wbtn');\n\n\tif (n) {\n\t\tlet s = n.nextElementSibling;\n\t\tif (s && s.innerText.indexOf('coffee')) {\n\t\t\ts.remove();\n\t\t}\n\t\tn.remove();\n\t}\n}\n\nexport const addBodyClass = (className) =>\n\tdocument.body.classList.add(className);\nexport const removeBodyClass = (className) =>\n\tdocument.body.classList.remove(className);\nexport const hasBodyClass = (className) =>\n\tdocument.body.classList.contains(className);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport shopImg from '../../resources/images/shop.jpg';\nimport moment from 'moment';\nimport { submitToAnalytics } from '../shared/functions';\n\nexport default class WinScreen extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\ttickLengthMs: 10,\n\t\t\tbackgroundX: -350,\n\t\t\tbackgroundY: -500,\n\t\t\tYMoveRate: 0,\n\t\t\tmaxY: -100,\n\t\t\tminY: -1000,\n\t\t\tYDirection: 'down',\n\t\t};\n\n\t\tthis.tick = this.tick.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.timerID = setInterval(() => this.tick(), this.state.tickLengthMs);\n\t\tlet seconds = Math.floor(\n\t\t\tNumber.parseFloat(this.props.gameWinTime?.asSeconds())\n\t\t);\n\t\tsubmitToAnalytics('win', 'complex', 'time_seconds', seconds);\n\t}\n\n\tcomponentWillUnmount() {\n\t\tclearInterval(this.timerID);\n\t}\n\n\ttick() {\n\t\tlet newX = this.state.backgroundX + 0;\n\n\t\tlet direction = this.state.YDirection;\n\n\t\tlet YChange =\n\t\t\tdirection === 'down'\n\t\t\t\t? this.state.YMoveRate * -1\n\t\t\t\t: this.state.YMoveRate;\n\t\tlet newY = this.state.backgroundY + YChange; // (this.state.YDirection =='down' ? this.state.YMoveRate : -this.state.YMoveRate);\n\n\t\tif (newY >= this.state.maxY) {\n\t\t\tdirection = 'down';\n\t\t} else if (newY <= this.state.minY) {\n\t\t\tdirection = 'up';\n\t\t}\n\n\t\tthis.setState({\n\t\t\tbackgroundX: newX,\n\t\t\tbackgroundY: newY,\n\t\t\tYDirection: direction,\n\t\t});\n\t}\n\n\trender() {\n\t\tconst { gameWinTime } = this.props;\n\n\t\tlet timeLived = moment.duration(0);\n\n\t\tif (gameWinTime) {\n\t\t\ttimeLived = moment.duration(\n\t\t\t\t(gameWinTime.asSeconds() * 0.006 * gameWinTime.asMinutes()) /\n\t\t\t\t\t1.8,\n\t\t\t\t'years'\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<div className='modal is-active'>\n\t\t\t\t<div\n\t\t\t\t\tclassName='modal-background'\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tbackgroundImage: 'url(' + shopImg + ')',\n\t\t\t\t\t\tbackgroundRepeat: 'no-repeat',\n\t\t\t\t\t\tbackgroundPositionY: -700 + 'px',\n\t\t\t\t\t\tbackgroundSize: 'cover',\n\t\t\t\t\t}}></div>\n\t\t\t\t{/* <div className=\"pyro is-fixed-top\" >\n\t\t\t\t<div className=\"before\"></div>\n\t\t\t\t<div className=\"after\"></div>\n\t\t\t</div> */}\n\t\t\t\t<div className='modal-content'>\n\t\t\t\t\t<div\n\t\t\t\t\t\tid='winScreenModal'\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tbackground: 'linear-gradient(#777, #8D516A) ',\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tclassName='notification is-primary has-text-centered'>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName='delete'\n\t\t\t\t\t\t\tonClick={this.props.onWinScreenClosed}>\n\t\t\t\t\t\t\tx\n\t\t\t\t\t\t</button>\n\n\t\t\t\t\t\t<h1 className='is-size-5 is-size-6-mobile has-text-weight-bold'>\n\t\t\t\t\t\t\tSo, this is Earth...\n\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<p className='is-size-5 is-size-6-mobile'>\n\t\t\t\t\t\t\tIt took you roughly {gameWinTime.humanize()}—\n\t\t\t\t\t\t\t<strong>\n\t\t\t\t\t\t\t\t{moment\n\t\t\t\t\t\t\t\t\t.utc(gameWinTime?.asMilliseconds())\n\t\t\t\t\t\t\t\t\t.format('HH:mm:ss')}\n\t\t\t\t\t\t\t</strong>{' '}\n\t\t\t\t\t\t\texactly—of Earth time to gather the courage to leave\n\t\t\t\t\t\t\tthe Complex behind and see what &quot;life&quot; is\n\t\t\t\t\t\t\tall about.\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<p className='is-size-6 is-size-7-mobile'>\n\t\t\t\t\t\t\t(In the process, you spent {timeLived.humanize()} in\n\t\t\t\t\t\t\tthe prelife.)\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<p className='is-size-6  is-size-7-mobile'>\n\t\t\t\t\t\t\tYou left behind quite a mess of construction, but at\n\t\t\t\t\t\t\tleast the Shop is always going to be well-supplied\n\t\t\t\t\t\t\twith traits.\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<p className='is-size-6  is-size-7-mobile'>\n\t\t\t\t\t\t\tMaybe you&apos;ll miss the factory you spent so long\n\t\t\t\t\t\t\tbuilding... but after all these centuries, a new\n\t\t\t\t\t\t\tadventure beckons.\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<hr />\n\t\t\t\t\t\t<p className='is-size-6 is-size-7-mobile'>\n\t\t\t\t\t\t\tThanks for playing! I hope you had fun.\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<p className='is-size-6 is-size-7-mobile'>\n\t\t\t\t\t\t\tIf you&apos;d like to say hi, please do:{' '}\n\t\t\t\t\t\t\t<strong>complex@walkingoncustard.com</strong>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\thref='https://enhughesiasm.com/sbl'\n\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\trel='noopener noreferrer'>\n\t\t\t\t\t\t\t\t<button className='button is-size-6-mobile is-medium is-success'>\n\t\t\t\t\t\t\t\t\tYou can explore the prelife further in\n\t\t\t\t\t\t\t\t\t&apos;The Shop Before Life&apos;\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName='button is-medium  is-size-6-mobile is-info'\n\t\t\t\t\t\t\t\tonClick={this.props.onWinScreenClosed}>\n\t\t\t\t\t\t\t\tOr return to the Factory\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nWinScreen.propTypes = {\n\tgameWinTime: PropTypes.object.isRequired,\n\tonWinScreenClosed: PropTypes.func.isRequired,\n};\n","// pos + pref + NEGATIVES = 1\nconst positiveFraction = .6;\nconst preferencesFraction = .25;\n\n// additionally:\nconst adjectiveFraction = 0.75;\nconst preferenceAdjectiveFraction = 0.25;\n\nconst positives = ['Adventurous','Helpful','Affable',\t'Humble','Capable',\t'Imaginative','Charming', 'Impartial','Confident','Independent','Conscientious',\n\t'Keen','Cultured',\t'Meticulous','Dependable','Observant','Discreet','Optimistic','Dutiful','Persistent','Encouraging'\n\t,'Precise','Exuberant',\t'Reliable','Fair','Sociable','Fearless','Trusting','Gregarious','Valiant','Accessible',\n\t'Attractive',\n\t'Intriguing',\n\t'Loves Cats',\n\t'Mathematically Skilled',\n\t'Good with words',\n\t'Computer Savvy',\n\t'ecstatic',\n\t'colossal',\n\t'intimidating',\n\t'phenomenal',\n\t'adores biscuits',\n\t'addicted to cheese',\n\t'Active',\n\t'Adaptable',\n\t'Admirable',\n\t'Adventurous',\n\t'Agreeable',\n\t'Hopeful',\n\t'Optimistic',\n\t'Alert',\n\t'Legendary',\n\t'Meaty',\n\t'Cosmic',\n\t'People-centric',\n\t'Amiable',\n\t'Anticipative',\n\t'Appreciative',\n\t'Articulate',\n\t'Aspiring',\n\t'Athletic',\n\t'Attractive',\n\t'Balanced',\n\t'Benevolent',\n\t'Brilliant',\n\t'Calm',\n\t'Capable',\n\t'Captivating',\n\t'Caring',\n\t'Challenging',\n\t'Charismatic',\n\t'Charming',\n\t'Cheerful',\n\t'Clean',\n\t'Clear-headed',\n\t'Clever',\n\t'Colourful',\n\t'Compassionate',\n\t'Conciliatory',\n\t'Confident',\n\t'Conscientious',\n\t'Considerate',\n\t'Constant',\n\t'Contemplative',\n\t'Cooperative',\n\t'Courageous',\n\t'Courteous',\n\t'Creative',\n\t'Cultured',\n\t'Curious',\n\t'Daring',\n\t'Debonair',\n\t'Decent',\n\t'Decisive',\n\t'Dedicated',\n\t'Deep',\n\t'Dignified',\n\t'Directed',\n\t'Disciplined',\n\t'Discreet',\n\t'Dramatic',\n\t'Dutiful',\n\t'Dynamic',\n\t'Earnest',\n\t'Ebullient',\n\t'Educated',\n\t'Efficient',\n\t'Elegant',\n\t'Eloquent',\n\t'Empathetic',\n\t'Energetic',\n\t'Enthusiastic',\n\t'Fair',\n\t'Exciting',\n\t'Extraordinary',\n\t'Far-sighted',\n\t'Faithful',\n\t'Lucky',\n\t'Firm',\n\t'Flexible',\n\t'Focussed',\n\t'Forceful',\n\t'Forgiving',\n\t'Forthright',\n\t'Freethinking',\n\t'Friendly',\n\t'Fun-loving',\n\t'Gallant',\n\t'Generous',\n\t'Gentle',\n\t'Genuine',\n\t'Good-natured',\n\t'Gracious',\n\t'Hardworking',\n\t'Healthy',\n\t'Hearty',\n\t'Helpful',\n\t'Heroic',\n\t'High-minded',\n\t'Honest',\n\t'Honorable',\n\t'Humble',\n\t'Humorous',\n\t'Idealistic',\n\t'Imaginative',\n\t'Impressive',\n\t'Incisive',\n\t'Incorruptible',\n\t'Independent',\n\t'Individualistic',\n\t'Innovative',\n\t'Inoffensive',\n\t'Insightful',\n\t'Insouciant',\n\t'Intelligent',\n\t'Intuitive',\n\t'Invulnerable',\n\t'Kind',\n\t'Filled with Knowledge',\n\t'Leaderly',\n\t'Leisurely',\n\t'Liberal',\n\t'Logical',\n\t'Lovable',\n\t'Loyal',\n\t'Lyrical',\n\t'Magnanimous',\n\t'Many-sided',\n\t'Mature',\n\t'Methodical',\n\t'Meticulous',\n\t'Moderate',\n\t'Modest',\n\t'Multi-leveled',\n\t'Neat',\n\t'Anti-authoritarian',\n\t'Objective',\n\t'Observant',\n\t'Open',\n\t'Optimistic',\n\t'Orderly',\n\t'Organised',\n\t'Original',\n\t'Painstaking',\n\t'Passionate',\n\t'Patient',\n\t'Patriotic',\n\t'Peaceful',\n\t'Perceptive',\n\t'Perfectionist',\n\t'Personable',\n\t'Persuasive',\n\t'Planful',\n\t'Playful',\n\t'Polished',\n\t'Popular',\n\t'Practical',\n\t'Precise',\n\t'Principled',\n\t'Profound',\n\t'Protean',\n\t'Protective',\n\t'Providential',\n\t'Prudent',\n\t'Punctual',\n\t'Purposeful',\n\t'Rational',\n\t'Realistic',\n\t'Reflective',\n\t'Relaxed',\n\t'Reliable',\n\t'Resourceful',\n\t'Respectful',\n\t'Responsible',\n\t'Responsive',\n\t'Reverential',\n\t'Romantic',\n\t'Rustic',\n\t'Sage',\n\t'Scholarly',\n\t'Scrupulous',\n\t'Secure',\n\t'Selfless',\n\t'Self-critical',\n\t'Self-defacing',\n\t'Self-denying',\n\t'Self-reliant',\n\t'Self-sufficent',\n\t'Sensitive',\n\t'Sentimental',\n\t'Seraphic',\n\t'Serious',\n\t'Sexy',\n\t'Shrewd',\n\t'Simple',\n\t'Skillful',\n\t'Sober',\n\t'Sociable',\n\t'Solid',\n\t'Sophisticated',\n\t'Spontaneous',\n\t'Sporting',\n\t'Stable',\n\t'Steadfast',\n\t'Steady',\n\t'Stoic',\n\t'Strong',\n\t'Studious',\n\t'Suave',\n\t'Subtle',\n\t'Sweet',\n\t'Sympathetic',\n\t'Systematic',\n\t'Tasteful',\n\t'Teacherly',\n\t'Thorough',\n\t'Tidy',\n\t'Tolerant',\n\t'Tractable',\n\t'Trusting',\n\t'Uncomplaining',\n\t'Understanding',\n\t'Undogmatic',\n\t'Late',\n\t'Upright',\n\t'Urbane',\n\t'Venturesome',\n\t'Vivacious',\n\t'Warm',\n\t'Well-bred',\n\t'Well-read',\n\t'Well-rounded',\n\t'Winning',\n\t'Wise',\n\t'Witty',\n\t'Youthful',\n\t'Absentminded',\n\t'Aggressive',\n\t'Ambitious',\n\t'Amusing',\n\t'Artful',\n\t'Ascetic',\n\t'Authoritarian',\n\t'Big-thinking',\n\t'Breezy',\n\t'Businesslike',\n\t'Busy',\n\t'Casual',\n\t'Cerebral',\n\t'Chummy',\n\t'Circumspect',\n\t'Competitive',\n\t'Complex',\n\t'Confidential',\n\t'Conservative',\n\t'Contradictory',\n\t'Crisp',\n\t'Cute',\n\t'Deceptive',\n\t'Determined',\n\t'Dominating',\n\t'Dreamy',\n\t'Driving',\n\t'Droll',\n\t'Dry',\n\t'Earthy',\n\t'Emotional',\n\t'Enigmatic',\n\t'Experimental',\n\t'Familial',\n\t'Folksy',\n\t'Formal',\n\t'Freewheeling',\n\t'Frugal',\n\t'Glamorous',\n\t'Guileless',\n\t'High-spirited',\n\t'Hurried',\n\t'Hypnotic',\n\t'Iconoclastic',\n\t'Idiosyncratic',\n\t'Impassive',\n\t'Impersonal',\n\t'Impressionable',\n\t'Intense',\n\t'Invisible',\n\t'Irreligious',\n\t'Irreverent',\n\t'Maternal',\n\t'Mellow',\n\t'Modern',\n\t'Moralistic',\n\t'Mystical',\n\t'Neutral',\n\t'Noncommittal',\n\t'Noncompetitive',\n\t'Obedient',\n\t'Old-fashioned',\n\t'Ordinary',\n\t'Outspoken',\n\t'Paternalistic',\n\t'Physical',\n\t'Placid',\n\t'Political',\n\t'Predictable',\n\t'Preoccupied',\n\t'Private',\n\t'Progressive',\n\t'Proud',\n\t'Pure',\n\t'Questioning',\n\t'Quiet',\n\t'Religious',\n\t'Reserved',\n\t'Restrained',\n\t'Retiring',\n\t'Sarcastic',\n\t'Self-conscious',\n\t'Sensual',\n\t'Skeptical',\n\t'Smooth',\n\t'Soft',\n\t'Solemn',\n\t'Solitary',\n\t'Stern',\n\t'Stolid',\n\t'Strict',\n\t'Stubborn',\n\t'Stylish',\n\t'Subjective',\n\t'Surprising',\n\t'Soft',\n\t'Tough',\n\t'Unaggressive',\n\t'Unambitious',\n\t'Unceremonious',\n\t'Unchanging',\n\t'Undemanding',\n\t'Unfathomable',\n\t'Unhurried',\n\t'Uninhibited',\n\t'Unpatriotic',\n\t'Unpredictable',\n\t'Unsentimental',\n\t'Whimsical',];\n\nconst negatives = [\n\t'Abrasive',\n\t'Abrupt',\n\t'Aimless',\n\t'Airy',\n\t'Aloof',\n\t'Amoral',\n\t'Angry',\n\t'Anxious',\n\t'Apathetic',\n\t'Arbitrary',\n\t'Argumentative',\n\t'Arrogant',\n\t'Artificial',\n\t'Asocial',\n\t'Assertive',\n\t'Astigmatic',\n\t'Barbaric',\n\t'Bewildered',\n\t'Bizarre',\n\t'Bland',\n\t'Blunt',\n\t'Boisterous',\n\t'Brittle',\n\t'Brutal',\n\t'Calculating',\n\t'Callous',\n\t'Cantankerous',\n\t'Careless',\n\t'Cautious',\n\t'Charmless',\n\t'Childish',\n\t'Clumsy',\n\t'Coarse',\n\t'Cold',\n\t'Colourless',\n\t'Complacent',\n\t'Compulsive',\n\t'Conceited',\n\t'Condemnatory',\n\t'Conformist',\n\t'Confused',\n\t'Contemptible',\n\t'Conventional',\n\t'Cowardly',\n\t'Crafty',\n\t'Crass',\n\t'Crazy',\n\t'Criminal',\n\t'Critical',\n\t'Crude',\n\t'Cruel',\n\t'Cynical',\n\t'Decadent',\n\t'Deceitful',\n\t'Delicate',\n\t'Demanding',\n\t'Dependent',\n\t'Desperate',\n\t'Destructive',\n\t'Devious',\n\t'Difficult',\n\t'Dirty',\n\t'Disconcerting',\n\t'Discontented',\n\t'Discouraging',\n\t'Discourteous',\n\t'Dishonest',\n\t'Disloyal',\n\t'Disobedient',\n\t'Disorderly',\n\t'Disorganised',\n\t'Disrespectful',\n\t'Disruptive',\n\t'Distractible',\n\t'Disturbing',\n\t'Dogmatic',\n\t'Domineering',\n\t'Dull',\n\t'Discouraged',\n\t'Egocentric',\n\t'Envious',\n\t'Erratic',\n\t'Escapist',\n\t'Excitable',\n\t'Extravagant',\n\t'Extreme',\n\t'Faithless',\n\t'False',\n\t'Fanatical',\n\t'Fanciful',\n\t'Fatalistic',\n\t'Fawning',\n\t'Fearful',\n\t'Fickle',\n\t'Fiery',\n\t'Fixed',\n\t'Flamboyant',\n\t'Foolish',\n\t'Forgetful',\n\t'Fraudulent',\n\t'Frightening',\n\t'Frivolous',\n\t'Gloomy',\n\t'Graceless',\n\t'Grand',\n\t'Greedy',\n\t'Grim',\n\t'Gullible',\n\t'Hateful',\n\t'Haughty',\n\t'Hedonistic',\n\t'Hesitant',\n\t'High-handed',\n\t'Hostile',\n\t'Ignorant',\n\t'Imitative',\n\t'Impatient',\n\t'Impractical',\n\t'Impudent',\n\t'Impulsive',\n\t'Inconsiderate',\n\t'Incurious',\n\t'Indecisive',\n\t'Indulgent',\n\t'Inert',\n\t'Inhibited',\n\t'Insecure',\n\t'Insensitive',\n\t'Insincere',\n\t'Insulting',\n\t'Intolerant',\n\t'Irascible',\n\t'Irrational',\n\t'Irresponsible',\n\t'Irritable',\n\t'Lazy',\n\t'Libidinous',\n\t'Loquacious',\n\t'Malicious',\n\t'Mannered',\n\t'Mannerless',\n\t'Mawkish',\n\t'Mealy-mouthed',\n\t'Mechanical',\n\t'Meddlesome',\n\t'Melancholic',\n\t'Messy',\n\t'Miserable',\n\t'Miserly',\n\t'Misguided',\n\t'Mistaken',\n\t'Monstrous',\n\t'Moody',\n\t'Morbid',\n\t'Muddle-headed',\n\t'Naive',\n\t'Narcissistic',\n\t'Narrow',\n\t'Narrow-minded',\n\t'Negative',\n\t'Neglectful',\n\t'Neurotic',\n\t'Nihilistic',\n\t'Obnoxious',\n\t'Obsessive',\n\t'Obvious',\n\t'Odd',\n\t'Offhanded',\n\t'One-dimensional',\n\t'One-sided',\n\t'Opinionated',\n\t'Opportunistic',\n\t'Oppressed',\n\t'Outrageous',\n\t'Overimaginative',\n\t'Paranoid',\n\t'Passive',\n\t'Pedantic',\n\t'Perverse',\n\t'Petty',\n\t'Phlegmatic',\n\t'Plodding',\n\t'Pompous',\n\t'Possessive',\n\t'Power-hungry',\n\t'Predatory',\n\t'Prejudiced',\n\t'Presumptuous',\n\t'Pretentious',\n\t'Prim',\n\t'Procrastinating',\n\t'Provocative',\n\t'Puritanical',\n\t'Quirky',\n\t'Reactionary',\n\t'Reactive',\n\t'Regimental',\n\t'Regretful',\n\t'Repentant',\n\t'Repressed',\n\t'Resentful',\n\t'Ridiculous',\n\t'Rigid',\n\t'Ritualistic',\n\t'Rowdy',\n\t'Ruined',\n\t'Sadistic',\n\t'Sanctimonious',\n\t'Scheming',\n\t'Scornful',\n\t'Secretive',\n\t'Sedentary',\n\t'Selfish',\n\t'Self-indulgent',\n\t'Shallow',\n\t'Shortsighted',\n\t'Shy',\n\t'Silly',\n\t'Single-minded',\n\t'Sloppy',\n\t'Slow',\n\t'Sly',\n\t'Small-thinking',\n\t'Softheaded',\n\t'Sordid',\n\t'Steely',\n\t'Stiff',\n\t'Strong-willed',\n\t'Stupid',\n\t'Submissive',\n\t'Superficial',\n\t'Superstitious',\n\t'Suspicious',\n\t'Tactless',\n\t'Tasteless',\n\t'Tense',\n\t'Thievish',\n\t'Thoughtless',\n\t'Timid',\n\t'Transparent',\n\t'Treacherous',\n\t'Trendy',\n\t'Troublesome',\n\t'Unappreciative',\n\t'Uncaring',\n\t'Uncharitable',\n\t'Unconvincing',\n\t'Uncooperative',\n\t'Uncreative',\n\t'Uncritical',\n\t'Undisciplined',\n\t'Unfriendly',\n\t'Ungrateful',\n\t'Hopeful',\n\t'Unimaginative',\n\t'Unimpressive',\n\t'Unpolished',\n\t'Unprincipled',\n\t'Unrealistic',\n\t'Unreflective',\n\t'Unreliable',\n\t'Unrestrained',\n\t'Stable,',\n\t'Scientific',\n\t'Vacuous',\n\t'Vague',\n\t'Venomous',\n\t'Vindictive',\n\t'Vulnerable',\n\t'Weak',\n\t'Weak-willed',\n\t'Well-meaning',\n\t'Willful',\n\t'Wishful',\n\t'Zany',\n\t'Happy-go-lucky'\n];\n\nconst preferenceVerbs = ['Likes ',  'Allergic to ', 'Addicted to ', 'Hates ', 'Prefers ', 'Quite likes ',\n\t'Adores ', 'Resists ', 'Avoids ', 'Pleased by ', 'Repulsed by ', 'Despises ', 'Craves ',\n\t'Fascinated by ', 'Intrigued by ', 'Curious about ', 'Studies ',\n\t'Thinks of ', 'Dreams of ', 'Often Googles ', 'Fan of ', 'Admires ', 'Cherishes ', 'Loathes ', 'Shuns ', 'Yearns for ', 'Desires ',\n\t'Longs for ', 'Hungers for ', 'Wants ', 'Seeks ',\n\t'Neutral about ', 'Doesn\\'t care for ', 'Indifferent to ', 'Talks about ', 'Obsessed with ',\n\t'Interested in ', 'Believes in ', 'Hopes for ', 'Wishes for '];\n\nconst nouns = ['cows', 'soap operas', 'reality tv', 'documentaries',\n\t'jokes', 'bad jokes', 'comedy', 'depth perception', 'scuba diving', 'hair',\n\t'parties', 'mountains', 'dancing', 'running', 'mints', 'buttons',\n\t'shoes', 'clothes', 'makeup', 'gloves', 'magic', 'the environment', 'growth', 'kittens', 'bees', 'markets',\n\t'learning', 'education', 'teaching', 'mathematics', 'chemistry', 'guitars',\n\t'languages', 'painting','drawing','thinking', 'lighting',\n\t'jungles', 'forests', 'deserts', 'beaches', 'pies', 'dessert',\n\t'elephants', 'mice', 'badgers', 'parkour', 'aardvarks', 'pizza',\n\t'hippos', 'food', 'shopping', 'the news',\n\t'singing','songs', 'music','gymnastics', 'climbing',\n\t'athletics', 'meditating',\n\t'social media', 'sightseeing', 'travelling', 'writing', 'bathing',\n\t'accountancy', 'the law', 'zoos', 'theme parks',\n\t'museums', 'art galleries', 'hugging', 'shaking hands', 'talking', 'new people', 'speaking', 'performing',\n\t'meetings', 'committees', 'coffee', 'hamsters', 'swimming',\n\t'running', 'walking','stretching','sneezing','coughing',\n\t'armadillos','lions', 'crocodiles', 'rams', 'chickens', 'contests', 'ants', 'insects', 'gerbils', 'moles',\n\t'pirates', 'water parks', 'cartoons', 'diving', 'the olympics', 'skincare', 'showering', 'old movies',\n\t'snakes', 'peace', 'conflict', 'bananas', 'cookies', 'noodles', 'cheesy music', 'tv quizzes', 'round things',\n\t'straight lines', 'abstract art', 'abstract concepts', 'philosophy', 'long books', 'easy things', 'challenges',\n\t'dares', 'truth or dare', 'daydreaming', 'telling stories', 'composing music', 'building', 'engineering',\n\t'truthfulness', 'clowns', 'airports', 'train stations', 'caves', 'furniture', 'camping', 'rabbits',\n\t'vegetables', 'fruit', 'apples', 'work',  'leisure', 'carpentry',\n\t'pasta', 'cheese', 'burgers', 'animals', 'dogs', 'cats', 'ducks', 'frogs', 'birds', 'maps',\n\t'meat', 'music', 'people', 'history', 'geography', 'science',\n\t'biology', 'clouds', 'water','oceans', 'tomatoes', 'potatoes', 'teapots', 'dry food', 'hot food', 'cold food', 'sushi',\n\t'television','boats', 'trains','friendship', 'houses', 'cities',\n\t'the countryside', 'pubs', 'competition', 'acknowledgement', 'recognition', 'salad', 'property',\n\t'restaurants', 'tea', 'snacks', 'gardens', 'cars','horses',\n\t'goats','tricyles','birds','knowledge','power','computers','art',\n\t'libraries','parks','movies','relationships','fish','politics',\n\t'eggs','lettuce','sheep','trees','plants', 'seeds', 'flowers','football',\n\t'sports','rugby','cricket','basketball','love','books','games', 'cider', 'grapes'];\n\nconst adjectives = [\n\t'Intrinsically ', 'Masterfully ', 'Expertly ', 'Adeptly ', 'Keenly ', 'Enthusiastically ', 'Uniquely ', 'Exceedingly ', 'Notably ',\n\t'Outstandingly ', 'Surprisingly ', 'Very ', 'Extremely ', 'Rather ', 'Partly ', 'Sort of ', 'Hardly ', 'A bit ',\n\t'A little ', 'Really ', 'Truly ', 'Somewhat ',  'Just ', 'Merely ', 'A touch of ', 'Always ', 'Remarkably ',\n\t'Amazingly ', 'Exceptionally ', 'Unusually ', 'Incredibly ', 'Particularly ', 'Terribly ', 'Totally ', 'Utterly ',\n\t'Completely ', 'Absolutely ', 'Quite ', 'Fantastically ', 'Intriguingly ', 'Dangerously ', 'Dreadfully ', 'Seriously ','Highly ',\n\t'Bitterly ', 'Cautiously ', 'Actually ', 'Deeply ', 'Absolutely ', 'Slightly ', 'Marginally ',\n\t'Worryingly ', 'Concerningly ', 'Inspirationally '\n];\n\nfunction getAdjective(fraction){\n\treturn (Math.random() < fraction ?\tadjectives[Math.floor(Math.random() * adjectives.length)]\n\t\t: '');\n}\n\nexport function getTraitName(){\n\n\tlet x = Math.random();\n\tlet trait = 'NEUTRAL';\n\tif(x < positiveFraction){\n\t\ttrait = getAdjective(adjectiveFraction) + positives[Math.floor(Math.random() * positives.length)];\n\t}else if (x < positiveFraction + preferencesFraction){\n\t\ttrait = getAdjective(preferenceAdjectiveFraction) + preferenceVerbs[Math.floor(Math.random() * preferenceVerbs.length)]\n\t\t\t\t+ nouns[Math.floor(Math.random() * nouns.length)];\n\t}else{\n\t\ttrait = getAdjective(adjectiveFraction) + negatives[Math.floor(Math.random() * negatives.length)];\n\t}\n\n\treturn trait;\n}","const upgradesKeys = {\n\n\t// EMPLOYEES\n\tPRODUCTION_EFFICIENCY: 'prodefficiency',\n\tDELIVERY_GENIUS: 'deliverygenius',\n\n\t// production_employee\n\tLABOUR_TRAINING:'Labour Training',\n\tADVANCED_CRAFTING:'Advanced Crafting Lessons',\n\tARTISANS: 'Artisanal Traitmaking Seminars',\n\n\t// DELIVERY\n\tBUILD_ROAD: 'build road',\n\tSTACKABLE_CRATES: 'stackable crates',\n\tINVENT_CRANES: 'invent cranes',\n\tHIGH_SPEED_TRAINS: 'HIGH_SPEED_TRAINS',\n\n\t// delivery_employee\n\tHORSES: 'horses',\n\tWAGONS: 'Wagons & Wheels',\n\tHUMUNGOUS_WAGONS:'Humungous Wagons',\n\tTRAINS: 'Invent Trains',\n\n\n\t// builder_employee\n\tCONSTRUCTION_101: 'Construction 101',\n\tCONSTRUCTION_INT: 'Intermediate Construction',\n\tCONSTRUCTION_ADV: 'Advanced Construction Techniques',\n\n\t// STORAGE\n\tBOX_1: 'A Box',\n\tBOX_2: 'A Second Box',\n\tBOX_3: 'A Third Box',\n\tBOX_4: 'A Fourth Box',\n\tBOX_BIGGER: 'Bigger Boxes',\n\tBOX_CRATES: 'Crates',\n\tSHED: 'A Shed',\n\tSTANDARDISED_JARS: 'Standardised Jars',\n\tVERTICAL_STACKING: 'Vertical Stacking',\n\tMORE_LAND: 'More land',\n\tCONTAINERISATION: 'Containerisation',\n\tAUTOMATED_PIPE_NETWORK: 'AUTOMATED_PIPE_NETWORK',\n\n\t// MAKING\n\tWORKBENCH: 'A Workbench',\n\tTOOLS: 'Some Tools',\n\tGLASSBLOWING: 'Actual glassblowing equipment',\n\tLABELS: 'Label Applicators',\n\tLABEL_ROLLS: 'Industrial Label Rolls',\n\tTRAIT_SYNTHESIS: 'Better Trait Synthesis',\n\tTURBO_PRODUCTION: 'Turbo Production',\n\n\t// SPECIAL\n\tINVENT_MACHINERY: 'INVENT_MACHINERY',\n\tTALES_OF_THE_PRELIFE: 'TALES_OF_THE_PRELIFE',\n\tWONDER_ABOUT_LIFE: 'WONDER_ABOUT_LIFE',\n\tWORK_SATISFACTION: 'WORK_SATISFACTION',\n\tVISIT_THE_SHOP: 'VISIT_THE_SHOP',\n\tLEAVE_FOR_EARTH: 'LEAVE_FOR_EARTH',\n\n\t// MACHINES\n\tBETTER_MACHINERY: 'Better Machinery',\n\tEVEN_BETTER_MACHINERY: 'Even Better Machinery',\n\tMORE_EFFICIENT_MACHINERY: 'More efficient machinery',\n\tCHEAPER_MATERIALS: 'Cheaper Materials',\n\tSMARTER_CONSTRUCTION_METHODS: 'Smarter Construction Methods',\n\tEVEN_BETTERER_MACHINERY: 'Even Betterer Machinery',\n\tEVEN_BETTERERER_MACHINERY: 'Even Bettererer Machinery',\n\tUNIMAGINABLE_MACHINERY: 'Unimaginable Machinery',\n\tSELF_REPLICATING_MACHINES: 'SELF_REPLICATING_MACHINES',\n\tFLEXIBLE_MACHINERY: 'FLEXIBLE_MACHINERY'\n\n};\n\nexport default upgradesKeys;","import upgradesKeys from './upgrades_keys';\n\n\nconst makingUpgrades = [\n\t{\n\t\tkey: upgradesKeys.WORKBENCH,\n\t\t'name': 'A Workbench',\n\t\t'description': 'It\\'d be nice not to work on the floor anymore.',\n\t\t'explanation': '\"Make Traits\" becomes a little faster.',\n\t\ticon: 'shapes',\n\t\tcost: 2,\n\t\tunlocked: true,\n\t\tunlockedAtTraitsDelivered: 1,\n\t\tapply: function(traitsState){\n\t\t\ttraitsState.makeRateMultiplier += 0.5;\n\t\t\ttraitsState.getUpgradeByKey(upgradesKeys.TOOLS).unlocked = true;\n\t\t}\n\t},\n\t{\n\t\tkey: upgradesKeys.TOOLS,\n\t\t'name': 'Some Tools',\n\t\t'description': 'Creating glass with your bare hands is getting painful.',\n\t\t'explanation': '\"Make Traits\" becomes a little faster.',\n\t\ticon: 'tools',\n\t\tcost: 3,\n\t\tunlocked: false,\n\t\tunlockedAtTraitsDelivered: 3,\n\t\tapply: function(traitsState){\n\t\t\ttraitsState.makeRateMultiplier += 0.25;\n\t\t\ttraitsState.getUpgradeByKey(upgradesKeys.GLASSBLOWING).unlocked = true;\n\t\t}\n\t},\n\t{\n\t\tkey: upgradesKeys.GLASSBLOWING,\n\t\t'name': 'Actual glassblowing equipment',\n\t\t'description': 'This is how the pros do it.',\n\t\t'explanation': '\"Make Traits\" becomes a little faster.',\n\t\ticon: 'wine-glass',\n\t\tcost: 5,\n\t\tunlocked: false,\n\t\tunlockedAtTraitsDelivered: 20,\n\t\tapply: function(traitsState){\n\t\t\ttraitsState.makeRateBase *= 1.5;\n\t\t\ttraitsState.getUpgradeByKey(upgradesKeys.LABELS).unlocked = true;\n\t\t}\n\t},\n\t{\n\t\tkey: upgradesKeys.LABELS,\n\t\t'name': 'Label Applicators',\n\t\t'description': 'You\\'re starting to hate picking the corners of these horrible sticky labels.',\n\t\t'explanation': '\"Make Traits\" becomes a little faster.',\n\t\ticon: 'tags',\n\t\tcost: 10,\n\t\tunlocked: false,\n\t\tunlockedAtTraitsDelivered: 35,\n\t\tapply: function(traitsState){\n\t\t\ttraitsState.makeRateBase *= 1.5;\n\t\t\ttraitsState.getUpgradeByKey(upgradesKeys.TRAIT_SYNTHESIS).unlocked = true;\n\t\t}\n\t},\n\t{\n\t\tkey: upgradesKeys.TRAIT_SYNTHESIS,\n\t\t'name': 'Better Trait Synthesis',\n\t\t'description': 'Create twice as many traits at once with your own hands.',\n\t\t'explanation': 'Doubles the output of \"Make Traits\".',\n\t\ticon: 'brain',\n\t\tcost: 10,\n\t\tunlocked: false,\n\t\tunlockedAtTraitsDelivered: 35,\n\t\tapply: function(traitsState){\n\t\t\ttraitsState.madePerClick *= 2;\n\t\t\ttraitsState.getUpgradeByKey(upgradesKeys.LABEL_ROLLS).unlocked = true;\n\t\t}\n\t},\n\t{\n\t\tkey: upgradesKeys.LABEL_ROLLS,\n\t\t'name': 'Industrial Label Rolls',\n\t\t'description': 'Less fiddly, so you can produce traits faster by hand.',\n\t\t'explanation': '\"Make Traits\" is now 25% faster.',\n\t\ticon: 'toilet-paper',\n\t\tcost: 10,\n\t\tunlocked: false,\n\t\tunlockedAtTraitsDelivered: 50,\n\t\tapply: function(traitsState){\n\t\t\ttraitsState.makeRateMultiplier += .75;\n\t\t\ttraitsState.getUpgradeByKey(upgradesKeys.TURBO_PRODUCTION).unlocked = true;\n\t\t}\n\t},\n\t{\n\t\tkey: upgradesKeys.TURBO_PRODUCTION,\n\t\t'name': 'Turbo Production',\n\t\t'description': 'Discover how to produce many traits by hand at once. It\\'s basically magic.',\n\t\t'explanation': 'Your \"Make Traits\" button now produces 10x as many traits at once.',\n\t\ticon: 'toilet-paper',\n\t\tcost: 30,\n\t\tunlocked: false,\n\t\tunlockedAtTraitsDelivered: 180,\n\t\tapply: function(traitsState){\n\t\t\ttraitsState.madePerClick *= 10;\n\t\t}\n\t},\n];\n\nexport default makingUpgrades;","const employeeTypes = {\n\tPRODUCTION: 'production',\n\tDELIVERY:'delivery',\n\tBUILDER: 'builder'\n};\n\nexport default employeeTypes;","import employeeTypes from '../employees/employee_types';\nimport upgradesKeys from './upgrades_keys';\n\n\nconst employeeUpgrades = [\n\n\t{\n\t\tkey: upgradesKeys.LABOUR_TRAINING,\n\t\t'name': 'Labour Training',\n\t\t'description': 'Teach your assistants to work faster.',\n\t\t'explanation': 'Increases the productivity of your trait-making employees.',\n\t\ticon: 'chalkboard-teacher',\n\t\tcost: 3875,\n\t\tunlocked: true,\n\t\tunlockedAtTraitsDelivered: 6000,\n\t\tapply: function(traitsState){\n\t\t\tlet e = traitsState.getEmployeeByType(employeeTypes.PRODUCTION);\n\n\t\t\te.name = 'Labourers';\n\t\t\te.description = 'Trait-makers with a little experience.';\n\t\t\te.icon = 'running';\n\n\t\t\ttraitsState.employees[employeeTypes.PRODUCTION].costMultiplier += 2;\n\t\t\ttraitsState.employees[employeeTypes.PRODUCTION].workPerSecondMultiplier += .5;\n\n\t\t\ttraitsState.getUpgradeByKey(upgradesKeys.ADVANCED_CRAFTING).unlocked= true;\n\t\t}\n\t},\n\t{\n\t\tkey: upgradesKeys.ADVANCED_CRAFTING,\n\t\t'name': 'Advanced Crafting Lessons',\n\t\t'description': 'Train your workers to make more, better, faster!',\n\t\t'explanation': 'Increases the productivity of your trait-making employees.',\n\t\ticon: 'chalkboard-teacher',\n\t\tcost: 500000,\n\t\tunlocked: false,\n\t\tunlockedAtTraitsDelivered: 2500000,\n\t\tapply: function(traitsState){\n\t\t\tlet e = traitsState.getEmployeeByType(employeeTypes.PRODUCTION);\n\n\t\t\te.name = 'Crafters';\n\t\t\te.description = 'Highly experienced crafters of traits.';\n\t\t\te.icon = 'screwdriver';\n\t\t\ttraitsState.employees[employeeTypes.PRODUCTION].costMultiplier += 10;\n\t\t\ttraitsState.employees[employeeTypes.PRODUCTION].workPerSecondMultiplier += .75;\n\t\t\ttraitsState.getUpgradeByKey(upgradesKeys.ARTISANS).unlocked= true;\n\n\t\t}\n\t},\n\t{\n\t\tkey: upgradesKeys.ARTISANS,\n\t\t'name': 'Artisanal Traitmaking Seminars',\n\t\t'description': 'Your workers will become the most skilled crafters in all the prelife.',\n\t\t'explanation': 'Increases the productivity of your trait-making employees.',\n\t\ticon: 'chalkboard-teacher',\n\t\tcost: 45000000,\n\t\tunlocked: false,\n\t\tunlockedAtTraitsDelivered: 75000000,\n\t\tapply: function(traitsState){\n\t\t\tlet e = traitsState.getEmployeeByType(employeeTypes.PRODUCTION);\n\n\t\t\te.name = 'Artisans';\n\t\t\te.description = 'Artisanal makers of the finest traits.';\n\t\t\te.icon = 'paint-brush';\n\t\t\ttraitsState.employees[employeeTypes.PRODUCTION].costMultiplier += 100;\n\t\t\ttraitsState.employees[employeeTypes.PRODUCTION].workPerSecondMultiplier += 1.25;\n\t\t}\n\t},\n\t{\n\t\tkey: upgradesKeys.DELIVERY_GENIUS,\n\t\t'name': 'Delivery Genius',\n\t\t'description': 'Teach your volunteers to carry a trait in each hand.',\n\t\t'explanation': 'Doubles the delivery output of your delivery workers.',\n\t\ticon: 'wave-square',\n\t\tcost: 25,\n\t\tunlocked: true,\n\t\tunlockedAtTraitsDelivered: 165,\n\t\tapply: function(traitsState){\n\t\t\ttraitsState.employees[employeeTypes.DELIVERY].outputMultiplier *= 2;\n\t\t\ttraitsState.getUpgradeByKey(upgradesKeys.HORSES).unlocked= true;\n\t\t}\n\t},\n\t{\n\t\tkey: upgradesKeys.HORSES,\n\t\t'name': 'Discover Horses',\n\t\t'description': 'Your volunteers could use these weird long dogs to deliver faster.',\n\t\t'explanation': 'Increases the delivery output of your delivery workers.',\n\t\ticon: 'horse',\n\t\tcost: 120,\n\t\tunlocked: false,\n\t\tunlockedAtTraitsDelivered: 300,\n\t\tapply: function(traitsState){\n\t\t\tlet e = traitsState.getEmployeeByType(employeeTypes.DELIVERY);\n\n\t\t\te.name = 'Horse Riders';\n\t\t\te.description = 'A charming volunteer delivery service.';\n\t\t\te.icon = 'horse';\n\n\t\t\ttraitsState.employees[employeeTypes.DELIVERY].costMultiplier *= 3;\n\t\t\ttraitsState.employees[employeeTypes.DELIVERY].workPerSecondMultiplier *= 1.5;\n\t\t\ttraitsState.employees[employeeTypes.DELIVERY].outputMultiplier *= 1.55;\n\n\t\t\te.deliveryAnimationDuration = 15;\n\t\t\ttraitsState.getUpgradeByKey(upgradesKeys.WAGONS).unlocked= true;\n\t\t}\n\t},\n\t{\n\t\tkey: upgradesKeys.WAGONS,\n\t\t'name': 'Wagons & Wheels',\n\t\t'description': 'Something tells you these could be useful for your delivery people.',\n\t\t'explanation': 'Massively increases the output of your delivery workers.',\n\t\ticon: 'dharmachakra',\n\t\tcost: 3500,\n\t\tunlocked: false,\n\t\tunlockedAtTraitsDelivered: 6500,\n\t\tapply: function(traitsState){\n\t\t\tlet e = traitsState.getEmployeeByType(employeeTypes.DELIVERY);\n\n\t\t\te.name = 'Wagon drivers';\n\t\t\te.description = 'A marvellous fleet of trait-transporters.';\n\t\t\te.icon = 'dharmachakra';\n\n\t\t\ttraitsState.employees[employeeTypes.DELIVERY].costMultiplier *= 10;\n\t\t\ttraitsState.employees[employeeTypes.DELIVERY].outputMultiplier *= 10;\n\n\t\t\te.deliveryAnimationDuration = 10;\n\t\t\ttraitsState.getUpgradeByKey(upgradesKeys.HUMUNGOUS_WAGONS).unlocked= true;\n\t\t}\n\t},\n\t{\n\t\tkey: upgradesKeys.HUMUNGOUS_WAGONS,\n\t\t'name': 'Wagon Convoys',\n\t\t'description': 'Make many delivery wagons travel together, and feed that hungry Shop faster.',\n\t\ticon: 'truck-loading',\n\t\t'explanation': 'Increases the delivery output of your delivery workers.',\n\t\tcost: 1250000,\n\t\tunlocked: false,\n\t\tunlockedAtTraitsDelivered: 1200000,\n\t\tapply: function(traitsState){\n\t\t\tlet e = traitsState.getEmployeeByType(employeeTypes.DELIVERY);\n\n\t\t\te.name = 'Wagon Convoys';\n\t\t\te.description = 'A massive force of vehicles to transport your traits.';\n\t\t\te.icon = 'truck-loading';\n\n\n\t\t\ttraitsState.employees[employeeTypes.DELIVERY].costMultiplier *= 5;\n\t\t\ttraitsState.employees[employeeTypes.DELIVERY].outputMultiplier *= 1.75;\n\n\t\t\te.deliveryAnimationDuration = 10;\n\t\t\ttraitsState.getUpgradeByKey(upgradesKeys.TRAINS).unlocked= true;\n\t\t}\n\t},\n\t{\n\t\tkey: upgradesKeys.TRAINS,\n\t\t'name': 'Invent Trains',\n\t\t'description': 'Imagine a huge, fast machine barrelling straight to the Shop Before Life.',\n\t\t'explanation': 'Massively increases the delivery output of your delivery workers.',\n\t\ticon: 'train',\n\t\tcost: 25500000,\n\t\tunlocked: false,\n\t\tunlockedAtTraitsDelivered: 75000000,\n\t\tapply: function(traitsState){\n\t\t\tlet e = traitsState.getEmployeeByType(employeeTypes.DELIVERY);\n\n\t\t\te.name = 'Trains';\n\t\t\te.description = 'Choo-choo! The *most* fun way to deliver human personality traits.';\n\t\t\te.icon = 'train';\n\n\t\t\ttraitsState.employees[employeeTypes.DELIVERY].costMultiplier *= 2;\n\t\t\ttraitsState.employees[employeeTypes.DELIVERY].outputMultiplier *= 20;\n\t\t\t// traitsState.employees[employeeTypes.DELIVERY].workPerSecondMultiplier *= 2;\n\n\t\t\te.deliveryAnimationDuration = 5;\n\n\t\t\ttraitsState.getUpgradeByKey(upgradesKeys.HIGH_SPEED_TRAINS).unlocked= true;\n\t\t}\n\t},\n\t{\n\t\tkey: upgradesKeys.CONSTRUCTION_101,\n\t\t'name': 'Construction 101',\n\t\t'description': 'Develop some expertise in machine construction.',\n\t\ticon: 'chalkboard-teacher',\n\t\t'explanation': 'Doubles the speed of your machine builders.',\n\t\tcost: 25000,\n\t\tunlocked: true,\n\t\tunlockedAtTraitsDelivered: 55000,\n\t\tapply: function(traitsState){\n\t\t\tlet e = traitsState.getEmployeeByType(employeeTypes.BUILDER);\n\n\t\t\te.name = 'Novices';\n\t\t\te.description = 'These people have built a machine or two. Just.';\n\t\t\te.icon = 'hard-hat';\n\n\t\t\ttraitsState.employees[employeeTypes.BUILDER].costMultiplier *= 2;\n\t\t\ttraitsState.employees[employeeTypes.BUILDER].workPerSecondMultiplier *= 2;\n\n\t\t\ttraitsState.getUpgradeByKey(upgradesKeys.CONSTRUCTION_INT).unlocked= true;\n\t\t}\n\t},\n\t{\n\t\tkey: upgradesKeys.CONSTRUCTION_INT,\n\t\t'name': 'Intermediate Construction',\n\t\t'description': 'Train your builders to work faster!',\n\t\ticon: 'chalkboard-teacher',\n\t\t'explanation': 'Doubles the speed of your machine builders.',\n\t\tcost: 450000,\n\t\tunlocked: false,\n\t\tunlockedAtTraitsDelivered: 1200000,\n\t\tapply: function(traitsState){\n\t\t\tlet e = traitsState.getEmployeeByType(employeeTypes.BUILDER);\n\n\t\t\te.name = 'Constructors';\n\t\t\te.description = 'Highly experienced builders.';\n\t\t\te.icon = 'hard-hat';\n\t\t\ttraitsState.employees[employeeTypes.BUILDER].costMultiplier *= 2;\n\t\t\ttraitsState.employees[employeeTypes.BUILDER].workPerSecondMultiplier *= 2;\n\n\t\t\ttraitsState.getUpgradeByKey(upgradesKeys.CONSTRUCTION_ADV).unlocked= true;\n\t\t}\n\t},\n\t{\n\t\tkey: upgradesKeys.CONSTRUCTION_ADV,\n\t\t'name': 'Advanced Construction Techniques',\n\t\t'description': 'Train your builders to work faster still.',\n\t\t'explanation': 'More than doubles the speed of your machine builders.',\n\t\ticon: 'chalkboard-teacher',\n\t\tcost: 2500000,\n\t\tunlocked: false,\n\t\tunlockedAtTraitsDelivered: 90000000,\n\t\tapply: function(traitsState){\n\t\t\tlet e = traitsState.getEmployeeByType(employeeTypes.BUILDER);\n\n\t\t\te.name = 'Manufacturers';\n\t\t\te.description = 'The most elite builders in the known universe.';\n\t\t\te.icon = 'hard-hat';\n\n\t\t\ttraitsState.employees[employeeTypes.BUILDER].costMultiplier *= 2;\n\t\t\ttraitsState.employees[employeeTypes.BUILDER].workPerSecondMultiplier *= 2.5;\n\n\t\t}\n\t},\n];\n\nexport default employeeUpgrades;","import employeeTypes from '../employees/employee_types';\nimport upgradesKeys from './upgrades_keys';\n\nconst deliveryUpgrades = [\n\t{\n\t\tkey: upgradesKeys.BUILD_ROAD,\n\t\t'name': 'Build a Road',\n\t\t'description': 'Hills and forests would be easier to traverse if they were paved over...',\n\t\t'explanation': 'Halves the amount of time required to deliver traits.',\n\t\ticon: 'road',\n\t\tcost: 14,\n\t\tunlocked: true,\n\t\tunlockedAtTraitsDelivered: 55,\n\t\tapply: function(traitsState){\n\n\t\t\ttraitsState.employees[employeeTypes.DELIVERY].workRequiredMultiplier *= 0.5;\n\n\t\t\ttraitsState.tryGetUpgradeByName('Stackable Crates').unlocked = true;\n\t\t}\n\t},\n\t{\n\t\tkey: upgradesKeys.STACKABLE_CRATES,\n\t\t'name': 'Stackable Crates',\n\t\t'description': 'Deliveries will become a joy to watch. So quick, so efficient.',\n\t\t'explanation': 'Multiplies your delivery rate by 1.5',\n\t\ticon: 'truck-loading',\n\t\tcost: 150000,\n\t\tunlocked: false,\n\t\tunlockedAtTraitsDelivered: 8200000,\n\t\tapply: function(traitsState){\n\t\t\ttraitsState.employees[employeeTypes.DELIVERY].outputMultiplier *= 1.5;\n\t\t\ttraitsState.tryGetUpgradeByName('Invent Cranes').unlocked = true;\n\t\t}\n\t},\n\t{\n\t\tkey: upgradesKeys.INVENT_CRANES,\n\t\t'name': 'Invent Cranes',\n\t\t'description': 'Lift containers of crates into your delivery vehicles all at once.',\n\t\t'explanation': 'Doubles your delivery rate.',\n\t\ticon: 'quidditch',\n\t\tcost: 9500000,\n\t\tunlocked: false,\n\t\tunlockedAtTraitsDelivered: 12500000,\n\t\tapply: function(traitsState){\n\t\t\ttraitsState.employees[employeeTypes.DELIVERY].outputMultiplier *= 2;\n\t\t}\n\t},\n\t{\n\t\tkey: upgradesKeys.HIGH_SPEED_TRAINS,\n\t\t'name': 'High Speed Trains',\n\t\t'description': 'Vastly superior train technology.',\n\t\t'explanation': 'Massively increases delivery output.',\n\t\ticon: 'object-ungroup',\n\t\tcost: 1000000000,\n\t\tunlocked: false,\n\t\tunlockedAtTraitsDelivered: 1200000000,\n\t\tapply: function(traitsState){\n\t\t\ttraitsState.employees[employeeTypes.DELIVERY].outputMultiplier *= 10;\n\t\t}\n\t},\n];\n\nexport default deliveryUpgrades;","import employeeTypes from '../employees/employee_types';\nimport upgradesKeys from './upgrades_keys';\n\nconst machineUpgrades = [\n\t{\n\t\tkey: upgradesKeys.BETTER_MACHINERY,\n\t\tname: 'Better Machinery',\n\t\tdescription:\n\t\t\t'If machines are good, then better machines must be even better...',\n\t\texplanation: 'Unlocks more productive machines for your factory.',\n\t\ticon: 'industry',\n\t\tcost: 5000,\n\t\tunlocked: false,\n\t\tunlockedAtTraitsDelivered: 9500,\n\t\tapply: function (traitsState) {\n\t\t\ttraitsState.machines.all\n\t\t\t\t.filter((a) => a.tier === 1)\n\t\t\t\t.forEach((m) => (m.unlocked = true));\n\t\t\ttraitsState.getUpgradeByKey(\n\t\t\t\tupgradesKeys.EVEN_BETTER_MACHINERY\n\t\t\t).unlocked = true;\n\t\t\ttraitsState.getUpgradeByKey(\n\t\t\t\tupgradesKeys.FLEXIBLE_MACHINERY\n\t\t\t).unlocked = true;\n\t\t},\n\t},\n\t{\n\t\tkey: upgradesKeys.FLEXIBLE_MACHINERY,\n\t\tname: 'Flexible Machinery',\n\t\tdescription:\n\t\t\t'Teach machines to modify themselves so they can perform different tasks.',\n\t\texplanation:\n\t\t\t'Unlocks the ability to move factory capacity between production and delivery.',\n\t\ticon: 'exchange-alt',\n\t\tcost: 150000,\n\t\tunlocked: false,\n\t\tunlockedAtTraitsDelivered: 125000,\n\t\tapply: function (traitsState) {\n\t\t\ttraitsState.flexibleMachineryUnlocked = true;\n\t\t},\n\t},\n\t{\n\t\tkey: upgradesKeys.EVEN_BETTER_MACHINERY,\n\t\tname: 'Even Better Machinery',\n\t\tdescription: 'Your mind is buzzing with dreams of bigger machines...',\n\t\texplanation: 'Unlocks more productive machines for your factory.',\n\t\ticon: 'industry',\n\t\tcost: 350000,\n\t\tunlocked: false,\n\t\tunlockedAtTraitsDelivered: 450000,\n\t\tapply: function (traitsState) {\n\t\t\ttraitsState.machines.all\n\t\t\t\t.filter((a) => a.tier === 2)\n\t\t\t\t.forEach((m) => (m.unlocked = true));\n\t\t\ttraitsState.getUpgradeByKey(\n\t\t\t\tupgradesKeys.CHEAPER_MATERIALS\n\t\t\t).unlocked = true;\n\t\t\ttraitsState.getUpgradeByKey(\n\t\t\t\tupgradesKeys.EVEN_BETTERER_MACHINERY\n\t\t\t).unlocked = true;\n\t\t},\n\t},\n\t{\n\t\tkey: upgradesKeys.CHEAPER_MATERIALS,\n\t\tname: 'Industrial Quarrying',\n\t\tdescription:\n\t\t\t'Pull metal straight out of the ground so all your machines will be cheaper.',\n\t\texplanation: 'Reduces the cost of your machines by 25%',\n\t\ticon: 'mountain',\n\t\tcost: 600000,\n\t\tunlocked: false,\n\t\tunlockedAtTraitsDelivered: 450000,\n\t\tapply: function (traitsState) {\n\t\t\ttraitsState.machineCostMultiplier *= 0.75;\n\t\t\ttraitsState.getUpgradeByKey(\n\t\t\t\tupgradesKeys.MORE_EFFICIENT_MACHINERY\n\t\t\t).unlocked = true;\n\t\t\ttraitsState.getUpgradeByKey(\n\t\t\t\tupgradesKeys.SMARTER_CONSTRUCTION_METHODS\n\t\t\t).unlocked = true;\n\t\t},\n\t},\n\t{\n\t\tkey: upgradesKeys.MORE_EFFICIENT_MACHINERY,\n\t\tname: 'More efficient machinery',\n\t\tdescription:\n\t\t\t'Your old designs were wasteful, but now you see how they can be GREATLY improved.',\n\t\texplanation: 'Doubles the output of all of your production machines.',\n\t\ticon: 'square-root-alt',\n\t\tcost: 12500000,\n\t\tunlocked: false,\n\t\tunlockedAtTraitsDelivered: 26500000,\n\t\tapply: function (traitsState) {\n\t\t\ttraitsState.machineOutputMultiplier *= 2;\n\t\t\ttraitsState.getUpgradeByKey(\n\t\t\t\tupgradesKeys.CHEAPER_MATERIALS\n\t\t\t).unlocked = true;\n\t\t},\n\t},\n\t{\n\t\tkey: upgradesKeys.SMARTER_CONSTRUCTION_METHODS,\n\t\tname: 'Smarter Construction Methods',\n\t\tdescription: 'Encourage your builders to work faster.',\n\t\texplanation: 'Speeds up construction work by 25%',\n\t\ticon: 'industry',\n\t\tcost: 1500000,\n\t\tunlocked: false,\n\t\tunlockedAtTraitsDelivered: 2550000,\n\t\tapply: function (traitsState) {\n\t\t\t// traitsState.employees[employeeTypes.BUILDER].workRequiredMultiplier\t*= .75;\n\t\t\ttraitsState.employees[\n\t\t\t\temployeeTypes.BUILDER\n\t\t\t].workPerSecondMultiplier *= 1.25;\n\t\t},\n\t},\n\t{\n\t\tkey: upgradesKeys.EVEN_BETTERER_MACHINERY,\n\t\tname: 'Even Betterer Machinery',\n\t\tdescription: 'What if everything were bigger still?',\n\t\texplanation: 'Unlocks more productive machines for your factory.',\n\t\ticon: 'industry',\n\t\tcost: 950000,\n\t\tunlocked: false,\n\t\tunlockedAtTraitsDelivered: 2500000,\n\t\tapply: function (traitsState) {\n\t\t\ttraitsState.machines.all\n\t\t\t\t.filter((a) => a.tier === 3)\n\t\t\t\t.forEach((m) => (m.unlocked = true));\n\t\t\ttraitsState.getUpgradeByKey(\n\t\t\t\tupgradesKeys.EVEN_BETTERERER_MACHINERY\n\t\t\t).unlocked = true;\n\t\t},\n\t},\n\t{\n\t\tkey: upgradesKeys.EVEN_BETTERERER_MACHINERY,\n\t\tname: 'Even Bettererer Machinery',\n\t\tdescription: 'Okay, but what if everything was BIGGER AGAIN?',\n\t\texplanation: 'Unlocks more productive machines for your factory.',\n\t\ticon: 'industry',\n\t\tcost: 11500000,\n\t\tunlocked: false,\n\t\tunlockedAtTraitsDelivered: 75000000,\n\t\tapply: function (traitsState) {\n\t\t\ttraitsState.machines.all\n\t\t\t\t.filter((a) => a.tier === 4)\n\t\t\t\t.forEach((m) => (m.unlocked = true));\n\t\t\ttraitsState.getUpgradeByKey(\n\t\t\t\tupgradesKeys.UNIMAGINABLE_MACHINERY\n\t\t\t).unlocked = true;\n\t\t},\n\t},\n\t{\n\t\tkey: upgradesKeys.UNIMAGINABLE_MACHINERY,\n\t\tname: 'Unimaginable Machinery',\n\t\tdescription: 'YOUR MIND IS FILLED WITH A GINORMOUS FACTORY',\n\t\texplanation: 'Unlocks more productive machines for your factory.',\n\t\ticon: 'industry',\n\t\tcost: 95000000,\n\t\tunlocked: false,\n\t\tunlockedAtTraitsDelivered: 250000000,\n\t\tapply: function (traitsState) {\n\t\t\ttraitsState.machines.all\n\t\t\t\t.filter((a) => a.tier === 5)\n\t\t\t\t.forEach((m) => (m.unlocked = true));\n\t\t\ttraitsState.getUpgradeByKey(\n\t\t\t\tupgradesKeys.SELF_REPLICATING_MACHINES\n\t\t\t).unlocked = true;\n\t\t},\n\t},\n\t{\n\t\tkey: upgradesKeys.SELF_REPLICATING_MACHINES,\n\t\tname: 'Self-Replicating Machines',\n\t\tdescription:\n\t\t\t'Speed up construction by teaching machines to build themselves.',\n\t\texplanation: 'Reduces the work required to build each machine by 50%',\n\t\ticon: 'object-ungroup',\n\t\tcost: 500000000,\n\t\tunlocked: false,\n\t\tunlockedAtTraitsDelivered: 400000000,\n\t\tapply: function (traitsState) {\n\t\t\t// traitsState.employees[employeeTypes.BUILDER].workRequiredMultiplier\t*= .50;\n\t\t\ttraitsState.employees[\n\t\t\t\temployeeTypes.BUILDER\n\t\t\t].workPerSecondMultiplier *= 2;\n\t\t},\n\t},\n];\n\nexport default machineUpgrades;\n","import upgradesKeys from './upgrades_keys';\nimport { submitToAnalytics } from './../shared/functions';\n\nconst specialUpgrades = [\n\t{\n\t\tkey: upgradesKeys.INVENT_MACHINERY,\n\t\tname: 'Invent Machinery',\n\t\tdescription:\n\t\t\t'This is getting out of hand. Perhaps you need an actual factory..?',\n\t\texplanation: 'Unlocks the ability to build machines.',\n\t\ticon: 'industry',\n\t\tcost: 300,\n\t\tunlocked: true,\n\t\tunlockedAtTraitsDelivered: 120,\n\t\tapply: function (traitsState, activatePyro) {\n\t\t\ttraitsState.machines.unlocked = true;\n\t\t\ttraitsState.getUpgradeByKey(\n\t\t\t\tupgradesKeys.TALES_OF_THE_PRELIFE\n\t\t\t).unlocked = true;\n\t\t\ttraitsState.getUpgradeByKey(\n\t\t\t\tupgradesKeys.BETTER_MACHINERY\n\t\t\t).unlocked = true;\n\t\t\tif (activatePyro) {\n\t\t\t\tactivatePyro();\n\t\t\t}\n\t\t\tsubmitToAnalytics('upgrade', 'complex', 'INVENT_MACHINERY');\n\t\t},\n\t},\n\t{\n\t\tkey: upgradesKeys.TALES_OF_THE_PRELIFE,\n\t\tname: 'Tales of the Prelife',\n\t\tdescription:\n\t\t\t'Have a storyteller visit, and tell you stories from the rest of the prelife.',\n\t\texplanation: '???',\n\t\ticon: 'comment',\n\t\tcost: 10000,\n\t\tunlocked: false,\n\t\tunlockedAtTraitsDelivered: 1000,\n\t\tapply: function (traitsState, activatePyro) {\n\t\t\ttraitsState.getUpgradeByKey(\n\t\t\t\tupgradesKeys.WONDER_ABOUT_LIFE\n\t\t\t).unlocked = true;\n\t\t\tif (activatePyro) {\n\t\t\t\tactivatePyro();\n\t\t\t}\n\t\t\tsubmitToAnalytics(\n\t\t\t\t'upgrade',\n\t\t\t\t'complex',\n\t\t\t\t'TALES_OF_THE_PRELIFE - 1/5'\n\t\t\t);\n\t\t},\n\t},\n\t{\n\t\tkey: upgradesKeys.WONDER_ABOUT_LIFE,\n\t\tname: 'Tales of Earth',\n\t\tdescription:\n\t\t\t\"This work is fun. You're helping people prepare to live their lives. But what else is out there...?\",\n\t\texplanation: '???',\n\t\ticon: 'question',\n\t\tcost: 1000000,\n\t\tunlocked: false,\n\t\tunlockedAtTraitsDelivered: 10000,\n\t\tapply: function (traitsState, activatePyro) {\n\t\t\ttraitsState.getUpgradeByKey(\n\t\t\t\tupgradesKeys.WORK_SATISFACTION\n\t\t\t).unlocked = true;\n\t\t\tif (activatePyro) {\n\t\t\t\tactivatePyro();\n\t\t\t}\n\t\t\tsubmitToAnalytics('upgrade', 'complex', 'WONDER_ABOUT_LIFE - 2/5');\n\t\t},\n\t},\n\t{\n\t\tkey: upgradesKeys.WORK_SATISFACTION,\n\t\tname: 'Find Satisfaction in Work',\n\t\tdescription:\n\t\t\t'Who cares what else there is? Surely throwing yourself into your work will be enough.',\n\t\texplanation: '???',\n\t\ticon: 'question',\n\t\tcost: 10000000,\n\t\tunlocked: false,\n\t\tunlockedAtTraitsDelivered: 10000,\n\t\tapply: function (traitsState, activatePyro) {\n\t\t\ttraitsState.getUpgradeByKey(\n\t\t\t\tupgradesKeys.VISIT_THE_SHOP\n\t\t\t).unlocked = true;\n\t\t\tif (activatePyro) {\n\t\t\t\tactivatePyro();\n\t\t\t}\n\t\t\tsubmitToAnalytics('upgrade', 'complex', 'WORK_SATISFACTION - 3/5');\n\t\t},\n\t},\n\t{\n\t\tkey: upgradesKeys.VISIT_THE_SHOP,\n\t\tname: 'Visit the Shop Before Life',\n\t\tdescription:\n\t\t\t\"It'd be nice to see what actually happens with all these traits, for once.\",\n\t\texplanation: '???',\n\t\ticon: 'question',\n\t\tcost: 100000000,\n\t\tunlocked: false,\n\t\tunlockedAtTraitsDelivered: 100000,\n\t\tapply: function (traitsState, activatePyro) {\n\t\t\ttraitsState.getUpgradeByKey(\n\t\t\t\tupgradesKeys.LEAVE_FOR_EARTH\n\t\t\t).unlocked = true;\n\t\t\tif (activatePyro) {\n\t\t\t\tactivatePyro();\n\t\t\t}\n\t\t\tsubmitToAnalytics('upgrade', 'complex', 'VISIT_THE_SHOP - 4/5');\n\t\t},\n\t},\n\t{\n\t\tkey: upgradesKeys.LEAVE_FOR_EARTH,\n\t\tname: 'Leave for Earth',\n\t\tdescription:\n\t\t\t\"Leave your factory behind and head to the Shop Before Life—and then onto Earth. It's time for life to begin...\",\n\t\texplanation: '???',\n\t\ticon: 'globe-europe',\n\t\tcost: 25000000000,\n\t\tunlocked: false,\n\t\tunlockedAtTraitsDelivered: 1000000,\n\t\tapply: function (traitsState, activatePyro) {\n\t\t\ttraitsState.gameComplete = true;\n\t\t\ttraitsState.gameWinTime = traitsState.totalTimePlayed.clone();\n\n\t\t\tif (activatePyro) {\n\t\t\t\tactivatePyro();\n\t\t\t}\n\t\t\tsubmitToAnalytics('upgrade', 'complex', 'LEAVE_FOR_EARTH - 5/5');\n\t\t},\n\t},\n];\n\nexport default specialUpgrades;\n","import upgradesKeys from './upgrades_keys';\n\nconst storageUpgrades = [\n\t{\n\t\t'key': upgradesKeys.BOX_1,\n\t\t'name': 'A Box',\n\t\t'description': 'A place to store human traits.',\n\t\t'explanation': 'Increases storage by 1',\n\t\ticon: 'box',\n\t\tcost: 1,\n\t\tunlocked: true,\n\t\tunlockedAtTraitsDelivered: 1,\n\t\tapply: function(traitsState){\n\t\t\ttraitsState.increaseStorageSize(1);\n\t\t\ttraitsState.getUpgradeByKey(upgradesKeys.BOX_2).unlocked= true;\n\t\t}\n\t},\n\t{\n\t\t'key': upgradesKeys.BOX_2,\n\t\t'name': 'A Second Box',\n\t\t'description': 'Imagine what you could keep in it!',\n\t\t'explanation': 'Increases storage by 1',\n\t\ticon: 'box',\n\t\tcost: 6,\n\t\tunlocked: false,\n\t\tunlockedAtTraitsDelivered: 5,\n\t\tapply: function(traitsState){\n\t\t\ttraitsState.increaseStorageSize(1);\n\t\t\ttraitsState.getUpgradeByKey(upgradesKeys.BOX_3).unlocked= true;\n\t\t\ttraitsState.getUpgradeByKey(upgradesKeys.BOX_4).unlocked= true;\n\t\t}\n\t},\n\t{\n\t\t'key': upgradesKeys.BOX_3,\n\t\t'name': 'A Third Box',\n\t\t'description': 'You\\'re starting to really like boxes.',\n\t\t'explanation': 'Increases storage by 1',\n\t\ticon: 'box',\n\t\tcost: 7,\n\t\tunlocked: false,\n\t\tunlockedAtTraitsDelivered: 15,\n\t\tapply: function(traitsState){\n\t\t\ttraitsState.increaseStorageSize(1);\n\t\t}\n\t},\n\t{\n\t\t'key': upgradesKeys.BOX_4,\n\t\t'name': 'A Fourth Box',\n\t\t'description': 'Soon you\\'ll need a box for all these boxes.',\n\t\t'explanation': 'Increases storage by 1',\n\t\ticon: 'box',\n\t\tcost: 8,\n\t\tunlocked: false,\n\t\tunlockedAtTraitsDelivered: 45,\n\t\tapply: function(traitsState){\n\t\t\ttraitsState.increaseStorageSize(1);\n\t\t\ttraitsState.getUpgradeByKey(upgradesKeys.BOX_BIGGER).unlocked= true;\n\t\t}\n\t},\n\t{\n\t\t'key': upgradesKeys.BOX_BIGGER,\n\t\t'name': 'Bigger Boxes',\n\t\t'description': 'Like boxes, but bigger, and therefore BETTER!',\n\t\t'explanation': 'Doubles your basic box storage.',\n\t\ticon: 'boxes',\n\t\tcost: 15,\n\t\tunlocked: false,\n\t\tunlockedAtTraitsDelivered: 75,\n\t\tapply: function(traitsState){\n\t\t\ttraitsState.increaseStorageMultiplierByFactor(2);\n\t\t\ttraitsState.getUpgradeByKey(upgradesKeys.BOX_CRATES).unlocked= true;\n\t\t}\n\t},\n\t{\n\t\t'key': upgradesKeys.BOX_CRATES,\n\t\t'name': 'Crates',\n\t\t'description': 'Like boxes with superpowers.',\n\t\t'explanation': 'Doubles your basic box storage.',\n\t\ticon: 'ruler-horizontal',\n\t\tcost: 15,\n\t\tunlocked: false,\n\t\tunlockedAtTraitsDelivered: 200,\n\t\tapply: function(traitsState){\n\t\t\ttraitsState.increaseStorageMultiplierByFactor(2);\n\t\t\ttraitsState.getUpgradeByKey(upgradesKeys.SHED).unlocked= true;\n\t\t}\n\t},\n\t{\n\t\t'key': upgradesKeys.SHED,\n\t\t'name': 'A Shed',\n\t\t'description': 'A fun place to hang out. Or to store boxes of traits.',\n\t\t'explanation': 'Increases your basic box storage.',\n\t\ticon: 'home',\n\t\tcost: 50,\n\t\tunlocked: false,\n\t\tunlockedAtTraitsDelivered: 475,\n\t\tapply: function(traitsState){\n\t\t\ttraitsState.increaseStorageSize(5);\n\n\t\t\ttraitsState.getUpgradeByKey(upgradesKeys.STANDARDISED_JARS).unlocked= true;\n\t\t}\n\t},\n\t{\n\t\t'key': upgradesKeys.STANDARDISED_JARS,\n\t\t'name': 'Standardised Jars',\n\t\t'description': 'Eureka! You can fit WAY more traits in the same space if you make them all the same size.',\n\t\t'explanation': 'Vastly increases your basic box storage.',\n\t\ticon: 'vector-square',\n\t\tcost: 550,\n\t\tunlocked: false,\n\t\tunlockedAtTraitsDelivered: 1350,\n\t\tapply: function(traitsState){\n\t\t\ttraitsState.increaseStorageMultiplierByFactor(25);\n\t\t\ttraitsState.getUpgradeByKey(upgradesKeys.VERTICAL_STACKING).unlocked= true;\n\t\t}\n\t},\n\t{\n\t\t'key': upgradesKeys.VERTICAL_STACKING,\n\t\t'name': 'Vertical Stacking',\n\t\t'description': 'Putting things on top of other things could be a more effective use of space.',\n\t\t'explanation': 'Doubles your basic box storage.',\n\t\ticon: 'ruler-vertical',\n\t\tcost: 950,\n\t\tunlocked: false,\n\t\tunlockedAtTraitsDelivered: 10000,\n\t\tapply: function(traitsState){\n\t\t\ttraitsState.increaseStorageMultiplierByFactor(2);\n\t\t\ttraitsState.getUpgradeByKey(upgradesKeys.MORE_LAND).unlocked= true;\n\t\t}\n\t},\n\t{\n\t\t'key': upgradesKeys.MORE_LAND,\n\t\t'name': 'More land',\n\t\t'description': 'Your warehouses demand more space.',\n\t\t'explanation': 'Massively increases the storage capacity of all warehouses.',\n\t\ticon: 'home',\n\t\tcost: 4500000,\n\t\tunlocked: false,\n\t\tunlockedAtTraitsDelivered: 3000000,\n\t\tapply: function(traitsState){\n\t\t\ttraitsState.machineStorageMultiplier *= 10;\n\t\t\ttraitsState.getUpgradeByKey(upgradesKeys.CONTAINERISATION).unlocked= true;\n\t\t}\n\t},\n\t{\n\t\t'key': upgradesKeys.CONTAINERISATION,\n\t\t'name': 'Containerisation',\n\t\t'description': 'Boxes inside crates inside containers inside warehouses. It\\'s a storage-lovers dream.',\n\t\t'explanation': 'Massively increases the storage capacity of all warehouses.',\n\t\ticon: 'dolly-flatbed',\n\t\tcost: 10000000,\n\t\tunlocked: false,\n\t\tunlockedAtTraitsDelivered: 40000000,\n\t\tapply: function(traitsState){\n\t\t\ttraitsState.machineStorageMultiplier *= 10;\n\t\t\ttraitsState.getUpgradeByKey(upgradesKeys.AUTOMATED_PIPE_NETWORK).unlocked= true;\n\t\t}\n\t},\n\t{\n\t\t'key': upgradesKeys.AUTOMATED_PIPE_NETWORK,\n\t\t'name': 'Automated Pipe Network',\n\t\t'description': 'Increase storage by removing the need for people to operate your warehouses.',\n\t\t'explanation': 'Massively increases the storage capacity of all warehouses.',\n\t\ticon: 'eye-dropper',\n\t\tcost: 200000000,\n\t\tunlocked: false,\n\t\tunlockedAtTraitsDelivered: 800000000,\n\t\tapply: function(traitsState){\n\t\t\ttraitsState.machineStorageMultiplier *= 10;\n\t\t}\n\t},\n];\n\nexport default storageUpgrades;","import makingUpgrades from './upgrades_making';\nimport employeeUpgrades from './upgrades_employees';\nimport deliveryUpgrades from './upgrades_delivery';\nimport machineUpgrades from './upgrades_machines';\nimport specialUpgrades from './upgrades_special';\nimport storageUpgrades from './upgrades_storage';\n\nconst upgrades = {\n\tloadAll(){\n\t\tlet upgradeId = 0;\n\t\tlet all = [];\n\n\n\t\tmakingUpgrades.forEach((u) => {\n\t\t\tall.push( { id: upgradeId, purchased: false, ...u });\n\t\t\tupgradeId++;\n\t\t});\n\n\t\temployeeUpgrades.forEach((u) => {\n\t\t\tall.push( { id: upgradeId, purchased: false, ...u });\n\t\t\tupgradeId++;\n\t\t});\n\n\t\tdeliveryUpgrades.forEach((u) => {\n\t\t\tall.push( { id: upgradeId, purchased: false, ...u });\n\t\t\tupgradeId++;\n\t\t});\n\n\t\tmachineUpgrades.forEach((u) => {\n\t\t\tall.push( { id: upgradeId, purchased: false, ...u });\n\t\t\tupgradeId++;\n\t\t});\n\n\t\tstorageUpgrades.forEach((u) => {\n\t\t\tall.push( { id: upgradeId, purchased: false, ...u });\n\t\t\tupgradeId++;\n\t\t});\n\n\t\tspecialUpgrades.forEach((u) => {\n\t\t\tall.push( { id: upgradeId, purchased: false, ...u });\n\t\t\tupgradeId++;\n\t\t});\n\n\t\tall.sort((a, b) => (a.cost > b.cost) ? 1 : -1);\n\n\t\treturn all;\n\t}\n};\n\nexport default upgrades;","const machineTypes = {\n\tNONE: 'none',\n\n\t// tier 0\n\tLEMON_POWER: 'lemonpower',\n\tMACHINING_TABLE: 'machiningtable',\n\tLOADER: 'loader',\n\n\t// tier 1; 20000\n\tASSEMBLER: 'assembler',\n\tWATER_POWER: 'waterpower',\n\tSMALL_WAREHOUSE: 'smallwarehouse',\n\n\t// tier 2; 250000\n\tCONVEYOR_BELT: 'conveyorbelt',\n\tSTEAM_POWER: 'steampower',\n\tMEDIUM_WAREHOUSE: 'mediumwarehouse',\n\n\t// tier 3; 2500000\n\tTURBINE_POWER: 'turbinepower',\n\tTRAIT_PUMP: 'traitpump',\n\tINDUSTRIAL_WAREHOUSE: 'industrialwarehouse',\n\n\t// tier 4; 25 000 000\n\tASSEMBLY_LINE: 'assemblyline',\n\tCOAL_POWER:'coalpower',\n\n\t// tier 5: 250 000 000\n\tTRAIT_COMPRESSOR: 'traitcompressor',\n\tMASSIVE_WHEEL: 'massivewheel'\n};\n\nexport default machineTypes;","const employeeAllocation = {\n\tMANUAL: 'manual',\n\tMACHINE: 'machine'\n};\n\nexport default employeeAllocation;","const machineRoles = {\n\tNONE: 'none',\n\tPOWER: 'power',\n\tSTORAGE: 'storage',\n\tPRODUCTION: 'production',\n\tDELIVERY: 'delivery'\n};\n\nexport default machineRoles;","import employeeTypes from './employee_types';\nimport machineTypes from '../machines/machine_types';\nimport employeeAllocation from './employee_allocation';\nimport machineRoles from '../machines/machine_roles';\n\nfunction processTick(delta, traitsState, employee, onCompletion) {\n\tif (employee.work.paused) {\n\t\temployee.outcomePerSecond = 0;\n\t\treturn;\n\t}\n\n\tlet currentEmployeeState = traitsState.employees[employee.type];\n\n\t// calculate work progress\n\tlet timeToProgress = (delta * 1.0) / 1000;\n\n\t// apply progress\n\tlet progress = timeToProgress * employee.workPerSecond(traitsState);\n\temployee.work.progress += progress;\n\n\t// check for completion\n\tlet actualWorkRequired =\n\t\temployee.workRequiredToComplete *\n\t\tcurrentEmployeeState.workRequiredMultiplier;\n\n\tlet currentOutputAmount = Math.floor(\n\t\temployee.outputPerCompletion * currentEmployeeState.outputMultiplier\n\t);\n\n\tif (employee.type === employeeTypes.DELIVERY) {\n\t\tlet machineAssistance = traitsState\n\t\t\t.getMachineByType(machineTypes.LOADER)\n\t\t\t.totalDeliveryMultiplier();\n\t\tcurrentOutputAmount *= machineAssistance;\n\t\tcurrentOutputAmount = Math.floor(currentOutputAmount);\n\t}\n\n\tcurrentOutputAmount *= traitsState.getFlexibleMultiplier(employee.type);\n\tcurrentOutputAmount = Math.floor(currentOutputAmount);\n\n\tif (employee.work.progress >= actualWorkRequired) {\n\t\tlet everFailed = false;\n\n\t\t// we might have succeeded multiple times if the delta is very large, so make sure all get processed\n\t\twhile (employee.work.progress > actualWorkRequired) {\n\t\t\t//console.log('completing ' + employee.type);\n\t\t\tlet successAmount = onCompletion(currentOutputAmount);\n\t\t\tif (successAmount < currentOutputAmount) {\n\t\t\t\teverFailed = true;\n\t\t\t}\n\t\t\temployee.work.progress -= actualWorkRequired;\n\t\t}\n\n\t\temployee.work.progress = 0;\n\n\t\tif (everFailed && !employee.work.justFailed) {\n\t\t\temployee.work.justFailed = true;\n\t\t\tsetTimeout(\n\t\t\t\t() => (employee.work.justFailed = false),\n\t\t\t\ttraitsState.justFailedMs\n\t\t\t);\n\t\t}\n\t}\n\n\t// set the current rate on the platonic employee object\n\tlet timeRequired =\n\t\t(actualWorkRequired * 1.0) / employee.workPerSecond(traitsState);\n\temployee.currentTimeTaken = timeRequired;\n\n\temployee.outcomePerSecond = currentOutputAmount / timeRequired;\n}\n\nconst employees = [\n\t{\n\t\tname: 'Assistants',\n\t\tdescription: 'Hire someone to help make traits.',\n\t\ttype: employeeTypes.PRODUCTION,\n\t\ticon: 'user',\n\t\tbaseCost: 4,\n\t\tunlockedAtTraitsDelivered: 7,\n\t\tbaseWorkPerSecond: 30, // 0.1,\n\t\tworkPerSecond(traitsState) {\n\t\t\treturn (\n\t\t\t\ttraitsState.overallWorkMultiplier *\n\t\t\t\tthis.baseWorkPerSecond *\n\t\t\t\ttraitsState.employees[employeeTypes.PRODUCTION]\n\t\t\t\t\t.workPerSecondMultiplier *\n\t\t\t\tthis.allocation.manual\n\t\t\t);\n\t\t},\n\t\tworkRequiredToComplete: 200,\n\t\toutputPerCompletion: 1,\n\t\thiredAmount: 0,\n\t\toutcomePerSecond: 0,\n\t\thire(traitsState) {\n\t\t\ttraitsState.employees[employeeTypes.PRODUCTION].hiredAmount += 1;\n\n\t\t\tif (this.canReallocate(employeeAllocation.MACHINE, traitsState)) {\n\t\t\t\tthis.allocation.machines += 1;\n\t\t\t} else {\n\t\t\t\tthis.allocation.manual += 1;\n\t\t\t}\n\n\t\t\ttraitsState.machines.spreadAllocation(this.allocation.machines);\n\t\t},\n\t\twork: {\n\t\t\tpaused: false,\n\t\t\tprogress: 0,\n\t\t\tjustFailed: false,\n\t\t},\n\t\tallocation: {\n\t\t\tmanual: 0,\n\t\t\tmachines: 0,\n\t\t},\n\t\tcanReallocate(allocation, traitsState) {\n\t\t\tlet prodMachineCount = traitsState.machines.getCountByRole(\n\t\t\t\tmachineRoles.PRODUCTION\n\t\t\t);\n\n\t\t\tswitch (allocation) {\n\t\t\t\tcase employeeAllocation.MANUAL:\n\t\t\t\t\treturn this.allocation.machines > 0; // any machine worker can always be reallocated\n\n\t\t\t\tcase employeeAllocation.MACHINE:\n\t\t\t\t\treturn (\n\t\t\t\t\t\tthis.allocation.manual > 0 &&\n\t\t\t\t\t\tthis.allocation.machines < prodMachineCount\n\t\t\t\t\t);\n\t\t\t\tdefault:\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t\treallocate(allocation, traitsState) {\n\t\t\tif (\n\t\t\t\tallocation === employeeAllocation.MANUAL &&\n\t\t\t\tthis.canReallocate(allocation, traitsState)\n\t\t\t) {\n\t\t\t\tthis.allocation.machines -= 1;\n\t\t\t\tthis.allocation.manual += 1;\n\t\t\t} else if (\n\t\t\t\tallocation === employeeAllocation.MACHINE &&\n\t\t\t\tthis.canReallocate(allocation, traitsState)\n\t\t\t) {\n\t\t\t\tthis.allocation.machines += 1;\n\t\t\t\tthis.allocation.manual -= 1;\n\t\t\t}\n\n\t\t\ttraitsState.machines.spreadAllocation(this.allocation.machines);\n\t\t},\n\t\tunlocked(traitsState) {\n\t\t\treturn traitsState.totalDelivered >= this.unlockedAtTraitsDelivered;\n\t\t},\n\t\ttick(delta, traitsState, employee) {\n\t\t\tprocessTick(delta, traitsState, employee, traitsState.makeTraits);\n\t\t},\n\t},\n\t{\n\t\tname: 'Volunteers',\n\t\tdescription:\n\t\t\t'A kindly person will carry a trait to the Shop Before Life.',\n\t\ticon: 'people-carry',\n\t\ttype: employeeTypes.DELIVERY,\n\t\tbaseCost: 4,\n\t\tunlockedAtTraitsDelivered: 20,\n\t\t// specifics\n\n\t\tworkPerSecond(traitsState) {\n\t\t\treturn (\n\t\t\t\ttraitsState.overallWorkMultiplier *\n\t\t\t\tthis.baseWorkPerSecond *\n\t\t\t\ttraitsState.employees[employeeTypes.DELIVERY]\n\t\t\t\t\t.workPerSecondMultiplier *\n\t\t\t\ttraitsState.employees[employeeTypes.DELIVERY].hiredAmount\n\t\t\t);\n\t\t},\n\n\t\tbaseWorkPerSecond: 20,\n\t\toutputPerCompletion: 1,\n\t\tworkRequiredToComplete: 280,\n\n\t\toutcomePerSecond: 0,\n\t\tdeliveryAnimationDuration: 20,\n\t\thire(traitsState) {\n\t\t\ttraitsState.employees[employeeTypes.DELIVERY].hiredAmount += 1;\n\t\t},\n\t\twork: {\n\t\t\tpaused: false,\n\t\t\tprogress: 0,\n\t\t\tjustFailed: false,\n\t\t},\n\t\tunlocked(traitsState) {\n\t\t\treturn traitsState.totalDelivered >= this.unlockedAtTraitsDelivered;\n\t\t},\n\t\ttick(delta, traitsState, employee) {\n\t\t\tprocessTick(\n\t\t\t\tdelta,\n\t\t\t\ttraitsState,\n\t\t\t\temployee,\n\t\t\t\ttraitsState.autoDeliverTraits\n\t\t\t);\n\t\t},\n\t},\n\t{\n\t\tname: 'Amateurs',\n\t\tdescription: 'Some random people will help build your factory.',\n\t\ticon: 'hammer',\n\t\ttype: employeeTypes.BUILDER,\n\n\t\tunlockedAtTraitsDelivered: 400,\n\t\t// specifics\n\t\tbaseWorkPerSecond: 10,\n\t\tworkPerSecond(traitsState) {\n\t\t\treturn (\n\t\t\t\ttraitsState.overallWorkMultiplier *\n\t\t\t\tthis.baseWorkPerSecond *\n\t\t\t\ttraitsState.employees[employeeTypes.BUILDER]\n\t\t\t\t\t.workPerSecondMultiplier *\n\t\t\t\ttraitsState.employees[employeeTypes.BUILDER].hiredAmount\n\t\t\t);\n\t\t},\n\n\t\tworkRequiredToComplete: 10000,\n\t\tbaseCost: 25,\n\t\toutputPerCompletion: 1,\n\n\t\toutcomePerSecond: 0,\n\t\thire(traitsState) {\n\t\t\ttraitsState.employees[employeeTypes.BUILDER].hiredAmount += 1;\n\t\t},\n\t\twork: {\n\t\t\tbuilding: machineTypes.NONE,\n\t\t\tpaused: false,\n\t\t\tprogress: 0,\n\t\t\tjustFailed: false,\n\t\t},\n\t\tunlocked(traitsState) {\n\t\t\treturn traitsState.machines.unlocked;\n\t\t},\n\t\tcheckBuildQueue(traitsState, employee) {\n\t\t\tif (employee.work.building === machineTypes.NONE) {\n\t\t\t\tif (traitsState.machines.buildQueue.length > 0) {\n\t\t\t\t\temployee.work.building =\n\t\t\t\t\t\ttraitsState.machines.buildQueue[0].type;\n\t\t\t\t\tlet machine = traitsState.machines.all.filter(\n\t\t\t\t\t\t(a) => a.type === employee.work.building\n\t\t\t\t\t)[0];\n\t\t\t\t\temployee.workRequiredToComplete =\n\t\t\t\t\t\tmachine.workRequiredToBuild;\n\t\t\t\t} else {\n\t\t\t\t\t// nothing to build\n\t\t\t\t\temployee.work.building = machineTypes.NONE;\n\t\t\t\t\temployee.outcomePerSecond = 0;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\ttick(delta, traitsState, employee) {\n\t\t\tif (employee.work.paused) {\n\t\t\t\temployee.outcomePerSecond = 0;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet currentEmployeeState =\n\t\t\t\ttraitsState.employees[employeeTypes.BUILDER];\n\n\t\t\temployee.checkBuildQueue(traitsState, employee);\n\n\t\t\tif (employee.work.building === machineTypes.NONE) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// get machine we're building\n\t\t\tlet machine = traitsState.machines.all.filter(\n\t\t\t\t(a) => a.type === employee.work.building\n\t\t\t)[0];\n\n\t\t\tif (!machine) {\n\t\t\t\tconsole.error(\n\t\t\t\t\t\"can't find machine to build: \" + employee.work.building\n\t\t\t\t);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// calculate work progress\n\t\t\tlet timeToProgress = (delta * 1.0) / 1000;\n\n\t\t\t// apply progress\n\t\t\tlet progress = timeToProgress * employee.workPerSecond(traitsState);\n\t\t\temployee.work.progress += progress;\n\n\t\t\tlet everFailed = false;\n\t\t\tlet actualWorkRequired =\n\t\t\t\temployee.workRequiredToComplete *\n\t\t\t\tcurrentEmployeeState.workRequiredMultiplier;\n\t\t\twhile (employee.work.progress >= actualWorkRequired) {\n\t\t\t\tlet success = traitsState.buildMachine(\n\t\t\t\t\tmachine,\n\t\t\t\t\temployee.outputPerCompletion *\n\t\t\t\t\t\tcurrentEmployeeState.outputMultiplier\n\t\t\t\t);\n\n\t\t\t\tif (!success) {\n\t\t\t\t\teverFailed = true;\n\t\t\t\t}\n\t\t\t\temployee.work.progress -= actualWorkRequired;\n\t\t\t\temployee.work.progress = Math.max(0, employee.work.progress);\n\n\t\t\t\temployee.work.building = machineTypes.NONE;\n\t\t\t\temployee.checkBuildQueue(traitsState, employee);\n\n\t\t\t\tif (employee.work.building === machineTypes.NONE) {\n\t\t\t\t\temployee.work.progress = 0;\n\t\t\t\t}\n\n\t\t\t\tif (everFailed) {\n\t\t\t\t\temployee.work.justFailed = true;\n\t\t\t\t\tsetTimeout(\n\t\t\t\t\t\t() => (employee.work.justFailed = false),\n\t\t\t\t\t\ttraitsState.justFailedMs\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// set the current rate on the platonic employee object\n\t\t\tlet timeRequired =\n\t\t\t\t(actualWorkRequired * 1.0) /\n\t\t\t\temployee.workPerSecond(traitsState);\n\t\t\temployee.currentTimeTaken = timeRequired;\n\n\t\t\temployee.outcomePerSecond =\n\t\t\t\t(employee.outputPerCompletion *\n\t\t\t\t\tcurrentEmployeeState.outputMultiplier *\n\t\t\t\t\t1.0) /\n\t\t\t\ttimeRequired;\n\t\t},\n\t},\n];\n\nexport default employees;\n","import machineTypes from './machine_types';\nimport machineRoles from './machine_roles';\n\nconst machines = [\n\t{\n\t\tname: 'None',\n\t\ttype: machineTypes.NONE,\n\t\trole: machineRoles.NONE,\n\t\tunlocked: false,\n\t\tstorage(){\n\t\t\treturn 0;\n\t\t},\n\t\tcanBuild(){\n\t\t\treturn false;\n\t\t}\n\t},\n\t{\n\t\tname: 'Lemon Power',\n\t\ttier: 0,\n\t\tdescription: 'Simple, delicious electricity.',\n\t\ticon: 'lemon',\n\t\ttype: machineTypes.LEMON_POWER,\n\t\trole: machineRoles.POWER,\n\t\tunlocked: true,\n\t\tbaseCost: 65,\n\t\tpower: 10,\n\t\tworkRequiredToBuild: 500,\n\t\tbuiltAmount: 0,\n\t\tstorage(){\n\t\t\treturn 0;\n\t\t}\n\t},\n\t{\n\t\ttier: 0,\n\t\tname: 'Machining Table',\n\t\tdescription: 'Electrified tools to produce traits FAST.',\n\t\ttype: machineTypes.MACHINING_TABLE,\n\t\trole: machineRoles.PRODUCTION,\n\t\ticon: 'wrench',\n\t\tunlocked: true,\n\t\tbaseCost: 100,\n\t\tpower: -5,\n\t\tbuiltAmount: 0,\n\t\tworkers: 0,\n\t\tworkRequiredToBuild: 2500, // 20000,\n\n\t\tbaseProduction: 10,\n\t\tmultProduction: .97,\n\t\ttraitsPerOutput: 5,\n\n\t\tbaseWorkPerSecond(){\n\t\t\treturn this.baseProduction * this.multProduction;\n\t\t},\n\t\tstorage(){\n\t\t\treturn 0;\n\t\t},\n\t\twork: {\n\t\t\trequired: 100,\n\t\t\tprogress: 0\n\t\t},\n\t\ttraitsOutputPerSecond: 0,\n\t\tcurrentTimeTaken: 0\n\t},\n\t{\n\t\ttier: 0,\n\t\tname: 'Loader',\n\t\tdescription: 'Each loader speeds up delivery more than the one before.',\n\t\ttype: machineTypes.LOADER,\n\t\trole: machineRoles.DELIVERY,\n\t\ticon: 'arrow-circle-down',\n\t\tunlocked: true,\n\t\tbaseCost: 150,\n\t\tpower: -20,\n\t\tbuiltAmount: 0,\n\t\tworkers: 0,\n\t\tworkRequiredToBuild: 3000,\n\n\t\tbaseDelivery: .45,\n\t\tmultDelivery: 0.4,\n\t\ttraitsPerOutput: 1,\n\n\t\ttotalDeliveryMultiplier(){\n\t\t\treturn (1 + (this.baseDelivery * this.multDelivery * Math.pow(this.builtAmount, 1.65)));\n\t\t},\n\t\tstorage(){\n\t\t\treturn 0;\n\t\t},\n\t\twork: {\n\t\t\trequired: 100,\n\t\t\tprogress: 0\n\t\t},\n\t\ttraitsOutputPerSecond: 0,\n\t\tcurrentTimeTaken: 0\n\t},\n\t{\n\t\ttier: 1,\n\t\tname: 'Small Warehouse',\n\t\tdescription: 'A vast place to put your box collection.',\n\t\ttype: machineTypes.SMALL_WAREHOUSE,\n\t\trole: machineRoles.STORAGE,\n\t\ticon: 'warehouse', // cog, cogs\n\t\tunlocked: false,\n\t\tbaseCost: 1000,\n\t\tpower: -150,\n\t\tbuiltAmount: 0,\n\t\tworkRequiredToBuild: 2500,\n\t\tbaseStorage: 1500,\n\t\tmultStorage: 1,\n\t\tstorage(){\n\t\t\treturn this.baseStorage * this.multStorage;\n\t\t}\n\t},\n\t{\n\t\ttier: 1,\n\t\tname: 'Personality Assembler',\n\t\tdescription: 'Generates traits faster than electrified tables.',\n\t\ttype: machineTypes.ASSEMBLER,\n\t\trole: machineRoles.PRODUCTION,\n\t\ticon: 'cogs',\n\t\tunlocked: false,\n\t\tbaseCost: 2000,\n\t\tpower: -200,\n\t\tbuiltAmount: 0,\n\t\tworkers: 0,\n\t\tworkRequiredToBuild: 12500,\n\n\t\tbaseProduction: 15,\n\t\tmultProduction: 1.6,\n\t\ttraitsPerOutput: 35,\n\n\t\tbaseWorkPerSecond(){\n\t\t\treturn this.baseProduction * this.multProduction;\n\t\t},\n\n\t\tstorage(){\n\t\t\treturn 0;\n\t\t},\n\t\twork: {\n\t\t\trequired: 100,\n\t\t\tprogress: 0\n\t\t},\n\t\ttraitsOutputPerSecond: 0,\n\t\tcurrentTimeTaken: 0\n\t},\n\t{\n\t\tname: 'Water Power',\n\t\ttier: 1,\n\t\tdescription: 'Use that nearby river to generate electricity.',\n\t\ticon: 'water',\n\t\ttype: machineTypes.WATER_POWER,\n\t\trole: machineRoles.POWER,\n\t\tunlocked: false,\n\t\tbaseCost: 1500,\n\t\tpower: 300,\n\t\tworkRequiredToBuild: 10000,\n\t\tbuiltAmount: 0,\n\t\tbaseProduction: 0,\n\t\tmultProduction: 1,\n\t\tbaseDelivery: 0,\n\t\tmultDelivery: 1,\n\t\tstorage(){\n\t\t\treturn 0;\n\t\t},\n\t},\n\t{\n\t\ttier: 2,\n\t\tname: 'Medium Warehouse',\n\t\tdescription: 'Boxes just aren\\'t enough anymore.',\n\t\ttype: machineTypes.MEDIUM_WAREHOUSE,\n\t\trole: machineRoles.STORAGE,\n\t\ticon: 'hospital-alt', // cog, cogs\n\t\tunlocked: false,\n\t\tbaseCost: 125000,\n\t\tpower: -500,\n\t\tbuiltAmount: 0,\n\t\tworkRequiredToBuild: 20000,\n\t\tbaseProduction: 1,\n\t\tmultProduction: 1,\n\t\tbaseStorage: 10000,\n\t\tmultStorage: 1,\n\t\tstorage(){\n\t\t\treturn this.baseStorage * this.multStorage;\n\t\t},\n\t},\n\t{\n\t\ttier: 2,\n\t\tname: 'Conveying Machines',\n\t\tdescription: 'Produce traits faster by shipping them quickly around your factory.',\n\t\ttype: machineTypes.CONVEYOR_BELT,\n\t\trole: machineRoles.PRODUCTION,\n\t\ticon: 'bacon',\n\t\tunlocked: false,\n\t\tbaseCost: 150000,\n\t\tpower: -500,\n\t\tbuiltAmount: 0,\n\t\tworkers: 0,\n\t\tworkRequiredToBuild: 40000, // 20000,\n\n\t\tbaseProduction: 15,\n\t\tmultProduction: 3.8,\n\t\ttraitsPerOutput: 250,\n\n\t\tbaseWorkPerSecond(){\n\t\t\treturn this.baseProduction * this.multProduction;\n\t\t},\n\n\t\tstorage(){\n\t\t\treturn 0;\n\t\t},\n\t\twork: {\n\t\t\trequired: 100,\n\t\t\tprogress: 0\n\t\t},\n\t\ttraitsOutputPerSecond: 0,\n\t\tcurrentTimeTaken: 0\n\t},\n\t{\n\t\tname: 'Steam Power',\n\t\ttier: 2,\n\t\tdescription: 'BOIL the river to make MORE electricity.',\n\t\ticon: 'mug-hot',\n\t\ttype: machineTypes.STEAM_POWER,\n\t\trole: machineRoles.POWER,\n\t\tunlocked: false,\n\t\tbaseCost: 100000,\n\t\tpower: 1000,\n\t\tworkRequiredToBuild: 25000,\n\t\tbuiltAmount: 0,\n\t\tbaseProduction: 0,\n\t\tmultProduction: 1,\n\t\tbaseDelivery: 0,\n\t\tmultDelivery: 1,\n\t\tstorage(){\n\t\t\treturn 0;\n\t\t},\n\t},\n\t{\n\t\tname: 'Turbine Power',\n\t\ttier: 3,\n\t\tdescription: 'Why stop at the river? Harness electricity from the air itself.',\n\t\ticon: 'wind',\n\t\ttype: machineTypes.TURBINE_POWER,\n\t\trole: machineRoles.POWER,\n\t\tunlocked: false,\n\t\tbaseCost: 1000000,\n\t\tpower: 20000,\n\t\tworkRequiredToBuild: 75000,\n\t\tbuiltAmount: 0,\n\t\tbaseProduction: 0,\n\t\tmultProduction: 1,\n\t\tstorage(){\n\t\t\treturn 0;\n\t\t},\n\t},\n\t{\n\t\ttier: 3,\n\t\tname: 'Trait Pump',\n\t\tdescription: 'Fills thousands of jars at once to generate traits SUPER fast.',\n\t\ttype: machineTypes.TRAIT_PUMP,\n\t\trole: machineRoles.PRODUCTION,\n\t\ticon: 'gas-pump',\n\t\tunlocked: false,\n\t\tbaseCost: 1200000,\n\t\tpower: -10000,\n\t\tbuiltAmount: 0,\n\t\tworkers: 0,\n\t\tworkRequiredToBuild: 100000, // 20000,\n\n\t\tbaseProduction: 15,\n\t\tmultProduction: 3.8,\n\t\ttraitsPerOutput: 2000,\n\n\t\tbaseWorkPerSecond(){\n\t\t\treturn this.baseProduction * this.multProduction;\n\t\t},\n\n\t\tstorage(){\n\t\t\treturn 0;\n\t\t},\n\t\twork: {\n\t\t\trequired: 100,\n\t\t\tprogress: 0\n\t\t},\n\t\ttraitsOutputPerSecond: 0,\n\t\tcurrentTimeTaken: 0\n\t},\n\t{\n\t\ttier: 4,\n\t\tname: 'Industrial Warehouse',\n\t\tdescription: 'The biggest box anyone could ever imagine.',\n\t\ttype: machineTypes.INDUSTRIAL_WAREHOUSE,\n\t\trole: machineRoles.STORAGE,\n\t\ticon: 'industry', // cog, cogs\n\t\tunlocked: false,\n\t\tbaseCost: 9500000,\n\t\tpower: -200000,\n\t\tbuiltAmount: 0,\n\t\tworkRequiredToBuild: 125000,\n\t\tbaseProduction: 1,\n\t\tmultProduction: 1,\n\t\tbaseStorage: 50000,\n\t\tmultStorage: 1,\n\t\tstorage(){\n\t\t\treturn this.baseStorage * this.multStorage;\n\t\t},\n\t},\n\t{\n\t\tname: 'Coal Power',\n\t\ttier: 4,\n\t\tdescription: 'Burn rocks to make more electricity than boring old air and water put together.',\n\t\ticon: 'burn',\n\t\ttype: machineTypes.COAL_POWER,\n\t\trole: machineRoles.POWER,\n\t\tunlocked: false,\n\t\tbaseCost: 5500000,\n\t\tpower: 100000,\n\t\tworkRequiredToBuild: 100000,\n\t\tbuiltAmount: 0,\n\t\tbaseProduction: 0,\n\t\tmultProduction: 1,\n\t\tstorage(){\n\t\t\treturn 0;\n\t\t},\n\t},\n\t{\n\t\ttier: 4,\n\t\tname: 'Assembly Line',\n\t\tdescription: 'Identical machines producing traits in a line. Soul-crushing, but VERY productive.',\n\t\ttype: machineTypes.ASSEMBLY_LINE,\n\t\trole: machineRoles.PRODUCTION,\n\t\ticon: 'grip-lines',\n\t\tunlocked: false,\n\t\tbaseCost: 12000000,\n\t\tpower: -100000,\n\t\tbuiltAmount: 0,\n\t\tworkers: 0,\n\t\tworkRequiredToBuild: 200000, // 20000,\n\n\t\tbaseProduction: 15,\n\t\tmultProduction: 18,\n\t\ttraitsPerOutput: 2500,\n\n\t\tbaseWorkPerSecond(){\n\t\t\treturn this.baseProduction * this.multProduction;\n\t\t},\n\t\tstorage(){\n\t\t\treturn 0;\n\t\t},\n\t\twork: {\n\t\t\trequired: 100,\n\t\t\tprogress: 0\n\t\t},\n\t\ttraitsOutputPerSecond: 0,\n\t\tcurrentTimeTaken: 0\n\t},\n\t{\n\t\ttier: 5,\n\t\tname: 'Trait Compressor',\n\t\tdescription: 'Concentrates traits at the highest possible density so they can be produced at incredible speed.',\n\t\ttype: machineTypes.TRAIT_COMPRESSOR,\n\t\trole: machineRoles.PRODUCTION,\n\t\ticon: 'star',\n\t\tunlocked: false,\n\t\tbaseCost: 90000000,\n\t\tpower: -1000000,\n\t\tbuiltAmount: 0,\n\t\tworkers: 0,\n\t\tworkRequiredToBuild: 800000, // 20000,\n\n\t\tbaseProduction: 15,\n\t\tmultProduction: 20,\n\t\ttraitsPerOutput: 16000,\n\n\t\tbaseWorkPerSecond(){\n\t\t\treturn this.baseProduction * this.multProduction;\n\t\t},\n\t\tstorage(){\n\t\t\treturn 0;\n\t\t},\n\t\twork: {\n\t\t\trequired: 100,\n\t\t\tprogress: 0\n\t\t},\n\t\ttraitsOutputPerSecond: 0,\n\t\tcurrentTimeTaken: 0\n\t},\n\t{\n\t\tname: 'Massive Stone Wheel',\n\t\ttier: 5,\n\t\tdescription: 'This tremendous flywheel stores and releases all the electricity you\\'ll ever need.',\n\t\ticon: 'hockey-puck',\n\t\ttype: machineTypes.MASSIVE_WHEEL,\n\t\trole: machineRoles.POWER,\n\t\tunlocked: false,\n\t\tbaseCost: 65000000,\n\t\tpower: 2000000,\n\t\tworkRequiredToBuild: 250000,\n\t\tbuiltAmount: 0,\n\t\tbaseProduction: 0,\n\t\tmultProduction: 1,\n\t\tbaseDelivery: 0,\n\t\tmultDelivery: 1,\n\t\tstorage(){\n\t\t\treturn 0;\n\t\t},\n\t},\n];\n\nexport default machines;","// is this semi-truthy-semi-enum evil? I'm not sure\nconst machineBuildPermission = {\n\tSUCCESS: true,\n\tNOPOWER: 'nopower',\n\tNOFAVOURS:'nofavours'\n};\nexport default machineBuildPermission;","import moment from 'moment';\n\nconst initialValues = {\n\n\tdebug: false,\n\toverallWorkMultiplier: 1.2,\n\n\ttotalTimePlayed: moment.duration(0),\n\n\tstored: 0,\n\tstoredTraits: [],\n\tstorageMax: 1000000000000,\n\tstorageBase: 1,\n\tstorageMultiplier: 1,\n\tmachineStorageMultiplier: 1,\n\tisMakingTraits: false,\n\tjustFailedToMake: false,\n\tworkRequiredToMakeTrait: 60,\n\tmakeRateBase: 10,\n\tmakeRateMultiplier: 1,\n\tmakeProgressPercent: 0,\n\tmadePerClick: 1,\n\tgameComplete: false,\n\ttotalMade: 0,\n\ttotalDelivered: 0,\n\n\ttotalWastedProduction: 0,\n\ttotalWastedDeliveries: 0,\n\n\tfavours: 0,\n\tfavoursSpent: 0,\n\tdeliveryRateBase: 1,\n\tdeliveryRateMultiplier: 1,\n\n\tcostScalingExponent: 1.45,\n\tcostScalingBaseMultiplier: 1.12,\n\n\tmachineCostMultiplier: 1,\n\tmachineOutputMultiplier: 1,\n\n\tflexibleMachineryUnlocked: false,\n\tflexibleMachinerySetting: 0,\n\tflexibleMachineryAbsMax: 3,\n\tflexibleMachineFactor: 0.15,\n\n\temployees:{\n\t\tproduction:{\n\t\t\thiredAmount: 0,\n\t\t\toutputMultiplier: 1,\n\t\t\tcostMultiplier: 1,\n\t\t\tworkPerSecondMultiplier: 1,\n\t\t\tworkRequiredMultiplier: 1,\n\t\t},\n\t\tdelivery:{\n\t\t\thiredAmount: 0,\n\t\t\toutputMultiplier: 1,\n\t\t\tcostMultiplier: 1,\n\t\t\tworkPerSecondMultiplier: 1,\n\t\t\tworkRequiredMultiplier: 1,\n\t\t},\n\t\tbuilder:{\n\t\t\thiredAmount: 0,\n\t\t\toutputMultiplier: 1,\n\t\t\tcostMultiplier: 1,\n\t\t\tworkPerSecondMultiplier: 1,\n\t\t\tworkRequiredMultiplier: 1,\n\t\t}\n\t},\n\tupgradesPurchased: [ ],\n\tmachinesBuilt:{\n\t\t// yes this is a hacky paste of an enum, I'm sorry\n\t\t'lemonpower': 0,\n\t\t'machiningtable': 0,\n\t\t'loader': 0,\n\t\t'smallwarehouse': 0,\n\n\t\t'assembler': 0,\n\t\t'waterpower': 0,\n\n\t\t'conveyorbelt': 0,\n\t\t'steampower': 0,\n\t\t'mediumwarehouse': 0,\n\n\t\t'turbinepower': 0,\n\t\t'traitpump': 0,\n\t\t'industrialwarehouse': 0,\n\n\t\t'assemblyline': 0,\n\t\t'coalpower': 0,\n\n\t\t'traitcompressor': 0,\n\t\t'massivewheel': 0\n\n\t}\n\n};\n\nexport default initialValues;","import { getTraitName } from './trait_names';\nimport { create_UUID, orderByMultipleProperties } from './shared/functions';\nimport upgrades from './upgrades/upgrades';\nimport employees from './employees/employees';\nimport machines from './machines/machines';\nimport moment from 'moment';\nimport employeeTypes from './employees/employee_types';\nimport employeeAllocations from './employees/employee_allocation';\nimport poissonProcess from 'poisson-process';\nimport machineTypes from './machines/machine_types';\nimport machineRoles from './machines/machine_roles';\nimport machineBuildPermission from './machines/machine_build_permission';\nimport bulmaQuickview from 'bulma-extensions/bulma-quickview/dist/js/bulma-quickview';\nimport initialValues from './save_data/initial_values';\nimport debugValues from './save_data/debug_values';\n\nconst version = '0.9.3';\nconst tickLengthMs = 20;\nconst debug = true && process.env.NODE_ENV === 'development';\n\nconst traitsState = {\n\tversion: version,\n\n\ttickLengthMs: tickLengthMs,\n\tlastTickTime: moment(),\n\ttickInProgress: false,\n\n\t// visuals\n\tvisualStorageMax: 16, // empirically derived as it goes very screwy after this...\n\twrapperHeight: 92, //vh, height of main #wrapper\n\tjustFailedMs: 1250,\n\tdeliveryFadeOutTimeMs: 2500, // matches complex.scss\n\n\t// time\n\tstartTime: moment(),\n\n\tgameComplete: false,\n\tgameWinTime: moment.duration(123456),\n\n\t// employees\n\tallEmployees: [],\n\n\t// upgrades\n\tallUpgrades: [],\n\n\tinitComplete: false,\n\n\tinit(savedValues) {\n\t\tlet values = debug ? debugValues : initialValues;\n\n\t\t// console.log(savedValues);\n\t\tif (savedValues) {\n\t\t\tfor (let prop in savedValues) {\n\t\t\t\tswitch (prop) {\n\t\t\t\t\tcase 'totalTimePlayed':\n\t\t\t\t\t\tvalues[prop] = moment.duration(savedValues[prop]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tvalues[prop] = savedValues[prop];\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor (let i in values['employees']) {\n\t\t\t\tvalues['employees'][i].outputMultiplier = 1;\n\t\t\t\tvalues['employees'][i].costMultiplier = 1;\n\t\t\t\tvalues['employees'][i].workPerSecondMultiplier = 1;\n\t\t\t\tvalues['employees'][i].workRequiredMultiplier = 1;\n\t\t\t}\n\t\t}\n\n\t\tfor (let prop in values) {\n\t\t\ttraitsState[prop] = values[prop];\n\t\t}\n\n\t\ttraitsState.allUpgrades = [];\n\t\ttraitsState.allEmployees = [];\n\t\ttraitsState.machines.all = [];\n\n\t\ttraitsState.machines.unlocked = false;\n\t\ttraitsState.massDelivery.isActive = false;\n\n\t\tlet employeeId = 0;\n\t\temployees.forEach((e) => {\n\t\t\ttraitsState.allEmployees.push({ id: employeeId, ...e });\n\t\t\temployeeId++;\n\t\t});\n\n\t\ttraitsState.getEmployeeByType(\n\t\t\temployeeTypes.PRODUCTION\n\t\t).allocation.manual =\n\t\t\ttraitsState.employees[employeeTypes.PRODUCTION].hiredAmount;\n\n\t\tlet machineId = 0;\n\n\t\tmachines.forEach((m) => {\n\t\t\ttraitsState.machines.all.push({ id: machineId, ...m });\n\t\t\tmachineId++;\n\t\t});\n\n\t\ttraitsState.machines.all = traitsState.machines.all.sort(\n\t\t\torderByMultipleProperties('role', 'baseCost')\n\t\t);\n\n\t\t// console.log(traitsState.machinesBuilt);\n\t\tfor (let builtMachineType in traitsState.machinesBuilt) {\n\t\t\tlet amount = traitsState.machinesBuilt[builtMachineType];\n\t\t\tif (amount > 0) {\n\t\t\t\ttraitsState.getMachineByType(\n\t\t\t\t\tbuiltMachineType\n\t\t\t\t).builtAmount += amount;\n\n\t\t\t\t// reallocate workers for maximum efficiency\n\t\t\t\tlet workers = traitsState.getEmployeeByType(\n\t\t\t\t\temployeeTypes.PRODUCTION\n\t\t\t\t);\n\n\t\t\t\tif (\n\t\t\t\t\tworkers.canReallocate(\n\t\t\t\t\t\temployeeAllocations.MACHINE,\n\t\t\t\t\t\ttraitsState\n\t\t\t\t\t)\n\t\t\t\t) {\n\t\t\t\t\tworkers.reallocate(\n\t\t\t\t\t\temployeeAllocations.MACHINE,\n\t\t\t\t\t\ttraitsState\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t// console.log(traitsState.getMachineByType(machineTypes.LOADER).builtAmount + ' loaders');\n\n\t\ttraitsState.allUpgrades = upgrades.loadAll();\n\t\tif (values.upgradesPurchased && values.upgradesPurchased.length > 0) {\n\t\t\tfor (let u in values.upgradesPurchased) {\n\t\t\t\tconst upgrade = traitsState.getUpgradeByKey(\n\t\t\t\t\tvalues.upgradesPurchased[u]\n\t\t\t\t);\n\t\t\t\tif (upgrade) {\n\t\t\t\t\ttraitsState.applyUpgrade(upgrade);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tlet p = poissonProcess.create(\n\t\t\ttraitsState.massDelivery.averageWaitInMilliseconds,\n\t\t\ttraitsState.massDelivery.trigger\n\t\t);\n\t\tp.start();\n\n\t\ttraitsState.stored = Math.min(\n\t\t\ttraitsState.stored,\n\t\t\ttraitsState.currentStorageSize()\n\t\t);\n\n\t\t// reallocate workers for maximum efficiency\n\t\tlet prodWorkers = traitsState.getEmployeeByType(\n\t\t\temployeeTypes.PRODUCTION\n\t\t);\n\n\t\twhile (\n\t\t\tprodWorkers.canReallocate(employeeAllocations.MACHINE, traitsState)\n\t\t) {\n\t\t\tprodWorkers.reallocate(employeeAllocations.MACHINE, traitsState);\n\t\t}\n\n\t\ttraitsState.updateVisualStorage();\n\n\t\ttraitsState.initComplete = true;\n\t\ttraitsState.lastTickTime = moment();\n\t},\n\n\tmakeWorkPerSecond() {\n\t\treturn traitsState.makeRateBase * traitsState.makeRateMultiplier;\n\t},\n\n\t// delivery constants\n\tmassDelivery: {\n\t\taverageWaitInMilliseconds: 1000 * 200,\n\t\tisActive: false,\n\n\t\ttrigger() {\n\t\t\ttraitsState.massDelivery.isActive = true;\n\t\t},\n\t\tperform() {\n\t\t\tlet s = traitsState.stored;\n\t\t\tlet numberToDeliver = 0;\n\t\t\tif (s < 100) {\n\t\t\t\tnumberToDeliver = s;\n\t\t\t} else if (s < 10000) {\n\t\t\t\tnumberToDeliver = Math.floor(s * 0.5);\n\t\t\t} else if (s < 1000000) {\n\t\t\t\tnumberToDeliver = Math.floor(s * 0.4);\n\t\t\t} else {\n\t\t\t\tnumberToDeliver = Math.floor(s * 0.2);\n\t\t\t}\n\t\t\ttraitsState.autoDeliverTraits(numberToDeliver);\n\t\t\ttraitsState.massDelivery.isActive = false;\n\t\t},\n\t},\n\n\t// per second\n\tgetTimeToMake() {\n\t\tlet secondsRequired =\n\t\t\t(traitsState.workRequiredToMakeTrait * 1.0) /\n\t\t\t(traitsState.makeWorkPerSecond() *\n\t\t\t\ttraitsState.overallWorkMultiplier);\n\t\treturn secondsRequired;\n\t},\n\tgetOutcomePerSecond(type) {\n\t\tlet total = 0;\n\t\ttraitsState.allEmployees.forEach((e) => {\n\t\t\tif (e.type === type) {\n\t\t\t\ttotal += e.outcomePerSecond || 0;\n\t\t\t}\n\t\t});\n\n\t\tif (type === employeeTypes.PRODUCTION) {\n\t\t\t// also add machine production\n\t\t\ttraitsState.machines\n\t\t\t\t.getBuiltByRole(machineRoles.PRODUCTION)\n\t\t\t\t.forEach((m) => {\n\t\t\t\t\ttotal += m.traitsOutputPerSecond || 0;\n\t\t\t\t});\n\t\t}\n\n\t\treturn Number.parseFloat(total.toFixed(2));\n\t},\n\tgetBottleneckedPerSecond() {\n\t\tlet prod = traitsState.getOutcomePerSecond(employeeTypes.PRODUCTION);\n\t\tlet storage = traitsState.currentStorageSize();\n\t\tlet del = traitsState.getOutcomePerSecond(employeeTypes.DELIVERY);\n\n\t\treturn Math.min(Math.min(prod, del), storage);\n\t},\n\n\t// storage methods\n\tcurrentStorageSize() {\n\t\treturn Math.min(\n\t\t\ttraitsState.getNaturalStorageSize() +\n\t\t\t\ttraitsState.machines.getMachineStorageSize(),\n\t\t\ttraitsState.storageMax\n\t\t);\n\t},\n\tgetNaturalStorageSize() {\n\t\treturn Math.min(\n\t\t\ttraitsState.storageBase * traitsState.storageMultiplier,\n\t\t\ttraitsState.storageMax\n\t\t);\n\t},\n\n\t// upgrade methods\n\tgetUpgradeById(id) {\n\t\treturn traitsState.allUpgrades.filter((u) => u.id === id)[0];\n\t},\n\ttryGetUpgradeByName(name) {\n\t\tconst u = traitsState.allUpgrades.filter((u) => u.name === name);\n\n\t\tif (u && u.length > 0) {\n\t\t\treturn u[0];\n\t\t}\n\t\treturn null;\n\t},\n\tgetUpgradeByKey(key) {\n\t\treturn traitsState.allUpgrades.filter((u) => u.key === key)[0];\n\t},\n\tgetUnlockedUpgrades() {\n\t\treturn traitsState.allUpgrades.filter(\n\t\t\t(u) =>\n\t\t\t\tu.unlocked &&\n\t\t\t\ttraitsState.totalDelivered >= u.unlockedAtTraitsDelivered &&\n\t\t\t\t!u.purchased\n\t\t);\n\t},\n\tcanPurchaseUpgrade(id) {\n\t\tconst upgrade = traitsState.allUpgrades.filter((u) => u.id === id)[0];\n\t\tif (!upgrade) {\n\t\t\tconsole.error('missing upgrade in canPurchaseUpgrade, id: ' + id);\n\t\t\treturn false;\n\t\t}\n\n\t\treturn traitsState.favours >= upgrade.cost && !upgrade.purchased;\n\t},\n\tpurchaseUpgrade(id, activatePyro) {\n\t\tconst upgrade = traitsState.allUpgrades.filter((u) => u.id === id)[0];\n\t\tif (!upgrade) {\n\t\t\tconsole.error('missing upgrade in purchaseUpgrade, id: ' + id);\n\t\t\treturn;\n\t\t}\n\n\t\tif (!traitsState.canPurchaseUpgrade(id)) {\n\t\t\tconsole.error(\n\t\t\t\t'attempting to purchase unpurchasable upgrade: ' + id\n\t\t\t);\n\t\t\treturn;\n\t\t}\n\n\t\ttraitsState.favours -= upgrade.cost;\n\t\ttraitsState.favoursSpent += upgrade.cost;\n\t\ttraitsState.applyUpgrade(upgrade, activatePyro);\n\t},\n\tapplyUpgrade(upgrade, activatePyro) {\n\t\tupgrade.purchased = true;\n\t\tupgrade.apply(traitsState, activatePyro);\n\n\t\tif (\n\t\t\ttraitsState.upgradesPurchased.filter((a) => a === upgrade.key)\n\t\t\t\t.length === 0\n\t\t) {\n\t\t\ttraitsState.upgradesPurchased.push(upgrade.key);\n\t\t}\n\t},\n\n\t// employee methods\n\tgetUnlockedEmployees() {\n\t\treturn traitsState.allEmployees.filter((e) => e.unlocked(traitsState));\n\t},\n\tcanHireEmployee(id) {\n\t\tconst emp = traitsState.allEmployees.filter((u) => u.id === id)[0];\n\t\tif (!emp) {\n\t\t\tconsole.error('missing employee in canHireEmployee, id: ' + id);\n\t\t\treturn false;\n\t\t}\n\n\t\treturn traitsState.favours >= traitsState.getEmployeeCost(id);\n\t},\n\tgetEmployeeByType(type) {\n\t\treturn traitsState.allEmployees.filter((a) => a.type === type)[0];\n\t},\n\tgetEmployeeCost(id) {\n\t\tconst emp = traitsState.allEmployees.filter((u) => u.id === id)[0];\n\t\tif (!emp) {\n\t\t\tconsole.error('missing employee in getEmployeeCost, id: ' + id);\n\t\t\treturn 9999999999990;\n\t\t}\n\n\t\tlet status = traitsState.employees[emp.type];\n\t\tif (status.hiredAmount === 0) return emp.baseCost;\n\n\t\tlet cost =\n\t\t\temp.baseCost *\n\t\t\tstatus.costMultiplier *\n\t\t\tMath.pow(traitsState.costScalingBaseMultiplier, status.hiredAmount);\n\t\t//\t\tlet cost = (emp.baseCost * status.costMultiplier) * (Math.pow(status.hiredAmount, traitsState.costScalingExponent));\n\n\t\treturn status.hiredAmount < 15\n\t\t\t? Math.ceil((cost / 2) * 2)\n\t\t\t: Math.ceil(cost / 5) * 5; // round to nearest 5, for fun\n\t},\n\thireEmployee(id) {\n\t\tconst emp = traitsState.allEmployees.filter((u) => u.id === id)[0];\n\t\tif (!emp) {\n\t\t\tconsole.error('missing employee in hireEmployee, id: ' + id);\n\t\t\treturn false;\n\t\t}\n\n\t\tlet cost = traitsState.getEmployeeCost(id);\n\t\ttraitsState.favours -= cost;\n\t\ttraitsState.favoursSpent += cost;\n\n\t\temp.hire(traitsState);\n\t},\n\tcanReallocateProdWorker(allocation) {\n\t\tlet e = traitsState.getEmployeeByType(employeeTypes.PRODUCTION);\n\t\treturn e.canReallocate(allocation, traitsState);\n\t},\n\treallocateProdWorker(allocation) {\n\t\tlet e = traitsState.getEmployeeByType(employeeTypes.PRODUCTION);\n\n\t\tif (e.canReallocate(allocation, traitsState)) {\n\t\t\te.reallocate(allocation, traitsState);\n\t\t}\n\t},\n\n\tgetFlexibleMultiplier(employeeType) {\n\t\tif (\n\t\t\t!traitsState.flexibleMachineryUnlocked ||\n\t\t\ttraitsState.flexibleMachinerySetting === 0\n\t\t)\n\t\t\treturn 1;\n\n\t\tswitch (employeeType) {\n\t\t\tcase employeeTypes.PRODUCTION:\n\t\t\t\treturn (\n\t\t\t\t\t1 -\n\t\t\t\t\ttraitsState.flexibleMachinerySetting *\n\t\t\t\t\t\ttraitsState.flexibleMachineFactor\n\t\t\t\t);\n\t\t\tcase employeeTypes.DELIVERY:\n\t\t\t\treturn (\n\t\t\t\t\t1 +\n\t\t\t\t\ttraitsState.flexibleMachinerySetting *\n\t\t\t\t\t\ttraitsState.flexibleMachineFactor\n\t\t\t\t);\n\t\t\tdefault:\n\t\t\t\tconsole.error(\n\t\t\t\t\t'called getFlexibleMultiplier with wrong type: ' +\n\t\t\t\t\t\temployeeType\n\t\t\t\t);\n\t\t}\n\n\t\treturn 1;\n\t},\n\n\t// machines\n\tmachines: {\n\t\tunlocked: false,\n\t\tjustBuilt: false,\n\t\tall: [],\n\t\tcancellationRefundFactor: 0.5,\n\t\tgetBuiltByRole(role) {\n\t\t\treturn traitsState.machines.all.filter(\n\t\t\t\t(a) => a.role === role && a.builtAmount > 0\n\t\t\t);\n\t\t},\n\t\tgetCountByRole(role) {\n\t\t\tlet all = traitsState.machines.getBuiltByRole(role);\n\t\t\tif (all.length > 0) {\n\t\t\t\treturn all\n\t\t\t\t\t.map((a) => a.builtAmount || 0)\n\t\t\t\t\t.reduce((a, b) => a + b);\n\t\t\t} else {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t},\n\t\ttotalPower(includeBuildQueue) {\n\t\t\tlet power = 0;\n\t\t\ttraitsState.machines.all\n\t\t\t\t.filter((a) => a.unlocked && a.builtAmount > 0)\n\t\t\t\t.forEach((m) => {\n\t\t\t\t\tpower += m.power * m.builtAmount;\n\t\t\t\t});\n\n\t\t\tif (includeBuildQueue) {\n\t\t\t\ttraitsState.machines.buildQueue.forEach((buildItem) => {\n\t\t\t\t\tpower += traitsState.machines.all.filter(\n\t\t\t\t\t\t(m) => m.type === buildItem.type\n\t\t\t\t\t)[0].power;\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn power;\n\t\t},\n\t\tspreadAllocation(amount) {\n\t\t\t// TODO: consider having an actual object in memory for each machine, would be a LOT cleaner than this nonsense\n\t\t\t// (but it's late and honestly it's not THAT messy, assuming the game stays as simple as intended... :p)\n\t\t\tlet machines = traitsState.machines\n\t\t\t\t.getBuiltByRole(machineRoles.PRODUCTION)\n\t\t\t\t.sort((a) => a.cost)\n\t\t\t\t.reverse();\n\n\t\t\tmachines.forEach((m) => {\n\t\t\t\tm.workers = 0;\n\t\t\t\tif (amount > 0) {\n\t\t\t\t\t// still workers to allocate\n\t\t\t\t\tif (amount >= m.builtAmount) {\n\t\t\t\t\t\tm.workers = m.builtAmount;\n\t\t\t\t\t\tamount -= m.builtAmount;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tm.workers = amount;\n\t\t\t\t\t\tamount = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tbuildQueue: [], // array of buildqueue objects\n\t\tgetMachineStorageSize() {\n\t\t\tlet size = 0;\n\t\t\ttraitsState.machines.all\n\t\t\t\t.filter(\n\t\t\t\t\t(a) => a.builtAmount > 0 && a.role === machineRoles.STORAGE\n\t\t\t\t)\n\t\t\t\t.forEach((m) => {\n\t\t\t\t\tsize +=\n\t\t\t\t\t\tm.storage() *\n\t\t\t\t\t\ttraitsState.machineStorageMultiplier *\n\t\t\t\t\t\tm.builtAmount;\n\t\t\t\t});\n\t\t\treturn size;\n\t\t},\n\t\tsell(machine) {\n\t\t\tif (machine.builtAmount <= 0) return;\n\t\t\tmachine.builtAmount--;\n\n\t\t\tlet cost = traitsState.getMachineCost(machine.type);\n\t\t\tlet refund = traitsState.getCancellationRefundAmount(cost);\n\n\t\t\ttraitsState.favours += refund;\n\t\t\ttraitsState.favoursSpent -= refund;\n\n\t\t\t// reallocate workers for maximum efficiency\n\t\t\tlet workers = traitsState.getEmployeeByType(\n\t\t\t\temployeeTypes.PRODUCTION\n\t\t\t);\n\t\t\tworkers.reallocate(employeeAllocations.MANUAL, traitsState);\n\t\t},\n\t\ttick(delta) {\n\t\t\tif (!traitsState.machines.unlocked) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet machines = traitsState.machines.getBuiltByRole(\n\t\t\t\tmachineRoles.PRODUCTION\n\t\t\t);\n\t\t\tlet workers = traitsState.getEmployeeByType(\n\t\t\t\temployeeTypes.PRODUCTION\n\t\t\t);\n\n\t\t\tif (!machines) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tmachines.forEach((m) => {\n\t\t\t\tif (m.workers > 0) {\n\t\t\t\t\tif (workers.work.paused) {\n\t\t\t\t\t\tm.traitsOutputPerSecond = 0;\n\t\t\t\t\t\tm.currentTimeTaken = 0;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// calculate work progress for this machine\n\t\t\t\t\t\tlet workPerSecond =\n\t\t\t\t\t\t\t1.0 *\n\t\t\t\t\t\t\ttraitsState.overallWorkMultiplier *\n\t\t\t\t\t\t\tm.baseWorkPerSecond() *\n\t\t\t\t\t\t\tm.workers *\n\t\t\t\t\t\t\tworkers.baseWorkPerSecond *\n\t\t\t\t\t\t\ttraitsState.employees[employeeTypes.PRODUCTION]\n\t\t\t\t\t\t\t\t.workPerSecondMultiplier;\n\n\t\t\t\t\t\tm.work.progress += (workPerSecond * delta) / 1000.0;\n\n\t\t\t\t\t\tlet everFailed = false;\n\t\t\t\t\t\tlet outputAmount =\n\t\t\t\t\t\t\tm.traitsPerOutput *\n\t\t\t\t\t\t\ttraitsState.machineOutputMultiplier *\n\t\t\t\t\t\t\ttraitsState.getFlexibleMultiplier(\n\t\t\t\t\t\t\t\temployeeTypes.PRODUCTION\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\toutputAmount = Math.floor(outputAmount);\n\t\t\t\t\t\t// apply progress\n\t\t\t\t\t\twhile (m.work.progress >= m.work.required) {\n\t\t\t\t\t\t\tlet success = traitsState.makeTraits(outputAmount);\n\t\t\t\t\t\t\tm.work.progress -= m.work.required;\n\n\t\t\t\t\t\t\tif (!success) {\n\t\t\t\t\t\t\t\teverFailed = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (everFailed && !m.work.justFailed) {\n\t\t\t\t\t\t\tm.work.justFailed = true;\n\t\t\t\t\t\t\tsetTimeout(\n\t\t\t\t\t\t\t\t() => (m.work.justFailed = false),\n\t\t\t\t\t\t\t\ttraitsState.justFailedMs\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// set the current rate on the platonic employee object\n\t\t\t\t\t\tlet timeRequired =\n\t\t\t\t\t\t\t(m.work.required * 1.0) / workPerSecond;\n\t\t\t\t\t\tm.currentTimeTaken = timeRequired;\n\n\t\t\t\t\t\tm.traitsOutputPerSecond = outputAmount / timeRequired;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tm.traitsOutputPerSecond = 0;\n\t\t\t\t\tm.currentTimeTaken = 0;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t},\n\tgetUnlockedMachines() {\n\t\tlet totalBuilt = traitsState.machines.all\n\t\t\t.map((a) => a.builtAmount)\n\t\t\t.reduce((a, b) => (a || 0) + (b || 0), 0);\n\n\t\tif (totalBuilt === 0) {\n\t\t\treturn traitsState.machines.all.filter(\n\t\t\t\t(a) => a.unlocked && a.type === machineTypes.LEMON_POWER\n\t\t\t);\n\t\t} else {\n\t\t\treturn traitsState.machines.all.filter((a) => a.unlocked);\n\t\t}\n\t},\n\tcanBuildMachine(machine) {\n\t\tlet cost = traitsState.getMachineCost(machine.type);\n\t\tlet availablePower = Math.min(\n\t\t\ttraitsState.machines.totalPower(false),\n\t\t\ttraitsState.machines.totalPower(true)\n\t\t);\n\n\t\tif (cost > traitsState.favours) {\n\t\t\treturn machineBuildPermission.NOFAVOURS;\n\t\t} else if (availablePower + machine.power < 0) {\n\t\t\treturn machineBuildPermission.NOPOWER;\n\t\t} else {\n\t\t\treturn machineBuildPermission.SUCCESS;\n\t\t}\n\t},\n\tgetMachineCost(type) {\n\t\tlet machine = traitsState.getMachineByType(type);\n\t\tif (!machine)\n\t\t\tconsole.error('missing machine in getMachineCost: (' + type + ' )');\n\n\t\tlet amountInBuildQueue = traitsState.machines.buildQueue.filter(\n\t\t\t(a) => a.type === type\n\t\t).length;\n\n\t\tlet totalAmount = machine.builtAmount + amountInBuildQueue;\n\n\t\tif (totalAmount === 0)\n\t\t\treturn machine.baseCost * traitsState.machineCostMultiplier;\n\n\t\tlet cost =\n\t\t\tmachine.baseCost *\n\t\t\ttraitsState.machineCostMultiplier *\n\t\t\tMath.pow(traitsState.costScalingBaseMultiplier, totalAmount);\n\t\t// let cost = machine.baseCost * traitsState.machineCostMultiplier * (Math.pow(totalAmount, traitsState.costScalingExponent));\n\n\t\treturn Math.ceil(cost / 5) * 5; // round to nearest 5, for fun\n\t},\n\taddMachineToQueue(machine, cost) {\n\t\tif (traitsState.favours - cost < 0) {\n\t\t\talert('no money for machine, should not happen');\n\t\t\treturn;\n\t\t}\n\t\ttraitsState.machines.buildQueue.push({\n\t\t\ttype: machine.type,\n\t\t\tcost: cost,\n\t\t\tname: machine.name,\n\t\t});\n\n\t\ttraitsState.favours -= cost;\n\t\ttraitsState.favoursSpent += cost;\n\t},\n\tgetCancellationRefundAmount(cost) {\n\t\treturn Math.floor(cost * traitsState.machines.cancellationRefundFactor);\n\t},\n\tcancelMachineFromQueue(entry, index) {\n\t\tlet queueEntry = traitsState.machines.buildQueue[index];\n\t\tif (queueEntry.type !== entry.type) {\n\t\t\talert('something weird happened with the build queue, sorry.');\n\t\t\treturn;\n\t\t}\n\n\t\ttraitsState.machines.buildQueue.splice(index, 1);\n\n\t\tlet refundAmount = traitsState.getCancellationRefundAmount(entry.cost);\n\n\t\ttraitsState.favours += refundAmount;\n\t\ttraitsState.favoursSpent -= refundAmount;\n\n\t\tif (index === 0) {\n\t\t\t// reset the machine we're actually building\n\t\t\ttraitsState.getEmployeeByType(employeeTypes.BUILDER).work.building =\n\t\t\t\tmachineTypes.NONE;\n\t\t\ttraitsState.getEmployeeByType(\n\t\t\t\temployeeTypes.BUILDER\n\t\t\t).work.progress = 0;\n\t\t}\n\t},\n\tgetMachineByType(type) {\n\t\treturn traitsState.machines.all.filter((m) => m.type === type)[0];\n\t},\n\tgetCurrentlyBuildingMachine() {\n\t\tlet builder = traitsState.getEmployeeByType(employeeTypes.BUILDER);\n\t\tif (builder && builder.work) {\n\t\t\treturn (\n\t\t\t\ttraitsState.getMachineByType(builder.work.building) ||\n\t\t\t\ttraitsState.getMachineByType(machineTypes.NONE)\n\t\t\t);\n\t\t}\n\t\treturn traitsState.getMachineByType(machineTypes.NONE);\n\t},\n\tbuildMachine(machine, amount) {\n\t\tif (!machine) {\n\t\t\tconsole.error('missing machine in buildMachine');\n\t\t\treturn;\n\t\t}\n\n\t\t// check machine is still at the front of the buildqueue\n\t\tlet bqItem = traitsState.machines.buildQueue[0];\n\t\tif (!bqItem) {\n\t\t\tconsole.error(\n\t\t\t\t'missing buildQueueItem in buildMachine: (' +\n\t\t\t\t\tmachine.type +\n\t\t\t\t\t' )'\n\t\t\t);\n\t\t\treturn;\n\t\t}\n\n\t\tif (bqItem.type !== machine.type) {\n\t\t\tconsole.error(\n\t\t\t\t'incorrect type for buildQueueItem in buildMachine: (' +\n\t\t\t\t\tmachine.type +\n\t\t\t\t\t' )'\n\t\t\t);\n\t\t\treturn;\n\t\t}\n\n\t\t// check machine still has enough power\n\t\tif (traitsState.machines.totalPower() + machine.power < 0) {\n\t\t\t// uhoh\n\t\t\t// autocancel this machine\n\t\t\ttraitsState.cancelMachineFromQueue(bqItem, 0);\n\t\t\treturn;\n\t\t}\n\n\t\t// it's all good\n\t\tmachine.builtAmount += amount;\n\t\tif (traitsState.machinesBuilt[machine.type]) {\n\t\t\ttraitsState.machinesBuilt[machine.type] += amount;\n\t\t} else {\n\t\t\ttraitsState.machinesBuilt[machine.type] = amount;\n\t\t}\n\t\ttraitsState.machines.buildQueue.splice(0, 1);\n\t\ttraitsState.machines.justBuilt = true;\n\n\t\t// reallocate workers for maximum efficiency\n\t\tlet workers = traitsState.getEmployeeByType(employeeTypes.PRODUCTION);\n\n\t\tif (workers.canReallocate(employeeAllocations.MACHINE, traitsState)) {\n\t\t\tworkers.reallocate(employeeAllocations.MACHINE, traitsState);\n\t\t}\n\n\t\treturn true;\n\t},\n\n\t// making\n\tonMakeTraitsClicked() {\n\t\tif (traitsState.isMakingTraits) {\n\t\t\treturn;\n\t\t}\n\t\ttraitsState.isMakingTraits = true;\n\t},\n\tprogressMakingTraits(delta) {\n\t\tif (traitsState.makeProgressPercent >= 100) {\n\t\t\ttraitsState.makeProgressPercent = 0; // this one can't wrap over 100 because it can't take place automatically\n\t\t\ttraitsState.isMakingTraits = false;\n\t\t\tlet success = traitsState.makeTraits(traitsState.madePerClick);\n\t\t\tif (!success && !traitsState.justFailedToMake) {\n\t\t\t\ttraitsState.justFailedToMake = true;\n\t\t\t\tsetTimeout(\n\t\t\t\t\t() => (traitsState.justFailedToMake = false),\n\t\t\t\t\ttraitsState.justFailedMs\n\t\t\t\t);\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\tlet amountToProgress = (delta * 1.0) / 1000;\n\n\t\ttraitsState.makeProgressPercent +=\n\t\t\t((amountToProgress * 1.0) /\n\t\t\t\t((traitsState.workRequiredToMakeTrait * 1.0) /\n\t\t\t\t\t(traitsState.makeWorkPerSecond() *\n\t\t\t\t\t\ttraitsState.overallWorkMultiplier))) *\n\t\t\t100;\n\t},\n\tcanMakeTraits() {\n\t\treturn !traitsState.isMakingTraits; // && !traitsState.isStorageFull()\n\t},\n\tmakeTraits(amount) {\n\t\tif (!amount) return 0;\n\t\tamount = Math.floor(amount);\n\n\t\tif (!traitsState.isStorageFull()) {\n\t\t\tlet amountMade = traitsState.addToStorage(amount);\n\t\t\ttraitsState.totalMade += amountMade;\n\t\t\ttraitsState.totalWastedProduction += Math.max(\n\t\t\t\tamount - amountMade,\n\t\t\t\t0\n\t\t\t);\n\t\t\treturn amountMade;\n\t\t} else {\n\t\t\ttraitsState.totalWastedProduction += Math.max(amount, 0);\n\t\t\treturn 0;\n\t\t}\n\t},\n\tisStorageFull() {\n\t\treturn traitsState.stored >= traitsState.currentStorageSize();\n\t},\n\tincreaseStorageSize(amount) {\n\t\ttraitsState.storageBase += amount;\n\t},\n\tincreaseStorageMultiplierByAmount(amount) {\n\t\ttraitsState.storageMultiplier += amount;\n\t},\n\tincreaseStorageMultiplierByFactor(amount) {\n\t\ttraitsState.storageMultiplier *= amount;\n\t},\n\tupdateVisualStorage() {\n\t\tif (\n\t\t\ttraitsState.storedTraits.filter((a) => !a.delivered).length ===\n\t\t\ttraitsState.stored\n\t\t)\n\t\t\treturn;\n\n\t\tlet desiredAmount = Math.min(\n\t\t\ttraitsState.visualStorageMax,\n\t\t\ttraitsState.stored\n\t\t);\n\n\t\tlet currentAmount =\n\t\t\ttraitsState.stored <= traitsState.visualStorageMax &&\n\t\t\ttraitsState.currentStorageSize() < traitsState.visualStorageMax &&\n\t\t\ttraitsState.storedTraits.length < traitsState.visualStorageMax + 4 // allow a few extra delivery ones at the margins\n\t\t\t\t? traitsState.storedTraits.filter((a) => !a.delivered).length\n\t\t\t\t: traitsState.storedTraits.length; // once we get over the max we don't care whether the visual ones are delivered or not\n\t\tif (currentAmount < desiredAmount) {\n\t\t\tfor (let i = 0; i < desiredAmount - currentAmount; i++) {\n\t\t\t\tconst newTrait = {\n\t\t\t\t\tid: create_UUID(),\n\t\t\t\t\tname: getTraitName(),\n\t\t\t\t\tdelivered: false,\n\t\t\t\t\tdeliver: function () {\n\t\t\t\t\t\tthis.delivered = true;\n\t\t\t\t\t\ttraitsState.selfDeliver(1);\n\t\t\t\t\t\tsetTimeout(\n\t\t\t\t\t\t\t() => traitsState.removeFromVisualStorage(this.id),\n\t\t\t\t\t\t\ttraitsState.deliveryFadeOutTimeMs\n\t\t\t\t\t\t);\n\t\t\t\t\t},\n\t\t\t\t};\n\n\t\t\t\tnewTrait.deliver = newTrait.deliver.bind(newTrait);\n\n\t\t\t\ttraitsState.storedTraits.push(newTrait);\n\t\t\t}\n\t\t}\n\t},\n\taddToStorage(amount) {\n\t\tif (amount < 0) amount = 0;\n\t\tlet initialStored = traitsState.stored;\n\t\ttraitsState.stored = Math.min(\n\t\t\ttraitsState.stored + amount,\n\t\t\ttraitsState.currentStorageSize()\n\t\t);\n\t\t// console.log('adding ' + amount + ' to storage; previously ' + initialStored + '; now ' + traitsState.stored);\n\t\ttraitsState.updateVisualStorage();\n\t\treturn Math.max(traitsState.stored - initialStored, 0);\n\t},\n\n\t// delivery\n\tgetDeliverySpeed() {\n\t\treturn (\n\t\t\ttraitsState.deliveryRateBase * traitsState.deliveryRateMultiplier\n\t\t);\n\t},\n\tautoDeliverTraits(amount) {\n\t\tif (amount <= 0) return 0;\n\n\t\ttraitsState.updateVisualStorage(); // ensure we're starting from a consistent position\n\n\t\tamount = Math.floor(amount);\n\n\t\tlet amountDelivered = 0;\n\t\tlet currentStored = traitsState.stored;\n\n\t\tlet amountToDeliver = Math.min(currentStored, amount); // can't deliver more than we have in storage\n\n\t\tif (amountToDeliver === 0) return 0;\n\n\t\t//console.log('attempting ' + amount + ' delivery; ' + currentStored + ' in storage; ' + ' will attempt ' + amountToDeliver);\n\n\t\tlet amountRemaining = currentStored - amountToDeliver;\n\t\tif (amountRemaining >= traitsState.visualStorageMax) {\n\t\t\t// doesn't affect visual storage at all\n\t\t\ttraitsState.selfDeliver(amountToDeliver);\n\t\t\tamountDelivered = amountToDeliver;\n\t\t} else if (amountRemaining <= 0) {\n\t\t\t// we're delivering everything in the whole place\n\t\t\tlet undeliveredVisuals = traitsState.storedTraits.filter(\n\t\t\t\t(a) => !a.delivered\n\t\t\t);\n\t\t\tundeliveredVisuals.forEach((a) => a.deliver());\n\t\t\ttraitsState.selfDeliver(currentStored - undeliveredVisuals.length);\n\t\t} else {\n\t\t\t// we have a few remaining after delivery but we're affecting visuals\n\t\t\tlet visualsToAffect =\n\t\t\t\ttraitsState.storedTraits.filter((a) => !a.delivered).length -\n\t\t\t\tamountRemaining;\n\n\t\t\tlet affectedVisuals = traitsState.storedTraits\n\t\t\t\t.filter((a) => !a.delivered)\n\t\t\t\t.slice(0, visualsToAffect); // gets all elements from amount remaining to end\n\n\t\t\tif (\n\t\t\t\tvisualsToAffect !== affectedVisuals.length ||\n\t\t\t\tvisualsToAffect === 0\n\t\t\t) {\n\t\t\t\t// debugger;\n\t\t\t}\n\n\t\t\t//console.log('should affect ' + visualsToAffect + ' traits; found ' + affectedVisuals.length);\n\n\t\t\tlet remainingDeliveries = amountToDeliver - affectedVisuals.length;\n\n\t\t\taffectedVisuals.forEach((a) => a.deliver()); // each calls selfDeliver itself\n\n\t\t\tif (remainingDeliveries > 0) {\n\t\t\t\ttraitsState.selfDeliver(remainingDeliveries);\n\t\t\t}\n\n\t\t\tamountDelivered = amountToDeliver;\n\t\t}\n\n\t\t//console.log('delivered ' + amountDelivered + '; leaving ' + traitsState.stored + ' in storage');\n\n\t\tif (amountDelivered < amount) {\n\t\t\ttraitsState.totalWastedDeliveries += amount - amountDelivered;\n\t\t}\n\n\t\treturn amountDelivered;\n\t},\n\tselfDeliver(amount) {\n\t\tif (amount <= 0) amount = 0;\n\t\ttraitsState.favours += amount;\n\t\ttraitsState.totalDelivered += amount;\n\t\ttraitsState.stored -= amount;\n\t\tif (traitsState.stored < 0) {\n\t\t\ttraitsState.stored = 0;\n\t\t}\n\t},\n\tremoveFromVisualStorage(id) {\n\t\ttraitsState.storedTraits = traitsState.storedTraits.filter(\n\t\t\t(t) => t.id !== id\n\t\t);\n\t\ttraitsState.updateVisualStorage();\n\t},\n\n\tattachQuickviews() {\n\t\tbulmaQuickview.attach();\n\t},\n\n\ttick(isPaused) {\n\t\tif (\n\t\t\t!traitsState.initComplete ||\n\t\t\tisPaused ||\n\t\t\ttraitsState.tickInProgress\n\t\t) {\n\t\t\treturn;\n\t\t}\n\n\t\ttraitsState.tickInProgress = true;\n\n\t\ttry {\n\t\t\tlet start = moment();\n\t\t\tlet delta = start.diff(traitsState.lastTickTime);\n\n\t\t\ttraitsState.totalTimePlayed.add(delta);\n\n\t\t\t// if (traitsState.debug && delta > traitsState.tickLengthMs * 2) {\n\t\t\t// \tconsole.log('tick delta: ' + delta);\n\t\t\t// }\n\n\t\t\tif (traitsState.isMakingTraits) {\n\t\t\t\ttraitsState.progressMakingTraits(delta);\n\t\t\t}\n\n\t\t\ttraitsState.updateVisualStorage();\n\n\t\t\ttraitsState.allEmployees.forEach((employee) => {\n\t\t\t\tif (traitsState.employees[employee.type].hiredAmount > 0) {\n\t\t\t\t\temployee.tick(delta, traitsState, employee);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\ttraitsState.machines.tick(delta);\n\n\t\t\ttraitsState.updateVisualStorage();\n\n\t\t\ttraitsState.lastTickTime = moment();\n\t\t\ttraitsState.tickInProgress = false;\n\t\t} catch (ex) {\n\t\t\tconsole.error('Exception in tick', ex);\n\t\t\ttraitsState.tickInProgress = false;\n\t\t}\n\t},\n};\n\nexport default traitsState;\n","import upgradesKeys from '../upgrades/upgrades_keys';\nimport moment from 'moment';\n\nconst debugValues = {\n\tdebug: true,\n\toverallWorkMultiplier: 1.2,\n\ttotalTimePlayed: moment.duration(0),\n\tstored: 0,\n\tstoredTraits: [],\n\tstorageMax: 1000000000000,\n\tstorageBase: 1,\n\tstorageMultiplier: 1,\n\tmachineStorageMultiplier: 1,\n\tisMakingTraits: false,\n\tjustFailedToMake: false,\n\tworkRequiredToMakeTrait: 60,\n\tmakeRateBase: 10,\n\tmakeRateMultiplier: 1,\n\tmakeProgressPercent: 0,\n\tmadePerClick: 1,\n\tgameComplete: false,\n\ttotalMade: 100,\n\ttotalDelivered: 100,\n\n\ttotalWastedProduction: 0,\n\ttotalWastedDeliveries: 0,\n\n\tfavours: 1000,\n\tfavoursSpent: 0,\n\tdeliveryRateBase: 1,\n\tdeliveryRateMultiplier: 1,\n\n\tcostScalingExponent: 1.45,\n\tcostScalingBaseMultiplier: 1.12,\n\n\tmachineCostMultiplier: 1,\n\tmachineOutputMultiplier: 1,\n\n\tflexibleMachineryUnlocked: false,\n\tflexibleMachinerySetting: 0,\n\tflexibleMachineryAbsMax: 3,\n\tflexibleMachineFactor: 0.15,\n\n\temployees: {\n\t\tproduction: {\n\t\t\thiredAmount: 31,\n\t\t\toutputMultiplier: 1,\n\t\t\tcostMultiplier: 1,\n\t\t\tworkPerSecondMultiplier: 1,\n\t\t\tworkRequiredMultiplier: 1,\n\t\t},\n\t\tdelivery: {\n\t\t\thiredAmount: 31,\n\t\t\toutputMultiplier: 1,\n\t\t\tcostMultiplier: 1,\n\t\t\tworkPerSecondMultiplier: 1,\n\t\t\tworkRequiredMultiplier: 1,\n\t\t},\n\t\tbuilder: {\n\t\t\thiredAmount: 3,\n\t\t\toutputMultiplier: 1,\n\t\t\tcostMultiplier: 1,\n\t\t\tworkPerSecondMultiplier: 1,\n\t\t\tworkRequiredMultiplier: 1,\n\t\t},\n\t},\n\tupgradesPurchased: [\n\t\tupgradesKeys.BOX_1,\n\t\tupgradesKeys.WORKBENCH,\n\t\tupgradesKeys.TOOLS,\n\t\tupgradesKeys.GLASSBLOWING,\n\t\tupgradesKeys.BOX_2,\n\t\tupgradesKeys.INVENT_MACHINERY,\n\t\tupgradesKeys.BETTER_MACHINERY,\n\t\tupgradesKeys.FLEXIBLE_MACHINERY,\n\t],\n\n\tmachinesBuilt: {\n\t\t// yes this is a hacky paste of an enum, I'm sorry\n\t\tlemonpower: 0,\n\t\tmachiningtable: 0,\n\t\tloader: 0,\n\t\tsmallwarehouse: 0,\n\n\t\tassembler: 0,\n\t\twaterpower: 0,\n\n\t\tconveyorbelt: 0,\n\t\tsteampower: 0,\n\t\tmediumwarehouse: 0,\n\n\t\tturbinepower: 0,\n\t\ttraitpump: 0,\n\t\tindustrialwarehouse: 0,\n\n\t\tassemblyline: 0,\n\t\tcoalpower: 0,\n\n\t\ttraitcompressor: 0,\n\t\tmassivewheel: 0,\n\t},\n};\n\nexport default debugValues;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\n\nconst UpgradeBoughtEntry = (props) => {\n\tconst {upgrade} = props;\n\treturn(<li className=\"is-size-7 has-text-variant-italic tooltip is-tooltip-left\" data-tooltip={upgrade.description} >\n\t\t{ upgrade.name }\n\t</li>);};\n\nexport default UpgradeBoughtEntry;\n\nUpgradeBoughtEntry.propTypes = {\n\tupgrade: PropTypes.object.isRequired\n};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport UpgradeBoughtEntry from './upgrade_bought_entry';\n\nconst UpgradesBought = (props) => {\n\tconst purchasedUpgrades = props.allUpgrades.filter(u => u.purchased);\n\n\treturn(<div id=\"upgradesBought\">\n\t\t<p><strong>Purchased </strong> { purchasedUpgrades.length } of { props.allUpgrades.length } </p>\n\t\t<ul className=\"box is-paddingless has-spacing-top\">\n\t\t\t{ purchasedUpgrades.map((upgrade) => <UpgradeBoughtEntry key={upgrade.id} upgrade={upgrade}  />)}\n\t\t</ul>\n\t</div>);};\n\nexport default UpgradesBought;\n\nUpgradesBought.propTypes = {\n\tallUpgrades: PropTypes.array.isRequired\n};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport jarMix from '../../resources/images/jarmix.jpg';\nimport UpgradesBought from './upgrades_bought';\nimport FriendlyNumber from '../shared/friendly_number';\nimport FontAwesome from '../shared/font_awesome';\nimport HelpText from '../shared/help_text';\n\nexport default class ComplexStats extends React.Component {\n\tcomponentDidMount() {\n\t\tthis.props.attachQuickviews();\n\t}\n\n\trender() {\n\t\tlet timeLived = moment.duration(0);\n\t\tif (this.props.totalTimePlayed) {\n\t\t\ttimeLived = moment.duration(\n\t\t\t\t(this.props.totalTimePlayed.asSeconds() *\n\t\t\t\t\t0.006 *\n\t\t\t\t\tthis.props.totalTimePlayed.asMinutes()) /\n\t\t\t\t\t1.8,\n\t\t\t\t'years'\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\tid='statsView'\n\t\t\t\tclassName={\n\t\t\t\t\t'quickview ' + (this.props.statsActive ? 'is-active' : '')\n\t\t\t\t}>\n\t\t\t\t<div className='statsHeader notification is-primary has-text-centered is-flex'>\n\t\t\t\t\t<span className='title is-size-4'>Statistics</span>\n\t\t\t\t</div>\n\n\t\t\t\t<div className='quickview-body'>\n\t\t\t\t\t<div className='quickview-block has-text-centered'>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<strong>\n\t\t\t\t\t\t\t\t<FontAwesome icon={'globe-europe'} /> Time\n\t\t\t\t\t\t\t\tPlayed (Earth):{' '}\n\t\t\t\t\t\t\t</strong>\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t{moment\n\t\t\t\t\t\t\t\t\t.utc(\n\t\t\t\t\t\t\t\t\t\tthis.props.totalTimePlayed?.asMilliseconds()\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t.format('HH:mm:ss')}{' '}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<strong>\n\t\t\t\t\t\t\t\t<FontAwesome icon={'heartbeat'} /> Time Lived\n\t\t\t\t\t\t\t\t(Prelife):{' '}\n\t\t\t\t\t\t\t</strong>\n\t\t\t\t\t\t\t<span>{timeLived?.humanize()} </span>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<strong>Favours Spent: </strong>{' '}\n\t\t\t\t\t\t\t<FriendlyNumber amount={this.props.favoursSpent} />\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<div className='is-divider' data-content='TRAITS'></div>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<strong>Made: </strong>{' '}\n\t\t\t\t\t\t\t<FriendlyNumber\n\t\t\t\t\t\t\t\tamount={this.props.totalMade || 0}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<strong>Delivered: </strong>{' '}\n\t\t\t\t\t\t\t<FriendlyNumber\n\t\t\t\t\t\t\t\tamount={this.props.totalDelivered || 0}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<HelpText\n\t\t\t\t\t\t\t\thelpKey='wastedProduction'\n\t\t\t\t\t\t\t\tdirection='right'\n\t\t\t\t\t\t\t/>{' '}\n\t\t\t\t\t\t\t<strong>Wasted Production: </strong>{' '}\n\t\t\t\t\t\t\t<FriendlyNumber\n\t\t\t\t\t\t\t\tamount={this.props.totalWastedProduction || 0}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<HelpText\n\t\t\t\t\t\t\t\thelpKey='wastedDeliveries'\n\t\t\t\t\t\t\t\tdirection='right'\n\t\t\t\t\t\t\t/>{' '}\n\t\t\t\t\t\t\t<strong>Empty Deliveries: </strong>{' '}\n\t\t\t\t\t\t\t<FriendlyNumber\n\t\t\t\t\t\t\t\tamount={this.props.totalWastedDeliveries || 0}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<strong>Production Efficiency: </strong>{' '}\n\t\t\t\t\t\t\t{(\n\t\t\t\t\t\t\t\t(this.props.totalMade * 100) /\n\t\t\t\t\t\t\t\t(this.props.totalWastedProduction +\n\t\t\t\t\t\t\t\t\tthis.props.totalMade)\n\t\t\t\t\t\t\t).toFixed(1)}\n\t\t\t\t\t\t\t%\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<strong>Delivery Efficiency: </strong>{' '}\n\t\t\t\t\t\t\t{(\n\t\t\t\t\t\t\t\t(this.props.totalDelivered * 100) /\n\t\t\t\t\t\t\t\t(this.props.totalWastedDeliveries +\n\t\t\t\t\t\t\t\t\tthis.props.totalDelivered)\n\t\t\t\t\t\t\t).toFixed(1)}\n\t\t\t\t\t\t\t%\n\t\t\t\t\t\t</p>\n\n\t\t\t\t\t\t<img alt='' src={jarMix} style={{ width: '40px' }} />\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName='is-divider'\n\t\t\t\t\t\t\tdata-content='AUTOMATIC'></div>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<strong>Producing </strong>{' '}\n\t\t\t\t\t\t\t{this.props.producingPerS} traits / second{' '}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<strong>Delivering </strong>{' '}\n\t\t\t\t\t\t\t{this.props.deliveringPerS} traits / second{' '}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName='is-divider'\n\t\t\t\t\t\t\tdata-content='UPGRADES'></div>\n\t\t\t\t\t\t<UpgradesBought allUpgrades={this.props.allUpgrades} />\n\n\t\t\t\t\t\t{this.props.areMachinesUnlocked && (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName='is-divider'\n\t\t\t\t\t\t\t\tdata-content='MACHINES'></div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{this.props.areMachinesUnlocked && (\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t<strong>Invented: </strong>{' '}\n\t\t\t\t\t\t\t\t{this.props.machinesUnlockedList.length}{' '}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{this.props.areMachinesUnlocked && (\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t<strong>Built: </strong>{' '}\n\t\t\t\t\t\t\t\t{this.props.machinesAll\n\t\t\t\t\t\t\t\t\t.map((a) => a.builtAmount || 0)\n\t\t\t\t\t\t\t\t\t.reduce((a, b) => a + b, 0)}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<footer className='quickview-footer has-text-centered is-size-7 notification is-primary'>\n\t\t\t\t\t<span className='smallprint'>\n\t\t\t\t\t\tManagement {this.props.managementReaction}.\n\t\t\t\t\t</span>\n\t\t\t\t</footer>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nComplexStats.propTypes = {\n\tattachQuickviews: PropTypes.func,\n\ttotalTimePlayed: PropTypes.object,\n\tstatsActive: PropTypes.bool,\n\tfavoursSpent: PropTypes.number,\n\ttotalMade: PropTypes.number,\n\ttotalDelivered: PropTypes.number,\n\ttotalWastedProduction: PropTypes.number,\n\ttotalWastedDeliveries: PropTypes.number,\n\tproducingPerS: PropTypes.number,\n\tdeliveringPerS: PropTypes.number,\n\tallUpgrades: PropTypes.array,\n\tareMachinesUnlocked: PropTypes.bool,\n\tmachinesUnlockedList: PropTypes.array,\n\tmachinesAll: PropTypes.array,\n\tmanagementReaction: PropTypes.string,\n};\n","import React from 'react';\n\nconst useViewport = () => {\n\tconst [width, setWidth] = React.useState(window.innerWidth);\n\n\tReact.useEffect(() => {\n\t\tconst handleWindowResize = () => setWidth(window.innerWidth);\n\t\twindow.addEventListener('resize', handleWindowResize);\n\t\treturn () => window.removeEventListener('resize', handleWindowResize);\n\t}, []);\n\n\t// Return the width so we can use it in our components\n\treturn { width };\n};\n\nexport default useViewport;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport HelpText from './shared/help_text';\nimport useViewport from '../shared/use_viewport';\nimport breakpoints from '../shared/viewport_breakpoints';\n\nconst ComplexFooter = (props) => {\n\tvar currentYear = new Date().getFullYear();\n\n\tconst { width } = useViewport();\n\n\treturn (\n\t\t<div className='footer is-paddingless is-size-7-mobile '>\n\t\t\t<div\n\t\t\t\tclassName='notification footerContents is-dark is-marginless smallPrint content has-text-centered'\n\t\t\t\tstyle={{ padding: '.2rem', alignItems: 'center' }}>\n\t\t\t\t<span>v{props.version}</span>\n\t\t\t\t<span>\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass={\n\t\t\t\t\t\t\t'button ' +\n\t\t\t\t\t\t\t(props.patchNotesActive ? 'is-danger' : 'is-dark')\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonClick={props.togglePatchNotes}>\n\t\t\t\t\t\tChangelog\n\t\t\t\t\t</button>\n\t\t\t\t</span>\n\t\t\t\t<span>\n\t\t\t\t\t&copy; Neil Hughes 2019\n\t\t\t\t\t{currentYear !== 2019 ? '—' + currentYear : ''}\n\t\t\t\t\t&nbsp;\n\t\t\t\t\t<HelpText helpKey='about' />\n\t\t\t\t</span>\n\t\t\t\t<span>\n\t\t\t\t\t<a\n\t\t\t\t\t\tclassName='button is-light is-small'\n\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\trel='noopener noreferrer'\n\t\t\t\t\t\thref='https://enhughesiasm.com/sbl'>\n\t\t\t\t\t\t{width <= breakpoints.MOBILE\n\t\t\t\t\t\t\t? 'Based on The Shop Before Life'\n\t\t\t\t\t\t\t: 'Based on The Shop Before Life'}\n\t\t\t\t\t</a>\n\t\t\t\t</span>\n\t\t\t\t<span>\n\t\t\t\t\t<a\n\t\t\t\t\t\tclassName='button is-rounded is-primary is-small'\n\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\trel='noopener noreferrer'\n\t\t\t\t\t\thref='https://www.buymeacoffee.com/enhughesiasm'>\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tstyle={{ width: '12px' }}\n\t\t\t\t\t\t\tsrc='https://cdn.buymeacoffee.com/buttons/bmc-new-btn-logo.svg'\n\t\t\t\t\t\t\talt='Buy me a coffee'\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<span style={{ marginLeft: '10px', fontSize: '12px' }}>\n\t\t\t\t\t\t\tBuy me a coffee\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</a>\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default ComplexFooter;\n\nComplexFooter.propTypes = {\n\tversion: PropTypes.string.isRequired,\n\ttogglePatchNotes: PropTypes.func.isRequired,\n};\n","const complexTabs = {\n\tHOME: 'home',\n\tFACTORY: 'machines'\n};\n\nexport default complexTabs;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport HelpText from '../../shared/help_text';\n\nconst BoxProduction = (props) =><div style={{maxHeight:'4rem', minHeight:'4rem'}}\n\tclassName={'tile is-child homeBox box production ' + (props.justFailedToMake ? 'justFailed' : '')}>\n\t<HelpText helpKey={'production'} direction=\"left\"/>\n\t<span className={'subtitle is-size-6-mobile is-hidden-touch ' + (props.justFailedToMake ? 'justFailed' : '')}>PRODUCTION (Make {props.productionPerClick} in {props.productionTimeToMake} seconds)</span>\n\t<span className={'subtitle is-size-6-mobile is-hidden-desktop ' + (props.justFailedToMake ? 'justFailed' : '')}>PRODUCTION</span>\n\t<div className='progressContainer'>\n\t\t<progress className=\"progress is-primary\" value={props.productionProgressPercent} max=\"100\">{props.productionProgressPercent}%</progress>\n\t</div>\n</div>;\n\nexport default BoxProduction;\n\nBoxProduction.propTypes = {\n\tjustFailedToMake: PropTypes.bool,\n\tproductionPerClick: PropTypes.number.isRequired,\n\tproductionTimeToMake: PropTypes.number.isRequired,\n\tproductionProgressPercent: PropTypes.number.isRequired,\n\n};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport FontAwesome from '../shared/font_awesome';\nimport FriendlyNumber from '../shared/friendly_number';\n\nexport default class ComplexListEntry extends React.Component {\n\trender() {\n\t\treturn (\n\t\t\t<div\n\t\t\t\tkey={this.props.id}\n\t\t\t\tclassName={\n\t\t\t\t\t'card ' +\n\t\t\t\t\t(this.props.additionalClass || ' ') +\n\t\t\t\t\t(this.props.justFailed ? ' justFailed ' : ' ')\n\t\t\t\t}>\n\t\t\t\t<div className={'card-header'}>\n\t\t\t\t\t<span\n\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t'card-header-icon is-size-7 is-size-7-mobile ' +\n\t\t\t\t\t\t\t(this.props.tooltipData\n\t\t\t\t\t\t\t\t? 'tooltip is-tooltip-right is-tooltip-info'\n\t\t\t\t\t\t\t\t: '')\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdata-tooltip={this.props.tooltipData}>\n\t\t\t\t\t\t<FontAwesome icon={this.props.icon} />\n\t\t\t\t\t</span>\n\t\t\t\t\t<span\n\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t'card-header-title is-not-centered is-size-7 is-size-7-mobile'\n\t\t\t\t\t\t}>\n\t\t\t\t\t\t{this.props.name}\n\t\t\t\t\t</span>\n\t\t\t\t\t{this.props.cost && (\n\t\t\t\t\t\t<span\n\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t'cost is-size-7 is-size-7-mobile  has-text-weight-bold has-text-centered ' +\n\t\t\t\t\t\t\t\t(this.props.favoursAvailable\n\t\t\t\t\t\t\t\t\t? ' available'\n\t\t\t\t\t\t\t\t\t: '')\n\t\t\t\t\t\t\t}>\n\t\t\t\t\t\t\t<FriendlyNumber\n\t\t\t\t\t\t\t\tamount={this.props.cost}\n\t\t\t\t\t\t\t\tdirection='top'\n\t\t\t\t\t\t\t\tname='Favours'\n\t\t\t\t\t\t\t\ticon='thumbs-up'\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t\t<div className='card-content is-size-7-mobile '>\n\t\t\t\t\t{this.props.power && (\n\t\t\t\t\t\t<span\n\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t'power notification is-paddingless is-size-7 is-marginless ' +\n\t\t\t\t\t\t\t\t(this.props.power > 0\n\t\t\t\t\t\t\t\t\t? ' is-warning '\n\t\t\t\t\t\t\t\t\t: ' is-light ')\n\t\t\t\t\t\t\t}>\n\t\t\t\t\t\t\t<FriendlyNumber\n\t\t\t\t\t\t\t\tamount={Math.abs(this.props.power)}\n\t\t\t\t\t\t\t\tprefix={this.props.power > 0 ? '+' : '-'}\n\t\t\t\t\t\t\t\ticon='bolt'\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t)}\n\t\t\t\t\t<span className='description is-size-7'>\n\t\t\t\t\t\t{this.props.description}\n\t\t\t\t\t</span>\n\t\t\t\t\t<div className='buttonContainer'>\n\t\t\t\t\t\t{false && this.props.sellText && (\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName='button is-small is-light'\n\t\t\t\t\t\t\t\tonClick={this.props.onSellClicked}>\n\t\t\t\t\t\t\t\t{this.props.sellText}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t'button mainButton is-small is-size-7-mobile ' +\n\t\t\t\t\t\t\t\t(this.props.canPurchase\n\t\t\t\t\t\t\t\t\t? ' is-success '\n\t\t\t\t\t\t\t\t\t: ' is-danger ') +\n\t\t\t\t\t\t\t\t(this.props.buildTooltipText\n\t\t\t\t\t\t\t\t\t? ' tooltip is-tooltip-right is-tooltip-multiline '\n\t\t\t\t\t\t\t\t\t: ' ')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tstyle={{ opacity: 1 }}\n\t\t\t\t\t\t\tdata-tooltip={this.props.buildTooltipText}\n\t\t\t\t\t\t\tdisabled={!this.props.canPurchase}\n\t\t\t\t\t\t\tonClick={this.props.onPurchaseClicked}>\n\t\t\t\t\t\t\t{this.props.purchaseText}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{this.props.showProgressBar && (\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t'card-footer ' +\n\t\t\t\t\t\t\t'tooltip is-tooltip-bottom is-tooltip-info'\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdata-tooltip={this.props.tooltipData}>\n\t\t\t\t\t\t{!this.props.paused && (\n\t\t\t\t\t\t\t<progress\n\t\t\t\t\t\t\t\tstyle={{ height: '0.7rem' }}\n\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t'progress is-marginless is-' +\n\t\t\t\t\t\t\t\t\t(this.props.progressTooFast\n\t\t\t\t\t\t\t\t\t\t? 'success'\n\t\t\t\t\t\t\t\t\t\t: 'primary')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\tthis.props.progressTooFast\n\t\t\t\t\t\t\t\t\t\t? null\n\t\t\t\t\t\t\t\t\t\t: this.props.progress\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tmax={this.props.workRequiredToComplete}>\n\t\t\t\t\t\t\t\t{this.props.progress}%\n\t\t\t\t\t\t\t</progress>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{this.props.paused && (\n\t\t\t\t\t\t\t<progress\n\t\t\t\t\t\t\t\tstyle={{ height: '0.7rem' }}\n\t\t\t\t\t\t\t\tclassName={'progress is-marginless is-danger'}\n\t\t\t\t\t\t\t\tvalue={this.props.workRequiredToComplete}\n\t\t\t\t\t\t\t\tmax={this.props.workRequiredToComplete}>\n\t\t\t\t\t\t\t\t{this.props.workRequiredToComplete}%\n\t\t\t\t\t\t\t</progress>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t'pauseIcon tooltip is-tooltip-info is-tooltip-left ' +\n\t\t\t\t\t\t\t\t(this.props.paused\n\t\t\t\t\t\t\t\t\t? 'has-text-danger'\n\t\t\t\t\t\t\t\t\t: 'has-text-info')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tstyle={{ cursor: 'pointer' }}\n\t\t\t\t\t\t\tdata-tooltip={this.props.pauseText}\n\t\t\t\t\t\t\tonClick={this.props.onPauseClicked}>\n\t\t\t\t\t\t\t<FontAwesome icon={this.props.pauseIcon} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nComplexListEntry.propTypes = {\n\tid: PropTypes.number.isRequired,\n\tadditionalClass: PropTypes.string,\n\tjustFailed: PropTypes.bool,\n\ttooltipData: PropTypes.string,\n\ticon: PropTypes.string.isRequired,\n\tname: PropTypes.string.isRequired,\n\tcost: PropTypes.number,\n\tfavoursAvailable: PropTypes.bool,\n\tpower: PropTypes.number,\n\tdescription: PropTypes.string.isRequired,\n\tsellText: PropTypes.string,\n\tonSellClicked: PropTypes.func,\n\tcanPurchase: PropTypes.bool,\n\tbuildTooltipText: PropTypes.string,\n\tonPurchaseClicked: PropTypes.func,\n\tpurchaseText: PropTypes.string,\n\tshowProgressBar: PropTypes.bool,\n\tpaused: PropTypes.bool,\n\tprogressTooFast: PropTypes.bool,\n\tprogress: PropTypes.number,\n\tworkRequiredToComplete: PropTypes.number,\n\tpauseText: PropTypes.string,\n\tonPauseClicked: PropTypes.func,\n\tpauseIcon: PropTypes.string,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport HelpText from '../../shared/help_text';\nimport employeeTypes from '../../employees/employee_types';\nimport ComplexListEntry from '../complex_list_entry';\n\nconst BoxEmployees = (props) => {\n\tconst {\n\t\temployeesUnlocked,\n\t\temployeesCanHire,\n\t\temployeesGetCost,\n\t\temployeesHire,\n\t\temployees,\n\t} = props;\n\n\t// let heightUnitsPerEmployee = 14;\n\t// let height = 2 + (Math.max(employeesUnlocked.length, 1) * heightUnitsPerEmployee);\n\n\treturn (\n\t\t<div className='tile is-child homeBox box employees cardList'>\n\t\t\t<HelpText helpKey={'employees'} direction='left' />\n\t\t\t<span className='subtitle is-size-6-mobile '>EMPLOYEES</span>\n\t\t\t{employeesUnlocked.map((emp) => {\n\t\t\t\tlet canHire = employeesCanHire(emp.id);\n\t\t\t\tlet cost = employeesGetCost(emp.id);\n\t\t\t\tlet showProgressBar = true;\n\n\t\t\t\tlet pauseIcon = emp.work.paused\n\t\t\t\t\t? 'play-circle'\n\t\t\t\t\t: 'pause-circle';\n\t\t\t\tlet pauseText = emp.work.paused\n\t\t\t\t\t? 'Order them back to work!'\n\t\t\t\t\t: 'Ask them to stop work, for some reason.';\n\n\t\t\t\tlet workdescription =\n\t\t\t\t\temp.type === employeeTypes.PRODUCTION\n\t\t\t\t\t\t? 'Making traits by hand: '\n\t\t\t\t\t\t: emp.type === employeeTypes.DELIVERY\n\t\t\t\t\t\t? 'Delivering traits: '\n\t\t\t\t\t\t: 'Building machines: ';\n\n\t\t\t\tlet employeeStatus = employees[emp.type];\n\n\t\t\t\treturn (\n\t\t\t\t\t<ComplexListEntry\n\t\t\t\t\t\tkey={emp.id}\n\t\t\t\t\t\tid={emp.id}\n\t\t\t\t\t\tadditionalClass='employee'\n\t\t\t\t\t\ticon={emp.icon}\n\t\t\t\t\t\tname={employeeStatus.hiredAmount + ' ' + emp.name}\n\t\t\t\t\t\tdescription={emp.description}\n\t\t\t\t\t\tfavoursAvailable={canHire}\n\t\t\t\t\t\tcanPurchase={canHire}\n\t\t\t\t\t\tcost={cost}\n\t\t\t\t\t\tonPurchaseClicked={() => employeesHire(emp.id)}\n\t\t\t\t\t\tjustFailed={emp.work.justFailed}\n\t\t\t\t\t\ttooltipData={\n\t\t\t\t\t\t\tworkdescription +\n\t\t\t\t\t\t\t(emp.outcomePerSecond || 0).toFixed(2) +\n\t\t\t\t\t\t\t' per second'\n\t\t\t\t\t\t}\n\t\t\t\t\t\tpurchaseText='Hire'\n\t\t\t\t\t\t// employee specific:\n\t\t\t\t\t\tshowProgressBar={showProgressBar}\n\t\t\t\t\t\tprogressTooFast={emp.currentTimeTaken < 0.9}\n\t\t\t\t\t\tprogress={emp.work.progress}\n\t\t\t\t\t\tworkRequiredToComplete={\n\t\t\t\t\t\t\temp.workRequiredToComplete *\n\t\t\t\t\t\t\temployeeStatus.workRequiredMultiplier\n\t\t\t\t\t\t}\n\t\t\t\t\t\tpaused={emp.work.paused}\n\t\t\t\t\t\tonPauseClicked={() =>\n\t\t\t\t\t\t\t(emp.work.paused = !emp.work.paused)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tpauseText={pauseText}\n\t\t\t\t\t\tpauseIcon={pauseIcon}\n\t\t\t\t\t\tcurrentTimeTaken={emp.currentTimeTaken}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t})}\n\t\t</div>\n\t);\n};\nexport default BoxEmployees;\n\nBoxEmployees.propTypes = {\n\temployeesUnlocked: PropTypes.array.isRequired,\n\temployeesCanHire: PropTypes.func.isRequired,\n\temployeesGetCost: PropTypes.func.isRequired,\n\temployeesHire: PropTypes.func.isRequired,\n\temployees: PropTypes.object.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport HelpText from '../../shared/help_text';\nimport ComplexListEntry from '../complex_list_entry';\nimport FontAwesome from '../../shared/font_awesome';\n\nconst BoxUpgrades = (props) => {\n\tconst {\n\t\tupgradesUnlocked,\n\t\tupgradesAll,\n\t\tupgradesCanPurchase,\n\t\tupgradesPurchase,\n\t} = props;\n\n\tlet remainingUpgrades = upgradesAll.filter((u) => !u.purchased).length;\n\n\t// let heightUnitsPerUpgrade = 10;\n\t// let height = 3 + (Math.max(upgradesUnlocked.length, 1) * heightUnitsPerUpgrade);\n\n\treturn (\n\t\t<div className='tile is-child homeBox box upgrades cardList'>\n\t\t\t<HelpText helpKey={'upgrades'} direction='left' />\n\t\t\t<span className='subtitle is-size-6-mobile '>UPGRADES</span>\n\t\t\t<div id='upgradeBox'>\n\t\t\t\t{upgradesUnlocked.length === 0 && remainingUpgrades > 0 && (\n\t\t\t\t\t<div className='message'>\n\t\t\t\t\t\tThere&apos;s {remainingUpgrades} more...\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t{upgradesUnlocked.length === 0 && remainingUpgrades === 0 && (\n\t\t\t\t\t<div className='message'>\n\t\t\t\t\t\t<FontAwesome icon={'handshake'} /> COMPLETE{' '}\n\t\t\t\t\t\t<FontAwesome icon={'glass-cheers'} />\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t{upgradesUnlocked.map((upgrade) => {\n\t\t\t\t\tlet canPurchase = upgradesCanPurchase(upgrade.id);\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<ComplexListEntry\n\t\t\t\t\t\t\tkey={upgrade.id}\n\t\t\t\t\t\t\tid={upgrade.id}\n\t\t\t\t\t\t\tadditionalClass='upgrade'\n\t\t\t\t\t\t\ticon={upgrade.icon}\n\t\t\t\t\t\t\tname={upgrade.name}\n\t\t\t\t\t\t\tdescription={upgrade.description}\n\t\t\t\t\t\t\tcanPurchase={canPurchase}\n\t\t\t\t\t\t\tfavoursAvailable={canPurchase}\n\t\t\t\t\t\t\tcost={upgrade.cost}\n\t\t\t\t\t\t\tbuildTooltipText={upgrade.explanation}\n\t\t\t\t\t\t\tpurchaseText='Buy'\n\t\t\t\t\t\t\tonPurchaseClicked={() =>\n\t\t\t\t\t\t\t\tupgradesPurchase(upgrade.id)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default BoxUpgrades;\n\nBoxUpgrades.propTypes = {\n\tupgradesUnlocked: PropTypes.array.isRequired,\n\tupgradesAll: PropTypes.array.isRequired,\n\tupgradesCanPurchase: PropTypes.func.isRequired,\n\tupgradesPurchase: PropTypes.func.isRequired,\n};\n","/*\n * Easing Functions - inspired from http://gizma.com/easing/\n * only considering the t value for the range [0, 1] => [0, 1]\n */\nconst EasingFunctions = {\n\t// no easing, no acceleration\n\tlinear: function (t) { return t; },\n\t// accelerating from zero velocity\n\teaseInQuad: function (t) { return t*t; },\n\t// decelerating to zero velocity\n\teaseOutQuad: function (t) { return t*(2-t); },\n\t// acceleration until halfway, then deceleration\n\teaseInOutQuad: function (t) { return t<.5 ? 2*t*t : -1+(4-2*t)*t; },\n\t// accelerating from zero velocity\n\teaseInCubic: function (t) { return t*t*t; },\n\t// decelerating to zero velocity\n\teaseOutCubic: function (t) { return (--t)*t*t+1; },\n\t// acceleration until halfway, then deceleration\n\teaseInOutCubic: function (t) { return t<.5 ? 4*t*t*t : (t-1)*(2*t-2)*(2*t-2)+1; },\n\t// accelerating from zero velocity\n\teaseInQuart: function (t) { return t*t*t*t; },\n\t// decelerating to zero velocity\n\teaseOutQuart: function (t) { return 1-(--t)*t*t*t; },\n\t// acceleration until halfway, then deceleration\n\teaseInOutQuart: function (t) { return t<.5 ? 8*t*t*t*t : 1-8*(--t)*t*t*t; },\n\t// accelerating from zero velocity\n\teaseInQuint: function (t) { return t*t*t*t*t; },\n\t// decelerating to zero velocity\n\teaseOutQuint: function (t) { return 1+(--t)*t*t*t*t; },\n\t// acceleration until halfway, then deceleration\n\teaseInOutQuint: function (t) { return t<.5 ? 16*t*t*t*t*t : 1+16*(--t)*t*t*t*t; }\n};\n\nexport default EasingFunctions;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\n\nimport jar1 from './../../../../resources/images/jar1.jpg';\nimport jar2 from './../../../../resources/images/jar2.jpg';\nimport jar3 from './../../../../resources/images/jar3.jpg';\nimport jar4 from './../../../../resources/images/jar4.jpg';\nimport jar5 from './../../../../resources/images/jar5.jpg';\nimport EasingFunctions from './../../../shared/easing';\n\nconst images = [jar1, jar2, jar3, jar4, jar5];\n\nexport default class StorageEntry extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\timage: images[Math.floor(Math.random() * images.length)],\n\t\t\tdeliveryTime: moment(),\n\t\t};\n\t}\n\n\trender() {\n\t\tlet heightMaxPx = 40; // defined in complex.scss\n\t\tif (this.props.delivered) {\n\t\t\tlet fractionSinceDelivered =\n\t\t\t\tmoment().diff(this.state.deliveryTime) /\n\t\t\t\tthis.props.deliveryFadeOutTimeMs;\n\t\t\theightMaxPx =\n\t\t\t\theightMaxPx -\n\t\t\t\theightMaxPx *\n\t\t\t\t\tEasingFunctions.easeInQuint(fractionSinceDelivered);\n\t\t}\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<div\n\t\t\t\t\tstyle={{ height: heightMaxPx + 'px' }}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tif (!this.props.delivered) {\n\t\t\t\t\t\t\tthis.setState({ deliveryTime: moment() });\n\t\t\t\t\t\t\tthis.props.onClickDeliver();\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t\tclassName={\n\t\t\t\t\t\t'traitBoxEntry ' +\n\t\t\t\t\t\t(this.props.delivered ? 'delivered' : '')\n\t\t\t\t\t}>\n\t\t\t\t\t<span className='imgContainer'>\n\t\t\t\t\t\t<img src={this.state.image} alt='a jar' />\n\t\t\t\t\t</span>\n\t\t\t\t\t<span className='traitName'>{this.props.name}</span>\n\t\t\t\t\t{!this.props.delivered && (\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName='button is-success is-rounded is-small is-pulled-right'\n\t\t\t\t\t\t\tstyle={{ marginRight: '1rem' }}>\n\t\t\t\t\t\t\tDeliver\n\t\t\t\t\t\t</button>\n\t\t\t\t\t)}\n\t\t\t\t\t{this.props.delivered && (\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName='button is-warning is-rounded is-small is-pulled-right'\n\t\t\t\t\t\t\tdisabled>\n\t\t\t\t\t\t\tDelivering\n\t\t\t\t\t\t</button>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</>\n\t\t);\n\t}\n}\n\nStorageEntry.propTypes = {\n\tdelivered: PropTypes.bool.isRequired,\n\tname: PropTypes.string.isRequired,\n\tonClickDeliver: PropTypes.func.isRequired,\n\tdeliveryFadeOutTimeMs: PropTypes.number.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport StorageEntry from './storage_entry';\nimport HelpText from '../../../shared/help_text';\nimport FriendlyNumber from '../../../shared/friendly_number';\n\nconst Storage = ({storageCurrentSize, storageIsFull, storageTraits, storageAmount, storageMax, deliveryFadeOutTimeMs}) => {\n\n\tlet dp = Math.floor(Math.log10(storageCurrentSize)) + 1;\n\n\treturn(<div className={'tile is-child homeBox box traitBox ' +(storageIsFull ? ' full' : '') }>\n\t\t<HelpText helpKey=\"storage\" direction=\"left\"/>\n\t\t<span className={'subtitle is-size-6-mobile ' + (storageIsFull ? ' full' : '') }>Storage ({storageAmount.toLocaleString().padStart(dp, '0')} / {storageCurrentSize.toLocaleString()}) {storageIsFull ? ' - Full' : ''}</span>\n\n\t\t{\n\t\t\tstorageTraits && storageTraits.map((trait) => <StorageEntry key={trait.id} name={trait.name} delivered={trait.delivered} onClickDeliver={trait.deliver} deliveryFadeOutTimeMs={deliveryFadeOutTimeMs}/>)\n\t\t}\n\n\n\t\t{ (storageAmount - storageMax > 1 || storageCurrentSize >= 2000) && <div className=\"has-text-centered is-size-7\" style={{    marginTop: '.7rem'}}>\n\t\t\t<em>(& <FriendlyNumber amount={ Math.max(storageAmount - storageMax, 0) }/> more...)</em>\n\t\t</div> }\n\n\n\t</div>);\n\n};\n\nexport default Storage;\n\nStorage.propTypes = {\n\tstorageCurrentSize: PropTypes.number.isRequired,\n\tstorageIsFull: PropTypes.bool.isRequired,\n\tstorageTraits: PropTypes.array.isRequired,\n\tstorageAmount: PropTypes.number.isRequired,\n\tstorageMax: PropTypes.number,\n\tdeliveryFadeOutTimeMs: PropTypes.number.isRequired\n};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport BoxProduction from './box_production';\nimport BoxEmployees from './box_employees';\nimport BoxUpgrades from './box_upgrades';\nimport Storage from './storage/storage';\n\nexport default class HomeTab extends React.Component {\n\trender() {\n\t\treturn (\n\t\t\t<div className='tile is-ancestor'>\n\t\t\t\t<div className='tile is-parent is-7 is-6-hd is-vertical'>\n\t\t\t\t\t<BoxProduction\n\t\t\t\t\t\tjustFailedToMake={this.props.justFailedProduction}\n\t\t\t\t\t\tproductionPerClick={this.props.productionPerClick}\n\t\t\t\t\t\tproductionTimeToMake={this.props.productionTimeToMake}\n\t\t\t\t\t\tproductionProgressPercent={\n\t\t\t\t\t\t\tthis.props.productionProgressPercent\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t\t{this.props.canShowEmployees && (\n\t\t\t\t\t\t<BoxEmployees\n\t\t\t\t\t\t\temployeesUnlocked={this.props.employeesUnlocked}\n\t\t\t\t\t\t\temployees={this.props.employees}\n\t\t\t\t\t\t\temployeesCanHire={this.props.employeesCanHire}\n\t\t\t\t\t\t\temployeesGetCost={this.props.employeesGetCost}\n\t\t\t\t\t\t\temployeesHire={this.props.employeesHire}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t\t{this.props.canShowUpgrades && (\n\t\t\t\t\t\t<BoxUpgrades\n\t\t\t\t\t\t\tupgradesUnlocked={this.props.upgradesUnlocked}\n\t\t\t\t\t\t\tupgradesAll={this.props.upgradesAll}\n\t\t\t\t\t\t\tupgradesCanPurchase={this.props.upgradesCanPurchase}\n\t\t\t\t\t\t\tupgradesPurchase={this.props.upgradesPurchase}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t\t<div className='tile is-parent is-5 is-6-hd'>\n\t\t\t\t\t<Storage\n\t\t\t\t\t\tstorageCurrentSize={this.props.storageCurrentSize}\n\t\t\t\t\t\tstorageIsFull={this.props.storageIsFull}\n\t\t\t\t\t\tstorageTraits={this.props.storageTraits}\n\t\t\t\t\t\tstorageAmount={this.props.storageAmount}\n\t\t\t\t\t\tstorageMax={this.props.storageMax}\n\t\t\t\t\t\tdeliveryFadeOutTimeMs={this.props.deliveryFadeOutTimeMs}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nHomeTab.propTypes = {\n\tjustFailedProduction: PropTypes.bool,\n\tproductionPerClick: PropTypes.number.isRequired,\n\tproductionTimeToMake: PropTypes.number.isRequired,\n\tproductionProgressPercent: PropTypes.number.isRequired,\n\n\tcanShowEmployees: PropTypes.bool.isRequired,\n\tcanShowUpgrades: PropTypes.bool.isRequired,\n\temployeesUnlocked: PropTypes.array.isRequired,\n\temployeesCanHire: PropTypes.func.isRequired,\n\temployeesGetCost: PropTypes.func.isRequired,\n\temployeesHire: PropTypes.func.isRequired,\n\temployees: PropTypes.object.isRequired,\n\n\tupgradesUnlocked: PropTypes.array.isRequired,\n\tupgradesAll: PropTypes.array.isRequired,\n\n\tupgradesCanPurchase: PropTypes.func.isRequired,\n\tupgradesPurchase: PropTypes.func.isRequired,\n\n\tdeliveryFadeOutTimeMs: PropTypes.number.isRequired,\n\tstorageCurrentSize: PropTypes.number.isRequired,\n\tstorageAmount: PropTypes.number.isRequired,\n\tstorageMax: PropTypes.number.isRequired,\n\tstorageIsFull: PropTypes.bool.isRequired,\n\tstorageTraits: PropTypes.array.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport FontAwesome from '../../../shared/font_awesome';\nimport jar1t from '../../../../resources/images/jar1transinverted.png';\nimport FriendlyNumber from '../../../shared/friendly_number';\n\nconst OutputIndicator = (props) => (\n\t<div\n\t\tclassName={\n\t\t\t'outputIndicator ' +\n\t\t\tprops.additionalClassName +\n\t\t\t' notification is-size-7 is-paddingless is-marginless is-' +\n\t\t\tprops.notificationType\n\t\t}>\n\t\t<FontAwesome icon='arrow-down' />\n\t\t&nbsp;\n\t\t{props.text}\n\t\t&nbsp;\n\t\t{props.amountText && <span>{props.amountText}</span>}\n\t\t{!props.amountText && <FriendlyNumber amount={props.amount} />}\n\t\t&nbsp;\n\t\t{props.icon && <FontAwesome icon={props.icon} />}\n\t\t{!props.icon && <img alt='' src={jar1t} width='20' />}\n\t\t&nbsp;{props.suffixText}\n\t</div>\n);\n\nexport default OutputIndicator;\n\nOutputIndicator.propTypes = {\n\ttext: PropTypes.string.isRequired,\n\tadditionalClassName: PropTypes.string,\n\tnotificationType: PropTypes.string,\n\tamountText: PropTypes.string,\n\tsuffixText: PropTypes.string,\n\ticon: PropTypes.string,\n\tamount: PropTypes.number,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport FontAwesome from './../../../shared/font_awesome';\nimport OutputIndicator from './output_indicator';\n\nconst PowerBuildings = (props) => {\n\tlet totalGeneratedPower = props.buildings\n\t\t.map((b) => b.power * b.builtAmount || 0)\n\t\t.reduce((a, b) => a + b, 0);\n\n\tlet totalUsedPower = (props.totalFactoryPower - totalGeneratedPower) * -1;\n\n\tlet actualBuildings = [];\n\tprops.buildings.forEach((b, x) => {\n\t\tfor (let i = 0; i < b.builtAmount; i++) {\n\t\t\tb.x = x;\n\n\t\t\tif (totalUsedPower > 0) {\n\t\t\t\tb.isUsed = true;\n\t\t\t\tb.amountUsed = Math.min(totalUsedPower, b.power);\n\t\t\t} else {\n\t\t\t\tb.isUsed = false;\n\t\t\t\tb.amountUsed = 0;\n\t\t\t}\n\n\t\t\ttotalUsedPower -= b.power;\n\t\t\tactualBuildings.push({ ...b });\n\t\t}\n\t});\n\n\treturn (\n\t\t<div id='powerBuildings' className='visualBuildings'>\n\t\t\t{actualBuildings.map((building, y) => {\n\t\t\t\tlet tooltipText =\n\t\t\t\t\tbuilding.name +\n\t\t\t\t\t(building.amountUsed > 0\n\t\t\t\t\t\t? ' - Using ' +\n\t\t\t\t\t\t  building.amountUsed +\n\t\t\t\t\t\t  ' of ' +\n\t\t\t\t\t\t  building.power\n\t\t\t\t\t\t: ' - ' + building.power + ' Unused');\n\n\t\t\t\treturn (\n\t\t\t\t\t<span\n\t\t\t\t\t\tkey={building.x * y + y}\n\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t'powerBuilding building tooltip is-tooltip-left is-tooltip-' +\n\t\t\t\t\t\t\t(building.isUsed ? 'warning isUsed' : 'danger')\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdata-tooltip={tooltipText}\n\t\t\t\t\t\t// style={{animationDelay: Math.random() * 3 }}\n\t\t\t\t\t>\n\t\t\t\t\t\t<FontAwesome icon={building.icon} />\n\t\t\t\t\t</span>\n\t\t\t\t);\n\t\t\t})}\n\t\t\t<OutputIndicator\n\t\t\t\ttext='Generating'\n\t\t\t\ticon='bolt'\n\t\t\t\tadditionalClassName='totalPowerOutput'\n\t\t\t\tnotificationType={\n\t\t\t\t\tprops.totalFactoryPower > 0 ? 'success' : 'warning'\n\t\t\t\t}\n\t\t\t\tamount={totalGeneratedPower}\n\t\t\t\tsuffixText={' - ' + props.totalFactoryPower + ' unused'}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\nexport default PowerBuildings;\n\nPowerBuildings.propTypes = {\n\tbuildings: PropTypes.array.isRequired,\n\ttotalFactoryPower: PropTypes.number.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport FontAwesome from '../../../shared/font_awesome';\nimport OutputIndicator from './output_indicator';\n\nconst getStorage = (totalUsed, capacity) => {\n\tif (totalUsed < 0) return 0;\n\tif (totalUsed - capacity <= 0) return totalUsed;\n\treturn Math.max(Math.min(capacity, totalUsed - capacity), 0);\n};\n\nconst StorageBuildings = (props) => {\n\tconst {\n\t\tstorageNaturalSize,\n\t\tstorageMachineSize,\n\t\tstorageAmount,\n\t\tstorageIsFull,\n\t\tmachineStorageMultiplier,\n\t} = props;\n\tlet totalStorage = storageNaturalSize + storageMachineSize;\n\tlet currentStored = storageAmount;\n\tlet buildings = [];\n\n\tlet storageMagnitude = Math.floor(Math.log10(totalStorage)) + 1;\n\n\tbuildings.push({\n\t\tid: 0,\n\t\tname: 'Boxes & things',\n\t\ticon: 'box',\n\t\tsize: storageNaturalSize,\n\t\tstoring: getStorage(currentStored, storageNaturalSize),\n\t});\n\n\tbuildings[0].isFull = buildings[0].size === buildings[0].storing;\n\n\tcurrentStored -= storageNaturalSize;\n\n\tlet id = 1;\n\tprops.buildings.forEach((b) => {\n\t\tfor (let i = 0; i < b.builtAmount; i++) {\n\t\t\tid++;\n\t\t\tlet newB = {\n\t\t\t\tid: id,\n\t\t\t\tname: b.name,\n\t\t\t\ticon: b.icon,\n\t\t\t\tsize: b.storage() * machineStorageMultiplier,\n\t\t\t\tstoring: getStorage(\n\t\t\t\t\tcurrentStored,\n\t\t\t\t\tb.storage() * machineStorageMultiplier\n\t\t\t\t),\n\t\t\t};\n\n\t\t\tnewB.isFull = newB.size === newB.storing;\n\t\t\tcurrentStored -= b.storage();\n\n\t\t\tbuildings.push(newB);\n\t\t}\n\t});\n\n\treturn (\n\t\t<div id='storageBuildings' className='visualBuildings'>\n\t\t\t{buildings.map((building) => (\n\t\t\t\t<span\n\t\t\t\t\tclassName={\n\t\t\t\t\t\t'storageBuilding building tooltip is-tooltip-left is-tooltip-' +\n\t\t\t\t\t\t(building.isFull ? 'warning isFull' : 'success')\n\t\t\t\t\t}\n\t\t\t\t\tkey={building.id}\n\t\t\t\t\tdata-tooltip={\n\t\t\t\t\t\tbuilding.name +\n\t\t\t\t\t\t' (' +\n\t\t\t\t\t\t(building.isFull ? building.size : building.storing) +\n\t\t\t\t\t\t'/' +\n\t\t\t\t\t\tbuilding.size +\n\t\t\t\t\t\t')'\n\t\t\t\t\t}\n\t\t\t\t\t//  style={{animationDelay: Math.random() * 5}}\n\t\t\t\t>\n\t\t\t\t\t<FontAwesome icon={building.icon} />\n\t\t\t\t</span>\n\t\t\t))}\n\t\t\t<OutputIndicator\n\t\t\t\ttext='Storing'\n\t\t\t\tadditionalClassName='totalStorageOutput'\n\t\t\t\tnotificationType={storageIsFull ? 'danger' : 'success'}\n\t\t\t\tamountText={storageAmount\n\t\t\t\t\t.toLocaleString()\n\t\t\t\t\t.padStart(storageMagnitude, '0')}\n\t\t\t\tsuffixText={\n\t\t\t\t\t' / ' +\n\t\t\t\t\t(storageNaturalSize + storageMachineSize).toLocaleString()\n\t\t\t\t}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\nexport default StorageBuildings;\n\nStorageBuildings.propTypes = {\n\tstorageNaturalSize: PropTypes.number.isRequired,\n\tstorageMachineSize: PropTypes.number.isRequired,\n\tstorageAmount: PropTypes.number.isRequired,\n\tstorageIsFull: PropTypes.bool.isRequired,\n\tbuildings: PropTypes.array.isRequired,\n\tmachineStorageMultiplier: PropTypes.number.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport FontAwesome from '../../../shared/font_awesome';\nimport employeeAllocations from '../../../employees/employee_allocation';\nimport OutputIndicator from './output_indicator';\n\nconst ProdBuildings = (props) => {\n\tlet manualWorkers = props.manualWorkers;\n\tlet currentProdWork = manualWorkers.outcomePerSecond;\n\tlet totalMachineWork = props.buildings\n\t\t.map((a) => a.traitsOutputPerSecond)\n\t\t.reduce((a, b) => a + b, 0);\n\n\tlet totalOutput = currentProdWork + totalMachineWork;\n\n\tlet manualDp = currentProdWork < 100 ? 3 : 0;\n\tlet machineDp = totalMachineWork < 100 ? 3 : 0;\n\tlet totalDp = totalOutput < 100 ? 3 : 0;\n\n\treturn (\n\t\t<div id='prodBuildings' className='visualBuildings'>\n\t\t\t<span\n\t\t\t\tstyle={{ cursor: 'pointer' }}\n\t\t\t\tonClick={() =>\n\t\t\t\t\tprops.onReallocateProdWorker(employeeAllocations.MANUAL)\n\t\t\t\t}\n\t\t\t\tclassName={\n\t\t\t\t\t'building manualWorker tooltip is-tooltip-left is-tooltip-' +\n\t\t\t\t\t(currentProdWork > 0\n\t\t\t\t\t\t? 'success working'\n\t\t\t\t\t\t: 'warning notWorking')\n\t\t\t\t}\n\t\t\t\tdata-tooltip={\n\t\t\t\t\t'Manual Production - ' +\n\t\t\t\t\tmanualWorkers.allocation.manual +\n\t\t\t\t\t' workers - ' +\n\t\t\t\t\tcurrentProdWork.toFixed(manualDp) +\n\t\t\t\t\t'/s'\n\t\t\t\t}>\n\t\t\t\t<FontAwesome icon={manualWorkers.icon} />\n\t\t\t</span>\n\n\t\t\t{/* each object has a .builtAmount so create a new array with that many elements to repeat each object */}\n\t\t\t{/* each building has a .workers so if the inner index 'y' is < b.workers then it IS allocated (not <= because y is zero-indexed, while b.workers counts from 1, obviously) */}\n\t\t\t{props.buildings.map((b, x) =>\n\t\t\t\t[...Array(b.builtAmount)].map((building, y) => (\n\t\t\t\t\t<span\n\t\t\t\t\t\tkey={x * y + y}\n\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t'prodBuilding ' +\n\t\t\t\t\t\t\t(y < b.workers\n\t\t\t\t\t\t\t\t? 'buildingAllocated'\n\t\t\t\t\t\t\t\t: 'buildingUnallocated')\n\t\t\t\t\t\t}>\n\t\t\t\t\t\t{/* style={{animationDelay: Math.random() * 3 + 's'}} */}\n\t\t\t\t\t\t<span\n\t\t\t\t\t\t\tstyle={{ cursor: 'pointer' }}\n\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\tprops.onReallocateProdWorker(\n\t\t\t\t\t\t\t\t\temployeeAllocations.MACHINE\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t'building tooltip is-tooltip-left is-tooltip-' +\n\t\t\t\t\t\t\t\t(y < b.workers ? 'success' : 'danger')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tdata-tooltip={\n\t\t\t\t\t\t\t\tb.name +\n\t\t\t\t\t\t\t\t' - ' +\n\t\t\t\t\t\t\t\t(y < b.workers\n\t\t\t\t\t\t\t\t\t? (\n\t\t\t\t\t\t\t\t\t\t\t(b.traitsOutputPerSecond * 1.0) /\n\t\t\t\t\t\t\t\t\t\t\tb.workers\n\t\t\t\t\t\t\t\t\t  ).toFixed(machineDp) + '/s'\n\t\t\t\t\t\t\t\t\t: ' 0/s - No worker!')\n\t\t\t\t\t\t\t}>\n\t\t\t\t\t\t\t<FontAwesome icon={b.icon} />\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</span>\n\t\t\t\t))\n\t\t\t)}\n\n\t\t\t<OutputIndicator\n\t\t\t\ttext='Producing'\n\t\t\t\tadditionalClassName='totalProdOutput'\n\t\t\t\tnotificationType={totalOutput > 0 ? 'success' : 'danger'}\n\t\t\t\tamount={Number.parseFloat(\n\t\t\t\t\t(currentProdWork + totalMachineWork || 0).toFixed(totalDp)\n\t\t\t\t)}\n\t\t\t\tsuffixText='per second'\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\nexport default ProdBuildings;\n\nProdBuildings.propTypes = {\n\tmanualWorkers: PropTypes.object.isRequired,\n\tbuildings: PropTypes.array.isRequired,\n\tonReallocateProdWorker: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport employeeTypes from '../../../employees/employee_types';\nimport FontAwesome from '../../../shared/font_awesome';\nimport OutputIndicator from './output_indicator';\nimport machineTypes from '../../../machines/machine_types';\n\nconst ratios = {\n\tBAD: 0,\n\tOKAY: 0.66,\n\tGOOD: 0.95,\n};\n\nconst DeliveryPeople = (props) => {\n\tconst { deliverers, getOutcomePerSecond, builtDeliveryBuildings } = props;\n\n\tlet anyLoaders =\n\t\tbuiltDeliveryBuildings?.filter((a) => a.type === machineTypes.LOADER)\n\t\t\t.length > 0;\n\tlet loaders = {};\n\tif (anyLoaders) {\n\t\tloaders = builtDeliveryBuildings.filter(\n\t\t\t(a) => a.type === machineTypes.LOADER\n\t\t)[0];\n\t}\n\n\tlet deliveryRate = getOutcomePerSecond(employeeTypes.DELIVERY);\n\tlet productionRate = getOutcomePerSecond(employeeTypes.PRODUCTION);\n\n\tlet deliveryRatio = (deliveryRate * 1.0) / productionRate;\n\n\tlet ratio = ratios.BAD;\n\tif (deliveryRatio > ratios.OKAY) ratio = ratios.OKAY;\n\tif (deliveryRatio > ratios.GOOD) ratio = ratios.GOOD;\n\n\tlet ratioType =\n\t\tratio === ratios.BAD\n\t\t\t? 'danger'\n\t\t\t: ratio === ratios.OKAY\n\t\t\t? 'warning'\n\t\t\t: 'success';\n\n\tlet dp = deliveryRate < 100 ? 2 : 0;\n\n\treturn (\n\t\t<div id='deliveryPeople' className='visualBuildings'>\n\t\t\t{anyLoaders && (\n\t\t\t\t<span\n\t\t\t\t\tclassName={\n\t\t\t\t\t\t'building has-text-success loaders tooltip is-tooltip-left is-tooltip-success'\n\t\t\t\t\t}\n\t\t\t\t\tdata-tooltip={\n\t\t\t\t\t\tloaders.builtAmount +\n\t\t\t\t\t\t' Loaders - Delivery speed x' +\n\t\t\t\t\t\tloaders.totalDeliveryMultiplier().toFixed(2)\n\t\t\t\t\t}>\n\t\t\t\t\t{loaders.builtAmount} <FontAwesome icon={loaders.icon} />\n\t\t\t\t</span>\n\t\t\t)}\n\n\t\t\t<span\n\t\t\t\tstyle={{\n\t\t\t\t\tanimationDuration:\n\t\t\t\t\t\tdeliverers.deliveryAnimationDuration + 's',\n\t\t\t\t}}\n\t\t\t\tclassName={\n\t\t\t\t\t'building delivery tooltip is-tooltip-multiline is-tooltip-top is-tooltip-' +\n\t\t\t\t\tratioType +\n\t\t\t\t\t' is-delivery-' +\n\t\t\t\t\tratioType\n\t\t\t\t}\n\t\t\t\tdata-tooltip={\n\t\t\t\t\tdeliverers.hiredAmount +\n\t\t\t\t\t' ' +\n\t\t\t\t\tdeliverers.name +\n\t\t\t\t\t' making ' +\n\t\t\t\t\tdeliveryRate.toFixed(dp) +\n\t\t\t\t\t' deliveries per second'\n\t\t\t\t}>\n\t\t\t\t<FontAwesome icon={deliverers.icon} />\n\t\t\t</span>\n\n\t\t\t<OutputIndicator\n\t\t\t\ttext='Delivering'\n\t\t\t\tadditionalClassName='totalDeliveryOutput'\n\t\t\t\tnotificationType={ratioType}\n\t\t\t\tamount={Number.parseFloat(deliveryRate.toFixed(dp))}\n\t\t\t\tsuffixText='per second'\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\nexport default DeliveryPeople;\n\nDeliveryPeople.propTypes = {\n\tbuiltDeliveryBuildings: PropTypes.array.isRequired,\n\tdeliverers: PropTypes.object.isRequired,\n\tgetOutcomePerSecond: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction getMagnitudeDisplay(magnitude) {\n\tswitch (magnitude) {\n\t\tcase 0:\n\t\tcase 1:\n\t\t\treturn '';\n\t\tcase 2:\n\t\tcase 3:\n\t\t\treturn Math.pow(10, magnitude);\n\t\tcase 4:\n\t\tcase 5:\n\t\t\treturn Math.pow(10, magnitude - 3) + ' thousand';\n\t\tcase 6:\n\t\tcase 7:\n\t\tcase 8:\n\t\t\treturn Math.pow(10, magnitude - 6) + ' million';\n\t\tcase 9:\n\t\tcase 10:\n\t\tcase 11:\n\t\t\treturn Math.pow(10, magnitude - 9) + ' billion';\n\t\tcase 12:\n\t\tcase 13:\n\t\tcase 14:\n\t\t\treturn Math.pow(10, magnitude - 12) + ' trillion';\n\t\tcase 15:\n\t\tcase 16:\n\t\tcase 17:\n\t\t\treturn Math.pow(10, magnitude - 15) + ' quadrillion';\n\t\tdefault:\n\t\t\treturn ' zillions';\n\t}\n}\n\nconst CurrentJar = (props) => {\n\tlet magnitude = Math.floor(Math.log10(props.amount));\n\n\tlet display = getMagnitudeDisplay(magnitude);\n\n\treturn (\n\t\t<div id='currentJarOutput' className='is-size-6'>\n\t\t\t{props.jars.length > 0 && (\n\t\t\t\t<span\n\t\t\t\t\tclassName='appearingJar'\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tanimationDuration: props.jars[0].lifespan + 'ms',\n\t\t\t\t\t}}>\n\t\t\t\t\t<img alt='' src={props.jars[0].jar} />\n\t\t\t\t\t&nbsp;{props.jars[0].name}{' '}\n\t\t\t\t\t{display && <span>x {display}</span>}\n\t\t\t\t</span>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default CurrentJar;\n\nCurrentJar.propTypes = {\n\tjars: PropTypes.array.isRequired,\n\tamount: PropTypes.number.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport HelpText from '../../../shared/help_text';\nimport PowerBuildings from './power_buildings';\nimport StorageBuildings from './storage_buildings';\nimport ProdBuildings from './prod_buildings';\nimport moment from 'moment';\nimport { getTraitName } from './../../../trait_names';\nimport jar1 from '../../../../resources/images/jar1.jpg';\nimport jar2 from '../../../../resources/images/jar2.jpg';\nimport jar3 from '../../../../resources/images/jar3.jpg';\nimport jar4 from '../../../../resources/images/jar4.jpg';\nimport jar5 from '../../../../resources/images/jar5.jpg';\nimport jarMix from '../../../../resources/images/jarmix.jpg';\nimport DeliveryPeople from './delivery_people';\nimport CurrentJar from './current_jar';\n\nconst jars = [\n\tjar1,\n\tjarMix,\n\tjar2,\n\tjarMix,\n\tjar3,\n\tjarMix,\n\tjar4,\n\tjarMix,\n\tjar5,\n\tjarMix,\n];\n\nfunction reMap(s, a1, a2, b1, b2) {\n\treturn b1 + ((s - a1) * (b2 - b1)) / (a2 - a1);\n}\n\nexport default class FactoryVisual extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tlet lifespan = 5 * 10000;\n\n\t\tthis.state = {\n\t\t\tjars: [\n\t\t\t\t{\n\t\t\t\t\tname: getTraitName(),\n\t\t\t\t\tborn: moment(),\n\t\t\t\t\tjar: jars[Math.floor(Math.random() * jars.length)],\n\t\t\t\t\tlifespan: lifespan,\n\t\t\t\t},\n\t\t\t],\n\t\t\tjarLifespanMilliseconds: lifespan,\n\t\t};\n\n\t\tthis.tick = this.tick.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.timerID = setInterval(() => this.tick(), 500);\n\t}\n\n\tcomponentWillUnmount() {\n\t\tclearInterval(this.timerID);\n\t}\n\n\ttick() {\n\t\tif (this.state.jars.length < 1) {\n\t\t\tlet jar = {\n\t\t\t\tname: getTraitName(),\n\t\t\t\tborn: moment(),\n\t\t\t\tjar: jars[Math.floor(Math.random() * jars.length)],\n\t\t\t\tlifespan: this.state.jarLifespanMilliseconds,\n\t\t\t};\n\t\t\tthis.setState({ jars: [jar] });\n\t\t} else {\n\t\t\tif (\n\t\t\t\tmoment().diff(this.state.jars[0].born) >\n\t\t\t\tthis.state.jarLifespanMilliseconds\n\t\t\t) {\n\t\t\t\tthis.setState({\n\t\t\t\t\tjars: [],\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tconst { builtProdBuildings } = this.props;\n\n\t\t\tlet totalMachineWork = builtProdBuildings\n\t\t\t\t.map((a) => a.traitsOutputPerSecond)\n\t\t\t\t.reduce((a, b) => a + b, 0);\n\n\t\t\tlet max = 8000;\n\t\t\tlet min = 500;\n\t\t\tlet newLifespan = reMap(totalMachineWork, 0, 1000000, max, min);\n\n\t\t\tnewLifespan = Math.min(max, newLifespan);\n\t\t\tnewLifespan = Math.max(min, newLifespan);\n\t\t\tthis.setState({\n\t\t\t\tjarLifespanMilliseconds: newLifespan,\n\t\t\t});\n\t\t}\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tmanualWorkers,\n\t\t\tbuiltProdBuildings,\n\t\t\tbuiltPowerBuildings,\n\t\t\tbuiltStorageBuildings,\n\t\t\tpowerTotal,\n\t\t} = this.props;\n\n\t\tlet currentProdWork = manualWorkers.outcomePerSecond;\n\t\tlet totalMachineWork = builtProdBuildings\n\t\t\t.map((a) => a.traitsOutputPerSecond)\n\t\t\t.reduce((a, b) => a + b, 0);\n\n\t\tlet totalOutput = currentProdWork + totalMachineWork;\n\n\t\treturn (\n\t\t\t<div id='factoryVisual' className='tile is-child box homeBox'>\n\t\t\t\t<span className={'subtitle'}>Factory</span>\n\t\t\t\t<HelpText helpKey='factoryVisual' direction='left' />\n\n\t\t\t\t{builtPowerBuildings.length > 0 && (\n\t\t\t\t\t<div id='allBuildings'>\n\t\t\t\t\t\t<PowerBuildings\n\t\t\t\t\t\t\tbuildings={builtPowerBuildings}\n\t\t\t\t\t\t\ttotalFactoryPower={powerTotal}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<HelpText helpKey='prodBuildings' />\n\t\t\t\t\t\t<ProdBuildings\n\t\t\t\t\t\t\tstorageIsFull={this.props.storageIsFull}\n\t\t\t\t\t\t\tmanualWorkers={manualWorkers}\n\t\t\t\t\t\t\tbuildings={builtProdBuildings}\n\t\t\t\t\t\t\tonReallocateProdWorker={\n\t\t\t\t\t\t\t\tthis.props.onReallocateProdWorker\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<StorageBuildings\n\t\t\t\t\t\t\tbuildings={builtStorageBuildings}\n\t\t\t\t\t\t\tstorageNaturalSize={this.props.storageNaturalSize}\n\t\t\t\t\t\t\tstorageMachineSize={this.props.storageMachineSize}\n\t\t\t\t\t\t\tstorageIsFull={this.props.storageIsFull}\n\t\t\t\t\t\t\tstorageAmount={this.props.storageAmount}\n\t\t\t\t\t\t\tmachineStorageMultiplier={\n\t\t\t\t\t\t\t\tthis.props.machineStorageMultiplier\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<DeliveryPeople\n\t\t\t\t\t\t\tdeliverers={this.props.deliverers}\n\t\t\t\t\t\t\tgetOutcomePerSecond={this.props.getOutcomePerSecond}\n\t\t\t\t\t\t\tbuiltDeliveryBuildings={\n\t\t\t\t\t\t\t\tthis.props.builtDeliveryBuildings\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t{totalOutput > 0 && (\n\t\t\t\t\t\t\t<CurrentJar\n\t\t\t\t\t\t\t\tjars={this.state.jars}\n\t\t\t\t\t\t\t\tamount={totalOutput}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName='is-divider'\n\t\t\t\t\t\t\tdata-content='THE SHOP BEFORE LIFE'></div>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nFactoryVisual.propTypes = {\n\tmanualWorkers: PropTypes.object.isRequired,\n\tdeliverers: PropTypes.object.isRequired,\n\n\tgetOutcomePerSecond: PropTypes.func.isRequired,\n\n\tbuiltProdBuildings: PropTypes.array.isRequired,\n\tbuiltDeliveryBuildings: PropTypes.array.isRequired,\n\tbuiltPowerBuildings: PropTypes.array.isRequired,\n\tbuiltStorageBuildings: PropTypes.array.isRequired,\n\n\tpowerTotal: PropTypes.number.isRequired,\n\n\tstorageIsFull: PropTypes.bool.isRequired,\n\tstorageAmount: PropTypes.number.isRequired,\n\n\tstorageNaturalSize: PropTypes.number.isRequired,\n\tstorageMachineSize: PropTypes.number.isRequired,\n\tmachineStorageMultiplier: PropTypes.number.isRequired,\n\n\tonReallocateProdWorker: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport HelpText from './../../shared/help_text';\nimport machineBuildPermission from './../../machines/machine_build_permission';\nimport ComplexListEntry from '../complex_list_entry';\nimport { groupBy } from './../../shared/functions';\n\nconst MachinesBox = (props) => {\n\tconst {\n\t\tmachinesAll,\n\t\tmachinesUnlockedList,\n\t\tmachinesGetCost,\n\t\tmachinesAddToQueue,\n\t\tmachinesSell,\n\t\tmachinesCanBuild,\n\t} = props;\n\n\tconst groupedMachines = groupBy(machinesUnlockedList, (m) => m.role);\n\n\tconst machinesByRole = [];\n\tfor (let group in groupedMachines) {\n\t\tmachinesByRole.push({ role: group, machines: groupedMachines[group] });\n\t}\n\n\treturn (\n\t\t<div className='tile is-child homeBox box has-text-centered is-paddingless cardList'>\n\t\t\t<HelpText helpKey='machines' direction='left' />\n\t\t\t<div\n\t\t\t\tclassName='subtitle is-size-6-mobile'\n\t\t\t\tstyle={{ padding: '0 1.25rem' }}>\n\t\t\t\tMACHINES (INVENTED {machinesUnlockedList.length} /{' '}\n\t\t\t\t{machinesAll.length - 1})\n\t\t\t</div>\n\n\t\t\t{machinesByRole.map((role) => (\n\t\t\t\t<div key={role.role}>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName='is-divider'\n\t\t\t\t\t\tdata-content={role.role.toUpperCase()}></div>\n\t\t\t\t\t{role.machines.map((m) => {\n\t\t\t\t\t\tlet canBuild = machinesCanBuild(m);\n\t\t\t\t\t\tlet buildTooltip = ''; //'Add to queue!';\n\t\t\t\t\t\tif (canBuild === machineBuildPermission.NOPOWER) {\n\t\t\t\t\t\t\tbuildTooltip = 'Not enough power.';\n\t\t\t\t\t\t} else if (\n\t\t\t\t\t\t\tcanBuild === machineBuildPermission.NOFAVOURS\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tbuildTooltip = 'Not enough favours.';\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tlet cost = machinesGetCost(m.type);\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<ComplexListEntry\n\t\t\t\t\t\t\t\tkey={m.id}\n\t\t\t\t\t\t\t\tid={m.id}\n\t\t\t\t\t\t\t\tadditionalClass='machine'\n\t\t\t\t\t\t\t\ticon={m.icon}\n\t\t\t\t\t\t\t\tname={\n\t\t\t\t\t\t\t\t\tm.name +\n\t\t\t\t\t\t\t\t\t(m.builtAmount > 0\n\t\t\t\t\t\t\t\t\t\t? ' (' + m.builtAmount + ')'\n\t\t\t\t\t\t\t\t\t\t: '')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tdescription={m.description}\n\t\t\t\t\t\t\t\tfavoursAvailable={\n\t\t\t\t\t\t\t\t\tcanBuild !==\n\t\t\t\t\t\t\t\t\tmachineBuildPermission.NOFAVOURS\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tcanPurchase={\n\t\t\t\t\t\t\t\t\tcanBuild === machineBuildPermission.SUCCESS\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tcost={cost}\n\t\t\t\t\t\t\t\tonPurchaseClicked={() =>\n\t\t\t\t\t\t\t\t\tmachinesAddToQueue(m, cost)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tsellText={\n\t\t\t\t\t\t\t\t\tm.builtAmount > 0\n\t\t\t\t\t\t\t\t\t\t? 'Sell (' + m.builtAmount + ')'\n\t\t\t\t\t\t\t\t\t\t: ''\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonSellClicked={() => machinesSell(m)}\n\t\t\t\t\t\t\t\tjustFailed={m.justFailed}\n\t\t\t\t\t\t\t\ttooltipData={\n\t\t\t\t\t\t\t\t\t(m.outcomePerSecond || 0).toFixed(2) + '/s'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tpurchaseText='Build'\n\t\t\t\t\t\t\t\tpower={m.power}\n\t\t\t\t\t\t\t\tbuildTooltipText={buildTooltip}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</div>\n\t\t\t))}\n\t\t</div>\n\t);\n};\n\nexport default MachinesBox;\n\nMachinesBox.propTypes = {\n\tmachinesAll: PropTypes.array.isRequired,\n\tmachinesUnlockedList: PropTypes.array.isRequired,\n\tmachinesGetCost: PropTypes.func.isRequired,\n\tmachinesAddToQueue: PropTypes.func.isRequired,\n\tmachinesSell: PropTypes.func.isRequired,\n\tmachinesCanBuild: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport machineTypes from '../../machines/machine_types';\nimport FontAwesome from '../../shared/font_awesome';\n\nconst BuildProgress = (props) => {\n\tconst { buildingCurrentMachine } = props;\n\n\tlet actuallyBuilding = buildingCurrentMachine.type !== machineTypes.NONE;\n\n\treturn (\n\t\t<div className='buildProgress notification is-light'>\n\t\t\t{actuallyBuilding && (\n\t\t\t\t<span className='is-size-7'>\n\t\t\t\t\tBuilding{' '}\n\t\t\t\t\t<span className='has-text-weight-bold'>\n\t\t\t\t\t\t{buildingCurrentMachine.name}\n\t\t\t\t\t</span>{' '}\n\t\t\t\t\tin{' '}\n\t\t\t\t\t{props.builders.currentTimeTaken\n\t\t\t\t\t\t? props.builders.currentTimeTaken.toFixed(2)\n\t\t\t\t\t\t: '?'}{' '}\n\t\t\t\t\tseconds\n\t\t\t\t</span>\n\t\t\t)}\n\t\t\t{!actuallyBuilding && (\n\t\t\t\t<span className='is-size-7'>\n\t\t\t\t\t<FontAwesome icon='frown' /> Nothing being built\n\t\t\t\t</span>\n\t\t\t)}\n\t\t\t<progress\n\t\t\t\tclassName='progress is-primary'\n\t\t\t\tvalue={props.builders.work.progress}\n\t\t\t\tmax={props.builders.workRequiredToComplete}>\n\t\t\t\t{props.builders.workRequiredToComplete}%\n\t\t\t</progress>\n\t\t</div>\n\t);\n};\n\nexport default BuildProgress;\n\nBuildProgress.propTypes = {\n\tbuildingCurrentMachine: PropTypes.object.isRequired,\n\tbuilders: PropTypes.object.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport HelpText from '../../shared/help_text';\nimport FontAwesome from '../../shared/font_awesome';\n\nexport default class StatusEntry extends React.Component {\n\trender() {\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName={\n\t\t\t\t\t'statusEntry notification is-paddingless is-' +\n\t\t\t\t\tthis.props.notificationType +\n\t\t\t\t\t(this.props.additionalClass || ' ')\n\t\t\t\t}>\n\t\t\t\t<FontAwesome icon={this.props.icon} />\n\t\t\t\t<span className='is-size-7 has-text-weight-bold'>\n\t\t\t\t\t{this.props.text}\n\t\t\t\t</span>\n\t\t\t\t<HelpText helpKey={this.props.helpKey} direction='right' />\n\n\t\t\t\t{this.props.showProgressBar && (\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t'card-footer ' +\n\t\t\t\t\t\t\t'tooltip is-tooltip-bottom is-tooltip-info'\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdata-tooltip={\n\t\t\t\t\t\t\t(this.props.currentTimeTaken || 0).toFixed(2) +\n\t\t\t\t\t\t\t' seconds'\n\t\t\t\t\t\t}>\n\t\t\t\t\t\t<progress\n\t\t\t\t\t\t\tclassName='progress is-marginless is-primary'\n\t\t\t\t\t\t\tvalue={this.props.progress}\n\t\t\t\t\t\t\tmax={this.props.workRequiredToComplete}>\n\t\t\t\t\t\t\t{this.props.workRequiredToComplete}%\n\t\t\t\t\t\t</progress>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nStatusEntry.propTypes = {\n\tshowProgressBar: PropTypes.bool,\n\tprogress: PropTypes.number,\n\n\tcurrentTimeTaken: PropTypes.number,\n\tworkRequiredToComplete: PropTypes.number,\n\n\ttext: PropTypes.string,\n\ticon: PropTypes.string,\n\tadditionalClass: PropTypes.string,\n\tnotificationType: PropTypes.string,\n\thelpKey: PropTypes.string,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport FontAwesome from '../../shared/font_awesome';\n\nconst BuildQueueEntry = (props) => (\n\t<div\n\t\tclassName='tile is-parent has-text-centered is-marginless is-paddingless'\n\t\tkey={props.index}>\n\t\t<div\n\t\t\tstyle={{ marginLeft: '.7rem !important' }}\n\t\t\tclassName='tile is-child is-8 is-marginless is-paddingless is-size-7'>\n\t\t\t{props.index + 1}. {props.entry.name}\n\t\t</div>\n\t\t<div className='tile is-child is-2 is-marginless is-paddingless is-size-7'>\n\t\t\t{props.entry.cost}\n\t\t</div>\n\t\t<div className='tile is-child is-2 is-marginless is-paddingless is-size-7'>\n\t\t\t<div\n\t\t\t\tstyle={{ cursor: 'pointer' }}\n\t\t\t\tonClick={() =>\n\t\t\t\t\tprops.onCancelMachineFromBuildQueue(\n\t\t\t\t\t\tprops.entry,\n\t\t\t\t\t\tprops.index\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t\tclassName='tooltip is-tooltip-left'\n\t\t\t\tdata-tooltip={\n\t\t\t\t\t'Refunds ' +\n\t\t\t\t\tprops.buildingGetCancellationRefundAmount(\n\t\t\t\t\t\tprops.entry.cost\n\t\t\t\t\t) +\n\t\t\t\t\t' of ' +\n\t\t\t\t\tprops.entry.cost +\n\t\t\t\t\t' Favours'\n\t\t\t\t}>\n\t\t\t\t<FontAwesome icon='times-circle' />\n\t\t\t</div>\n\t\t</div>\n\t</div>\n);\n\nexport default BuildQueueEntry;\n\nBuildQueueEntry.propTypes = {\n\tentry: PropTypes.object.isRequired,\n\tindex: PropTypes.number.isRequired,\n\tonCancelMachineFromBuildQueue: PropTypes.func.isRequired,\n\tbuildingGetCancellationRefundAmount: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport BuildQueueEntry from './build_queue_entry';\n\nconst BuildQueue = (props) => {\n\n\tconst buildQueueMax = 3;\n\n\tconst { buildQueue } = props;\n\n\treturn (<div className=\"tile is-child buildqueue box\">\n\n\t\t{/* { queueLength == 0 && <div className=\"message\">Empty</div>} */}\n\n\t\t{ buildQueue.length > 0 && <div className=\"tile is-ancestor is-vertical queue\">\n\t\t\t<div className=\"tile is-parent has-text-centered has-text-weight-bold is-paddingless\">\n\t\t\t\t<div className=\"tile is-child is-8 is-size-7\">\n\n\t\t\t\t</div>\n\t\t\t\t<div className=\"tile is-child is-2 is-size-7\">\n\t\t\t\t\t\tCost\n\t\t\t\t</div>\n\t\t\t\t<div className=\"tile is-child is-2 is-size-7\">\n\t\t\t\t\t\tCancel\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{ buildQueue.slice(0,buildQueueMax).map((m,i) => <BuildQueueEntry key={i} entry={m} index={i}\n\t\t\t\tonCancelMachineFromBuildQueue={props.onCancelMachineFromBuildQueue}\n\t\t\t\tbuildingGetCancellationRefundAmount={props.buildingGetCancellationRefundAmount}\n\t\t\t/> )}\n\t\t\t{ buildQueue.length > buildQueueMax && <div className=\"has-text-weight-bold has-text-centered is-size-7\"> ({buildQueue.length - buildQueueMax} more...)</div>}\n\t\t</div>}\n\n\n\t</div>);};\n\nexport default BuildQueue;\n\nBuildQueue.propTypes = {\n\tbuildQueue:PropTypes.array.isRequired,\n\tonCancelMachineFromBuildQueue: PropTypes.func.isRequired,\n\tbuildingGetCancellationRefundAmount: PropTypes.func.isRequired,\n\n};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport employeeTypes from '../../employees/employee_types';\nimport HelpText from '../../shared/help_text';\nimport FriendlyNumber from '../../shared/friendly_number';\n\nconst FlexibleMachinery = (props) => {\n\tconst producingPerS = props.getOutcomePerSecond(employeeTypes.PRODUCTION);\n\tconst deliveringPerS = props.getOutcomePerSecond(employeeTypes.DELIVERY);\n\n\tconst canDeliverMore =\n\t\tprops.flexibleMachinerySetting !== props.flexibleMachineryAbsMax;\n\tconst canProduceMore =\n\t\tprops.flexibleMachinerySetting !== props.flexibleMachineryAbsMax * -1;\n\n\treturn (\n\t\t<div\n\t\t\tclassName='tile is-parent is-flex is-paddingless is-margingless has-text-centered notification is-light'\n\t\t\tstyle={{\n\t\t\t\talignItems: 'center',\n\t\t\t\tjustifyContent: 'center',\n\t\t\t\tflexDirection: 'column',\n\t\t\t}}>\n\t\t\t<h3\n\t\t\t\tclassName='has-text-centered has-text-weight-bold'\n\t\t\t\tstyle={{ padding: '.7rem' }}>\n\t\t\t\tFlexible Machinery\n\t\t\t</h3>\n\t\t\t<HelpText helpKey='flexibleMachinery' />\n\t\t\t<div\n\t\t\t\tclassName='level is-flex machineryCont'\n\t\t\t\tstyle={{ alignItems: 'center', justifyContent: 'center' }}>\n\t\t\t\t<div\n\t\t\t\t\tclassName='level-item is-flex'\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\talignItems: 'center',\n\t\t\t\t\t\tjustifyContent: 'center',\n\t\t\t\t\t\tflexDirection: 'column',\n\t\t\t\t\t}}>\n\t\t\t\t\t<div className='level-item'>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\tProducing <FriendlyNumber amount={producingPerS} />{' '}\n\t\t\t\t\t\t\t/ s\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='level-item'>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t'button is-small is-rounded is-' +\n\t\t\t\t\t\t\t\t(canProduceMore ? 'success' : 'danger')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tdisabled={!canProduceMore}\n\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\tprops.onFlexibleMachineryUpdate({\n\t\t\t\t\t\t\t\t\ttype: 'production',\n\t\t\t\t\t\t\t\t\tcurrent: props.flexibleMachinerySetting,\n\t\t\t\t\t\t\t\t\tabsMax: props.flexibleMachineryAbsMax,\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}>\n\t\t\t\t\t\t\tMore Production\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className='level-item' style={{ padding: '0 1rem' }}>\n\t\t\t\t\t<input\n\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t'slider is-medium is-circle is-warning is-success'\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstep='1'\n\t\t\t\t\t\tmin={props.flexibleMachineryAbsMax * -1}\n\t\t\t\t\t\tmax={props.flexibleMachineryAbsMax}\n\t\t\t\t\t\tvalue={props.flexibleMachinerySetting}\n\t\t\t\t\t\ttype='range'\n\t\t\t\t\t\tdisabled\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\tclassName='level-item is-flex'\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\talignItems: 'center',\n\t\t\t\t\t\tjustifyContent: 'center',\n\t\t\t\t\t\tflexDirection: 'column',\n\t\t\t\t\t}}>\n\t\t\t\t\t<div className='level-item'>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\tDelivery <FriendlyNumber amount={deliveringPerS} />{' '}\n\t\t\t\t\t\t\t/ s\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='level-item'>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t'button is-small is-rounded is-' +\n\t\t\t\t\t\t\t\t(canDeliverMore ? 'success' : 'danger')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tdisabled={!canDeliverMore}\n\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\tprops.onFlexibleMachineryUpdate({\n\t\t\t\t\t\t\t\t\ttype: 'delivery',\n\t\t\t\t\t\t\t\t\tcurrent: props.flexibleMachinerySetting,\n\t\t\t\t\t\t\t\t\tabsMax: props.flexibleMachineryAbsMax,\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}>\n\t\t\t\t\t\t\tMore Delivery\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default FlexibleMachinery;\n\nFlexibleMachinery.propTypes = {\n\tgetOutcomePerSecond: PropTypes.func.isRequired,\n\tflexibleMachineryAbsMax: PropTypes.number.isRequired,\n\tflexibleMachinerySetting: PropTypes.number.isRequired,\n\tonFlexibleMachineryUpdate: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport BuildProgress from './build_progress';\nimport StatusEntry from './status_entry';\nimport BuildQueue from './build_queue';\nimport FlexibleMachinery from './flexible_machinery';\n\nconst FactoryStatus = (props) => {\n\tlet { builders, flexibleMachinerySetting, flexibleMachineryUnlocked,onFlexibleMachineryUpdate } = props;\n\n\treturn(<div id=\"factoryStatus\" className=\"tile is-child is-12 is-size-7 homeBox box status has-text-centered\">\n\t\t{/* <HelpText helpKey='factory' direction='bottom'/> */}\n\t\t<div className=\"subtitle is-size-6-mobile\">BUILDING</div>\n\n\t\t<div className=\"tile is-parent is-paddingless is-margingless\">\n\t\t\t<div className=\"tile is-child is-paddingless is-marginless\">\n\t\t\t\t<StatusEntry text={(builders.hiredAmount || 0) + ' ' + builders.name }\n\t\t\t\t\ticon='hard-hat'\n\t\t\t\t\thelpKey='builders'\n\t\t\t\t\tnotificationType={builders.hiredAmount > 0 ? 'light' : 'danger'}\n\t\t\t\t/>\n\n\t\t\t\t<BuildProgress builders={builders}\n\t\t\t\t\tbuildingCurrentMachine={props.buildingCurrentMachine}/>\n\t\t\t</div>\n\t\t\t<BuildQueue buildQueue={props.buildQueue}\n\t\t\t\tonCancelMachineFromBuildQueue={props.onCancelMachineFromBuildQueue}\n\t\t\t\tbuildingGetCancellationRefundAmount={props.buildingGetCancellationRefundAmount} />\n\t\t</div>\n\n\t\t{ flexibleMachineryUnlocked && <FlexibleMachinery flexibleMachinerySetting={flexibleMachinerySetting}\n\t\t\tflexibleMachineryAbsMax={props.flexibleMachineryAbsMax}\n\t\t\tonFlexibleMachineryUpdate={onFlexibleMachineryUpdate}\n\t\t\tgetOutcomePerSecond={props.getOutcomePerSecond}\n\t\t/>\n\n\t\t}\n\t</div>);};\n\nexport default FactoryStatus;\n\nFactoryStatus.propTypes = {\n\tbuilders: PropTypes.object.isRequired,\n\tbuildingCurrentMachine: PropTypes.object.isRequired,\n\tbuildQueue:PropTypes.array.isRequired,\n\tonCancelMachineFromBuildQueue: PropTypes.func.isRequired,\n\tbuildingGetCancellationRefundAmount: PropTypes.func.isRequired,\n\tflexibleMachinerySetting: PropTypes.number.isRequired,\n\tflexibleMachineryAbsMax: PropTypes.number.isRequired,\n\tflexibleMachineryUnlocked: PropTypes.bool.isRequired,\n\tonFlexibleMachineryUpdate: PropTypes.func.isRequired,\n\tgetOutcomePerSecond: PropTypes.func.isRequired\n};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport FactoryVisual from './visual/factory_visual';\nimport MachinesBox from './machines_box';\nimport FactoryStatus from './factory_status';\n\nconst FactoryTab = (props) =>\n{\n\n\tconst { builders, powerCommitted, manualWorkers, employees, deliverers } = props;\n\n\tlet numBuilders = employees['builder'].hiredAmount;\n\tlet numDeliverers = employees['delivery'].hiredAmount;\n\n\tbuilders.hiredAmount = numBuilders;\n\tdeliverers.hiredAmount = numDeliverers;\n\treturn (\n\t\t<div id=\"factoryTab\" className=\"tile is-ancestor \">\n\t\t\t<div className=\"tile is-7 is-vertical\">\n\t\t\t\t<div className=\"tile is-parent\">\n\t\t\t\t\t<FactoryStatus builders={builders}\n\t\t\t\t\t\tcommittedPower={powerCommitted}\n\t\t\t\t\t\tbuildingCurrentMachine={props.buildingCurrentMachine}\n\t\t\t\t\t\tbuildQueue={props.buildQueue}\n\t\t\t\t\t\tonCancelMachineFromBuildQueue={props.onCancelMachineFromBuildQueue}\n\t\t\t\t\t\tbuildingGetCancellationRefundAmount={props.buildingGetCancellationRefundAmount}\n\n\t\t\t\t\t\tflexibleMachinerySetting={props.flexibleMachinerySetting}\n\t\t\t\t\t\tflexibleMachineryAbsMax={props.flexibleMachineryAbsMax}\n\t\t\t\t\t\tflexibleMachineryUnlocked={props.flexibleMachineryUnlocked}\n\t\t\t\t\t\tonFlexibleMachineryUpdate={props.onFlexibleMachineryUpdate}\n\t\t\t\t\t\tgetOutcomePerSecond={props.getOutcomePerSecond}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"tile is-parent\">\n\t\t\t\t\t{ numBuilders > 0 && <MachinesBox machinesAll={props.machinesAll}\n\t\t\t\t\t\tmachinesUnlockedList={props.machinesUnlockedList}\n\t\t\t\t\t\tmachinesGetCost={props.machinesGetCost}\n\t\t\t\t\t\tmachinesAddToQueue={props.machinesAddToQueue}\n\t\t\t\t\t\tmachinesSell={props.machinesSell}\n\t\t\t\t\t\tmachinesCanBuild={props.machinesCanBuild}\n\t\t\t\t\t/> }\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"tile is-parent is-5\">\n\t\t\t\t{ numBuilders > 0 && <FactoryVisual\n\t\t\t\t\tmanualWorkers={manualWorkers}\n\t\t\t\t\tdeliverers={deliverers}\n\n\t\t\t\t\tgetOutcomePerSecond={props.getOutcomePerSecond}\n\n\t\t\t\t\tbuiltProdBuildings={props.builtProdBuildings}\n\t\t\t\t\tbuiltDeliveryBuildings={props.builtDeliveryBuildings}\n\t\t\t\t\tbuiltPowerBuildings={props.builtPowerBuildings}\n\t\t\t\t\tbuiltStorageBuildings={props.builtStorageBuildings}\n\t\t\t\t\tpowerTotal={props.powerTotal}\n\n\t\t\t\t\tstorageAmount={props.storageAmount}\n\t\t\t\t\tstorageIsFull={props.storageIsFull}\n\t\t\t\t\tstorageNaturalSize={props.storageNaturalSize}\n\t\t\t\t\tstorageMachineSize={props.storageMachineSize}\n\t\t\t\t\tmachineStorageMultiplier={props.machineStorageMultiplier}\n\t\t\t\t\tonReallocateProdWorker={props.onReallocateProdWorker}\n\t\t\t\t/> }\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default FactoryTab;\n\n\nFactoryTab.propTypes = {\n\tbuilders: PropTypes.object.isRequired,\n\tpowerCommitted: PropTypes.number.isRequired,\n\tmanualWorkers: PropTypes.object.isRequired,\n\temployees: PropTypes.object.isRequired,\n\tdeliverers: PropTypes.object.isRequired,\n\n\tmachinesAll: PropTypes.array.isRequired,\n\tmachinesUnlockedList: PropTypes.array.isRequired,\n\tmachinesGetCost: PropTypes.func.isRequired,\n\tmachinesAddToQueue: PropTypes.func.isRequired,\n\tmachinesSell: PropTypes.func.isRequired,\n\tmachinesCanBuild: PropTypes.func.isRequired,\n\tonReallocateProdWorker: PropTypes.func.isRequired,\n\n\tbuildQueue:PropTypes.array.isRequired,\n\tbuildingCurrentMachine: PropTypes.object.isRequired,\n\tonCancelMachineFromBuildQueue: PropTypes.func.isRequired,\n\tbuildingGetCancellationRefundAmount: PropTypes.func.isRequired,\n\tbuiltProdBuildings: PropTypes.array.isRequired,\n\tbuiltDeliveryBuildings: PropTypes.array.isRequired,\n\tbuiltPowerBuildings: PropTypes.array.isRequired,\n\tbuiltStorageBuildings: PropTypes.array.isRequired,\n\n\tstorageIsFull: PropTypes.bool.isRequired,\n\tstorageAmount: PropTypes.number.isRequired,\n\n\tstorageNaturalSize:PropTypes.number.isRequired,\n\tstorageMachineSize:PropTypes.number.isRequired,\n\tmachineStorageMultiplier: PropTypes.number.isRequired,\n\n\tgetOutcomePerSecond: PropTypes.func.isRequired,\n\tpowerTotal: PropTypes.number.isRequired,\n\n\tflexibleMachinerySetting: PropTypes.number.isRequired,\n\tflexibleMachineryAbsMax: PropTypes.number.isRequired,\n\tflexibleMachineryUnlocked: PropTypes.bool.isRequired,\n\tonFlexibleMachineryUpdate: PropTypes.func.isRequired\n\n};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport complexTabs from './complex_tabs';\nimport HomeTab from './ui/home/tab_home';\nimport FactoryTab from './ui/factory/tab_factory';\n\nconst ComplexMain = (props) => (\n\t<main style={{ paddingBottom: '3rem' }}>\n\t\t{/* // style={{ minHeight: props.wrapperHeight + 'vh' }}> */}\n\t\t{props.showPyro && (\n\t\t\t<div className='pyro is-fixed-top'>\n\t\t\t\t<div className='before'></div>\n\t\t\t\t<div className='after'></div>\n\t\t\t</div>\n\t\t)}\n\t\t<div className='section'>\n\t\t\t<div className='columns'>\n\t\t\t\t<div id='complexGame' className='column has-spacing-top'>\n\t\t\t\t\t{props.areMachinesUnlocked &&\n\t\t\t\t\t\tprops.employees['builder'].hiredAmount > 0 && (\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t{/* <HelpText helpKey='tabs' direction='right' additionalClassName=\"is-pulled-left\"/> */}\n\t\t\t\t\t\t\t\t<div className='tabs is-centered is-toggle is-toggle-rounded'>\n\t\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t\t\t\t'is-size-7-mobile ' +\n\t\t\t\t\t\t\t\t\t\t\t\t(props.activeTab ===\n\t\t\t\t\t\t\t\t\t\t\t\tcomplexTabs.HOME\n\t\t\t\t\t\t\t\t\t\t\t\t\t? ' is-active'\n\t\t\t\t\t\t\t\t\t\t\t\t\t: '')\n\t\t\t\t\t\t\t\t\t\t\t}>\n\t\t\t\t\t\t\t\t\t\t\t{/* eslint-disable-next-line*/}\n\t\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\t\t\t\tprops.onSetActiveTab(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcomplexTabs.HOME\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t}>\n\t\t\t\t\t\t\t\t\t\t\t\tHome\n\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t\t\t\t'is-size-7-mobile ' +\n\t\t\t\t\t\t\t\t\t\t\t\t(props.activeTab ===\n\t\t\t\t\t\t\t\t\t\t\t\tcomplexTabs.FACTORY\n\t\t\t\t\t\t\t\t\t\t\t\t\t? ' is-active'\n\t\t\t\t\t\t\t\t\t\t\t\t\t: '')\n\t\t\t\t\t\t\t\t\t\t\t}>\n\t\t\t\t\t\t\t\t\t\t\t{/* eslint-disable-next-line*/}\n\t\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\t\t\t\tprops.onSetActiveTab(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcomplexTabs.FACTORY\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t}>\n\t\t\t\t\t\t\t\t\t\t\t\tFactory\n\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t)}\n\t\t\t\t\t{props.activeTab === complexTabs.HOME && (\n\t\t\t\t\t\t<HomeTab\n\t\t\t\t\t\t\tproductionPerClick={props.productionPerClick}\n\t\t\t\t\t\t\tproductionTimeToMake={props.productionTimeToMake}\n\t\t\t\t\t\t\tproductionProgressPercent={\n\t\t\t\t\t\t\t\tprops.productionProgressPercent\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcanShowEmployees={props.canShowEmployees}\n\t\t\t\t\t\t\temployees={props.employees}\n\t\t\t\t\t\t\temployeesUnlocked={props.employeesUnlocked}\n\t\t\t\t\t\t\temployeesCanHire={props.employeesCanHire}\n\t\t\t\t\t\t\temployeesGetCost={props.employeesGetCost}\n\t\t\t\t\t\t\temployeesHire={props.employeesHire}\n\t\t\t\t\t\t\tcanShowUpgrades={props.canShowUpgrades}\n\t\t\t\t\t\t\tupgradesUnlocked={props.upgradesUnlocked}\n\t\t\t\t\t\t\tupgradesAll={props.upgradesAll}\n\t\t\t\t\t\t\tupgradesCanPurchase={props.upgradesCanPurchase}\n\t\t\t\t\t\t\tupgradesPurchase={props.upgradesPurchase}\n\t\t\t\t\t\t\tdeliveryFadeOutTimeMs={props.deliveryFadeOutTimeMs}\n\t\t\t\t\t\t\tstorageCurrentSize={props.storageCurrentSize}\n\t\t\t\t\t\t\tstorageIsFull={props.storageIsFull}\n\t\t\t\t\t\t\tstorageTraits={props.storageTraits}\n\t\t\t\t\t\t\tstorageAmount={props.storageAmount}\n\t\t\t\t\t\t\tstorageMax={props.storageMax}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t\t{props.activeTab === complexTabs.FACTORY && (\n\t\t\t\t\t\t<FactoryTab\n\t\t\t\t\t\t\temployees={props.employees}\n\t\t\t\t\t\t\tmanualWorkers={props.manualWorkers}\n\t\t\t\t\t\t\tdeliverers={props.deliverers}\n\t\t\t\t\t\t\tbuilders={props.builders}\n\t\t\t\t\t\t\tgetOutcomePerSecond={props.getOutcomePerSecond}\n\t\t\t\t\t\t\tpowerCommitted={props.powerCommitted}\n\t\t\t\t\t\t\tpowerTotal={props.powerTotal}\n\t\t\t\t\t\t\tstorageAmount={props.storageAmount}\n\t\t\t\t\t\t\tstorageIsFull={props.storageIsFull}\n\t\t\t\t\t\t\tstorageNaturalSize={props.storageNaturalSize}\n\t\t\t\t\t\t\tstorageMachineSize={props.storageMachineSize}\n\t\t\t\t\t\t\tmachineStorageMultiplier={\n\t\t\t\t\t\t\t\tprops.machineStorageMultiplier\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbuildQueue={props.buildQueue}\n\t\t\t\t\t\t\tbuildingCurrentMachine={\n\t\t\t\t\t\t\t\tprops.buildingCurrentMachine\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tonCancelMachineFromBuildQueue={\n\t\t\t\t\t\t\t\tprops.onCancelMachineFromBuildQueue\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbuildingGetCancellationRefundAmount={\n\t\t\t\t\t\t\t\tprops.buildingGetCancellationRefundAmount\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbuiltProdBuildings={props.builtProdBuildings}\n\t\t\t\t\t\t\tbuiltDeliveryBuildings={\n\t\t\t\t\t\t\t\tprops.builtDeliveryBuildings\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbuiltPowerBuildings={props.builtPowerBuildings}\n\t\t\t\t\t\t\tbuiltStorageBuildings={props.builtStorageBuildings}\n\t\t\t\t\t\t\tmachinesAll={props.machinesAll}\n\t\t\t\t\t\t\tmachinesUnlockedList={props.machinesUnlockedList}\n\t\t\t\t\t\t\tmachinesGetCost={props.machinesGetCost}\n\t\t\t\t\t\t\tmachinesAddToQueue={props.machinesAddToQueue}\n\t\t\t\t\t\t\tmachinesSell={props.machinesSell}\n\t\t\t\t\t\t\tmachinesCanBuild={props.machinesCanBuild}\n\t\t\t\t\t\t\tflexibleMachinerySetting={\n\t\t\t\t\t\t\t\tprops.flexibleMachinerySetting\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tflexibleMachineryUnlocked={\n\t\t\t\t\t\t\t\tprops.flexibleMachineryUnlocked\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tonFlexibleMachineryUpdate={\n\t\t\t\t\t\t\t\tprops.onFlexibleMachineryUpdate\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tflexibleMachineryAbsMax={\n\t\t\t\t\t\t\t\tprops.flexibleMachineryAbsMax\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tonReallocateProdWorker={\n\t\t\t\t\t\t\t\tprops.onReallocateProdWorker\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</main>\n);\n\nexport default ComplexMain;\n\nComplexMain.propTypes = {\n\twrapperHeight: PropTypes.number.isRequired,\n\tshowPyro: PropTypes.bool.isRequired,\n\tareMachinesUnlocked: PropTypes.bool.isRequired,\n\tcanShowEmployees: PropTypes.bool.isRequired,\n\tcanShowUpgrades: PropTypes.bool.isRequired,\n\temployees: PropTypes.object.isRequired,\n\tactiveTab: PropTypes.string.isRequired,\n\tonSetActiveTab: PropTypes.func.isRequired,\n\tproductionPerClick: PropTypes.number.isRequired,\n\tproductionTimeToMake: PropTypes.number.isRequired,\n\tproductionProgressPercent: PropTypes.number.isRequired,\n\temployeesCanHire: PropTypes.func.isRequired,\n\temployeesHire: PropTypes.func.isRequired,\n\temployeesGetCost: PropTypes.func.isRequired,\n\n\temployeesUnlocked: PropTypes.array.isRequired,\n\tupgradesUnlocked: PropTypes.array.isRequired,\n\tupgradesAll: PropTypes.array.isRequired,\n\tupgradesCanPurchase: PropTypes.func.isRequired,\n\tupgradesPurchase: PropTypes.func.isRequired,\n\n\tstorageIsFull: PropTypes.bool.isRequired,\n\tstorageAmount: PropTypes.number.isRequired,\n\tstorageTraits: PropTypes.array.isRequired,\n\tstorageCurrentSize: PropTypes.number.isRequired,\n\tstorageNaturalSize: PropTypes.number.isRequired,\n\tstorageMachineSize: PropTypes.number.isRequired,\n\tstorageMax: PropTypes.number.isRequired,\n\tmachineStorageMultiplier: PropTypes.number.isRequired,\n\n\tmanualWorkers: PropTypes.object,\n\tdeliverers: PropTypes.object,\n\tbuilders: PropTypes.object,\n\n\tgetOutcomePerSecond: PropTypes.func.isRequired,\n\tpowerCommitted: PropTypes.number.isRequired,\n\tpowerTotal: PropTypes.number.isRequired,\n\n\tbuildQueue: PropTypes.array.isRequired,\n\tbuildingCurrentMachine: PropTypes.object,\n\tonCancelMachineFromBuildQueue: PropTypes.func.isRequired,\n\tbuildingGetCancellationRefundAmount: PropTypes.func.isRequired,\n\tbuiltProdBuildings: PropTypes.array.isRequired,\n\tbuiltDeliveryBuildings: PropTypes.array.isRequired,\n\tbuiltPowerBuildings: PropTypes.array.isRequired,\n\tbuiltStorageBuildings: PropTypes.array.isRequired,\n\n\tmachinesAll: PropTypes.array.isRequired,\n\tmachinesUnlockedList: PropTypes.array.isRequired,\n\tmachinesGetCost: PropTypes.func.isRequired,\n\tmachinesAddToQueue: PropTypes.func.isRequired,\n\tmachinesSell: PropTypes.func.isRequired,\n\tmachinesCanBuild: PropTypes.func.isRequired,\n\tonReallocateProdWorker: PropTypes.func.isRequired,\n\tdeliveryFadeOutTimeMs: PropTypes.number.isRequired,\n\n\tflexibleMachinerySetting: PropTypes.number.isRequired,\n\tflexibleMachineryUnlocked: PropTypes.bool.isRequired,\n\tflexibleMachineryAbsMax: PropTypes.number.isRequired,\n\tonFlexibleMachineryUpdate: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nexport default class ComplexPatchNotes extends React.Component {\n\tcomponentDidMount() {\n\t\tthis.props.attachQuickviews();\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div\n\t\t\t\tid='quickviewPatchNotes'\n\t\t\t\tclassName={\n\t\t\t\t\t'patchNotes quickview' +\n\t\t\t\t\t(this.props.patchNotesActive ? ' is-active' : '')\n\t\t\t\t}>\n\t\t\t\t<header className='quickview-header notification is-danger'>\n\t\t\t\t\t<p className='title'>\n\t\t\t\t\t\tthings have changed in the prelife...\n\t\t\t\t\t</p>\n\t\t\t\t\t<span\n\t\t\t\t\t\tclassName='delete'\n\t\t\t\t\t\tdata-dismiss='quickview'\n\t\t\t\t\t\tonClick={this.props.onTogglePatchNotes}></span>\n\t\t\t\t</header>\n\t\t\t\t<div className='quickview-body'>\n\t\t\t\t\t<div className='quickview-block'>\n\t\t\t\t\t\t<p className='subtitle'>v0.9.3 - 10 May 2020</p>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\timproved mobile CSS - still very messy but now\n\t\t\t\t\t\t\t\tat least playable!\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t<p className='subtitle'>v0.9.2 - 08 May 2020</p>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li>moved host</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t<p className='subtitle'>v0.9.1 - 14 Nov 2019</p>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\ttweaked the storage system to better handle\n\t\t\t\t\t\t\t\tweird edge cases\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\taccepted that all human creations are ultimately\n\t\t\t\t\t\t\t\timperfect\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t<p className='subtitle'>v0.9.0 - 13 Nov 2019</p>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\tfixed yet more <s>idiotic</s> subtle bugs\n\t\t\t\t\t\t\t\tallowing traits to be double-delivered or missed\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\tadded thousand separators in various places\n\t\t\t\t\t\t\t\twhere numbers were getting difficult to read\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<strong>smoother delivery animations</strong>—no\n\t\t\t\t\t\t\t\tmore buttons jumping about annoyingly\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t<p className='subtitle'>v0.2.2 - 1 Nov 2019</p>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\tadded dividers between machine types in the\n\t\t\t\t\t\t\t\tmachines box for visual clarity\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\tadded <strong>flexible machinery</strong>{' '}\n\t\t\t\t\t\t\t\tupgrade—moves capacity between\n\t\t\t\t\t\t\t\tproduction/delivery as required\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t<p className='subtitle'>v0.2.1 - 28 Oct 2019</p>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li>removed obsolete ability to sell machines</li>\n\t\t\t\t\t\t\t<li>minor bugfixes</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t<hr />\n\t\t\t\t\t\t<p className='subtitle'>v0.2.0 - 26 Oct 2019</p>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li>added simple changelog</li>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\tmassive refactoring to support{' '}\n\t\t\t\t\t\t\t\t<strong>save/load</strong> and also{' '}\n\t\t\t\t\t\t\t\t<strong>fix page reloading exploit</strong> to\n\t\t\t\t\t\t\t\tprevent duplicating upgrades\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\temployee progress bars are now indeterminate\n\t\t\t\t\t\t\t\twhen producing super fast, to{' '}\n\t\t\t\t\t\t\t\t<strong>\n\t\t\t\t\t\t\t\t\treduce unnecessary strobe effect\n\t\t\t\t\t\t\t\t</strong>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\tstorage upgrades now end in a round number for\n\t\t\t\t\t\t\t\textra satisfaction\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t&apos;e&apos; homepage link now opens in a new\n\t\t\t\t\t\t\t\twindow to prevent accidental loss of progress\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\tbuffed delivery upgrades &apos;stackable\n\t\t\t\t\t\t\t\tcrates&apos; and &apos;invent cranes&apos;\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\tindustrial warehouse now has the actual intended\n\t\t\t\t\t\t\t\tsize\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>polished machine descriptions & displays</li>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\tadded tooltips to explain the functionality of\n\t\t\t\t\t\t\t\tall upgrades as you buy them\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\timproved stats screen; added{' '}\n\t\t\t\t\t\t\t\t<strong>\n\t\t\t\t\t\t\t\t\taccurate playtimer (in Earth & prelife time)\n\t\t\t\t\t\t\t\t</strong>\n\t\t\t\t\t\t\t\t; efficiency stats; machine stats\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<strong>rebalancing:</strong> tweaked values for\n\t\t\t\t\t\t\t\tall production machines and added{' '}\n\t\t\t\t\t\t\t\t<strong>Loaders</strong>—exponentially powerful\n\t\t\t\t\t\t\t\tdelivery machines. Maintaining balance between\n\t\t\t\t\t\t\t\tproduction/delivery should now be smoother and\n\t\t\t\t\t\t\t\tmore in the player&apos;s control.\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<strong>rebalancing:</strong> tweaked all early\n\t\t\t\t\t\t\t\tgame values and upgrades to reduce waiting time\n\t\t\t\t\t\t\t\tearly on\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<strong>rebalancing:</strong> added extra late\n\t\t\t\t\t\t\t\tgame upgrades to further smooth progression\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\tfixed subtle bug preventing some traits from\n\t\t\t\t\t\t\t\tappearing properly in storage\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\tfixed *other* subtle bug allowing small numbers\n\t\t\t\t\t\t\t\tof traits to be double-delivered\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nComplexPatchNotes.propTypes = {\n\tattachQuickviews: PropTypes.func.isRequired,\n\tpatchNotesActive: PropTypes.bool.isRequired,\n\tonTogglePatchNotes: PropTypes.func.isRequired,\n};\n","import moment from 'moment';\n\nconst savableValues = {\n\n\toverallWorkMultiplier: 1.2,\n\n\ttotalTimePlayed: moment.duration(0),\n\n\tcostScalingExponent: 1.45,\n\tcostScalingBaseMultiplier: 1.1,\n\n\tstored: 0,\n\tstorageMax: 1000000000000,\n\tisMakingTraits: false,\n\ttotalMade: 0,\n\ttotalDelivered: 0,\n\n\ttotalWastedProduction: 0,\n\ttotalWastedDeliveries: 0,\n\n\tflexibleMachinerySetting: 0,\n\n\tfavours: 0,\n\tfavoursSpent: 0,\n\n\temployees:{\n\t\tproduction:{\n\t\t\thiredAmount: 0,\n\t\t\toutputMultiplier: 1,\n\t\t\tcostMultiplier: 1,\n\t\t\tworkPerSecondMultiplier: 1,\n\t\t\tworkRequiredMultiplier: 1,\n\t\t},\n\t\tdelivery:{\n\t\t\thiredAmount: 0,\n\t\t\toutputMultiplier: 1,\n\t\t\tcostMultiplier: 1,\n\t\t\tworkPerSecondMultiplier: 1,\n\t\t\tworkRequiredMultiplier: 1,\n\t\t},\n\t\tbuilder:{\n\t\t\thiredAmount: 0,\n\t\t\toutputMultiplier: 1,\n\t\t\tcostMultiplier: 1,\n\t\t\tworkPerSecondMultiplier: 1,\n\t\t\tworkRequiredMultiplier: 1,\n\t\t}\n\t},\n\tupgradesPurchased: [ ],\n\tmachinesBuilt:{\n\t}\n\n};\n\nexport default savableValues;","const reactions = {\n\tthree: [ 'impatient', 'irritable', 'anxious', 'testy', 'fretful'],\n\tsix: [ 'intrigued', 'fascinated', 'captivated', 'enthralled', 'charmed', 'curious'],\n\tnine: [ 'impressed', 'amazed', 'struck', 'excited', 'dazzled'],\n\ttwelve: ['absent', 'missing', 'distracted', 'preoccupied', 'oblivious'],\n\tfifteen: [ 'tiring', 'weary', 'losing interest', 'becoming bored'],\n\teighteen: ['silent']\n};\n\nconst adverbs_positive = [\n\t'extremely ', 'very ', 'rather ', 'highly ','particularly ', 'remarkably ', '', '', '', '', ''\n];\n\nconst adverbs_negative = [\n\t'oddly ', 'unusually ', 'suspiciously ', 'weirdly ', 'confusingly ', 'curiously ', '','', '', '', ''\n];\n\nexport function getManagementReaction(totalDelivered){\n\tlet magnitude = Math.floor(Math.log10(totalDelivered));\n\n\tlet reaction = ' are ';\n\n\tlet possibles = [];\n\n\tlet adverb = '';\n\n\tif(magnitude < 3){\n\t\tpossibles = reactions.three;\n\t\tadverb = adverbs_positive[Math.floor(Math.random() * adverbs_positive.length)];\n\t}else if (magnitude < 6){\n\t\tpossibles = reactions.six;\n\t\t// no adverb\n\t}else if (magnitude < 9){\n\t\tpossibles = reactions.nine;\n\t\tadverb = adverbs_positive[Math.floor(Math.random() * adverbs_positive.length)];\n\t}else if (magnitude < 12){\n\t\tpossibles = reactions.twelve;\n\t\tadverb = adverbs_negative[Math.floor(Math.random() * adverbs_positive.length)];\n\t}else if (magnitude < 15){\n\t\tadverb = adverbs_negative[Math.floor(Math.random() * adverbs_positive.length)];\n\t\tpossibles = reactions.fifteen;\n\t}else if (magnitude < 18){\n\t\tpossibles = reactions.eighteen;\n\t}else{\n\t\tpossibles = reactions.eighteen;\n\t}\n\n\treaction += adverb;\n\treaction += possibles[Math.floor(Math.random() * possibles.length)];\n\n\treturn reaction;\n}","import React from 'react';\nimport ComplexNav from './ui/nav/complex_nav';\nimport FirstLoad from './ui/first_load';\nimport WinScreen from './ui/win_screen';\nimport traitsState from './traits_state';\nimport ComplexStats from './stats/complex_stats';\nimport ComplexFooter from './complex_footer';\nimport employeeTypes from './employees/employee_types';\nimport ComplexMain from './complex_main';\nimport complexTabs from './complex_tabs';\nimport machineRoles from './machines/machine_roles';\nimport moment from 'moment';\nimport ComplexPatchNotes from './ui/complex_patch_notes';\nimport savableValues from './save_data/savable_values';\nimport { getManagementReaction } from './stats/management_reaction';\n\nexport default class ComplexGame extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tdebug: traitsState.debug,\n\t\t\tfirstLoad: true,\n\n\t\t\tlastSaved: moment(),\n\t\t\ttraitsState: traitsState,\n\t\t\tstatsActive: false,\n\t\t\tpatchNotesActive: false,\n\n\t\t\tcanShowWinScreen: true,\n\t\t\tactiveTab: traitsState.debug ? complexTabs.HOME : complexTabs.HOME,\n\n\t\t\t// pyro\n\t\t\tshowPyro: false,\n\t\t\tpyroStart: moment(),\n\t\t\tpyroLength: 5 * 1000,\n\n\t\t\t// slow updates:\n\t\t\tcanMakeTraits: false,\n\t\t\tcanShowEmployees: traitsState.getUnlockedEmployees().length > 0,\n\t\t\tcanShowUpgrades: traitsState.totalDelivered >= 1,\n\t\t\tbottleNeckedPerSecond: 0,\n\t\t\tfavours: 0,\n\t\t\ttotalStorageSize: 0,\n\t\t\tbuiltDeliveryBuildings: [],\n\t\t\tbuiltProdBuildings: [],\n\t\t\tbuiltPowerBuildings: [],\n\t\t\tbuiltStorageBuildings: [],\n\t\t\tmanualWorkers: traitsState.getEmployeeByType(\n\t\t\t\temployeeTypes.PRODUCTION\n\t\t\t),\n\t\t\tdeliverers: traitsState.getEmployeeByType(employeeTypes.DELIVERY),\n\t\t\tbuilders: traitsState.getEmployeeByType(employeeTypes.BUILDER),\n\t\t\tproductionTimeToMake: 0,\n\t\t\tstorageIsFull: false,\n\t\t\tstorageCurrentSize: 0,\n\t\t\tstorageNaturalSize: 0,\n\t\t\tstorageMachineSize: 0,\n\t\t\temployeesUnlocked: [],\n\t\t\tupgradesUnlocked: [],\n\t\t\tmachinesUnlockedList: [],\n\t\t\tpowerCommitted: 0,\n\t\t\tpowerTotal: 0,\n\t\t\tbuildingCurrentMachine: traitsState.getCurrentlyBuildingMachine(),\n\t\t\ttotalTimePlayed: moment.duration(0),\n\t\t\tmanagementReaction: getManagementReaction(0),\n\t\t\tflexibleMachineryUnlocked: false,\n\t\t\tflexibleMachinerySetting: 0,\n\t\t\tflexibleMachineryAbsMax: 0,\n\t\t\tmachineStorageMultiplier: 1,\n\t\t};\n\n\t\tthis.onFirstLoadModalClosed = this.onFirstLoadModalClosed.bind(this);\n\t\tthis.onWinScreenClosed = this.onWinScreenClosed.bind(this);\n\t\tthis.onMakeTraitsClicked = this.onMakeTraitsClicked.bind(this);\n\t\tthis.toggleStatsActive = this.toggleStatsActive.bind(this);\n\t\tthis.togglePatchNotes = this.togglePatchNotes.bind(this);\n\n\t\tthis.saveGame = this.saveGame.bind(this);\n\n\t\t//initiate the webworker: (this works!)\n\t\t// this.worker = new MyWorker();\n\t\t// this.worker.onmessage = (m) => { this.handleTick(m);};\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.timerID = setInterval(\n\t\t\t() => this.tick(),\n\t\t\tthis.state.traitsState.tickLengthMs\n\t\t);\n\t\tthis.updateState();\n\t\tthis.slowTimerID = setInterval(\n\t\t\t() => this.updateState(),\n\t\t\tthis.state.traitsState.tickLengthMs * 4\n\t\t);\n\t}\n\n\tcomponentWillUnmount() {\n\t\tclearInterval(this.timerID);\n\t\tclearInterval(this.slowTimerID);\n\t}\n\n\tsaveGame() {\n\t\t// build save object\n\t\tlet save = {};\n\t\tfor (let prop in savableValues) {\n\t\t\tswitch (prop) {\n\t\t\t\tcase 'totalTimePlayed':\n\t\t\t\t\tsave[prop] = this.state.traitsState[prop].asMilliseconds();\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tsave[prop] = this.state.traitsState[prop];\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif (save) {\n\t\t\tlet stringifiedSave = JSON.stringify(save);\n\t\t\tlocalStorage.setItem('thesupplierscomplex_save', stringifiedSave);\n\t\t\tthis.setState({ lastSaved: moment() });\n\t\t\t// console.log('saved game');\n\t\t}\n\t}\n\n\tactivatePyro = () => {\n\t\tthis.setState({\n\t\t\tshowPyro: true,\n\t\t\tpyroStart: moment(),\n\t\t});\n\t\twindow.scrollTo(0, 0);\n\t};\n\n\tpurchaseUpgrade = (id) => {\n\t\tthis.state.traitsState.purchaseUpgrade(id, this.activatePyro);\n\t};\n\n\tonFlexibleMachineryUpdate = (settings) => {\n\t\tif (!settings) return;\n\n\t\tswitch (settings.type) {\n\t\t\tcase 'production': // negative\n\t\t\t\tif (\n\t\t\t\t\ttraitsState.flexibleMachinerySetting >\n\t\t\t\t\ttraitsState.flexibleMachineryAbsMax * -1\n\t\t\t\t) {\n\t\t\t\t\ttraitsState.flexibleMachinerySetting--;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'delivery': // positive\n\t\t\t\tif (\n\t\t\t\t\ttraitsState.flexibleMachinerySetting <\n\t\t\t\t\ttraitsState.flexibleMachineryAbsMax\n\t\t\t\t) {\n\t\t\t\t\ttraitsState.flexibleMachinerySetting++;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tconsole.error('unknown flexible machinery: ', settings);\n\t\t}\n\t};\n\n\tupdateState = () => {\n\t\tlet showPyro = this.state.showPyro;\n\t\tif (this.state.showPyro) {\n\t\t\tconst length = moment().diff(this.state.pyroStart);\n\t\t\tif (length > this.state.pyroLength) {\n\t\t\t\tshowPyro = false;\n\t\t\t}\n\t\t}\n\n\t\tthis.setState({\n\t\t\tshowPyro: showPyro,\n\t\t\tcanShowEmployees:\n\t\t\t\tthis.state.traitsState.getUnlockedEmployees().length > 0,\n\t\t\tcanShowUpgrades: this.state.traitsState.totalDelivered >= 1,\n\t\t\tbottleNeckedPerSecond: this.state.traitsState.getBottleneckedPerSecond(),\n\t\t\tfavours: this.state.traitsState.favours,\n\t\t\ttotalStorageSize: this.state.traitsState.currentStorageSize(),\n\t\t\tcanMakeTraits: this.state.traitsState.canMakeTraits(),\n\t\t\tbuiltDeliveryBuildings: this.state.traitsState.machines.getBuiltByRole(\n\t\t\t\tmachineRoles.DELIVERY\n\t\t\t),\n\t\t\tbuiltProdBuildings: this.state.traitsState.machines.getBuiltByRole(\n\t\t\t\tmachineRoles.PRODUCTION\n\t\t\t),\n\t\t\tbuiltPowerBuildings: this.state.traitsState.machines\n\t\t\t\t.getBuiltByRole(machineRoles.POWER)\n\t\t\t\t.sort((b) => b.power)\n\t\t\t\t.reverse(),\n\t\t\tbuiltStorageBuildings: this.state.traitsState.machines.getBuiltByRole(\n\t\t\t\tmachineRoles.STORAGE\n\t\t\t),\n\t\t\tmanualWorkers: this.state.traitsState.getEmployeeByType(\n\t\t\t\temployeeTypes.PRODUCTION\n\t\t\t),\n\t\t\tdeliverers: this.state.traitsState.getEmployeeByType(\n\t\t\t\temployeeTypes.DELIVERY\n\t\t\t),\n\t\t\tbuilders: this.state.traitsState.getEmployeeByType(\n\t\t\t\temployeeTypes.BUILDER\n\t\t\t),\n\t\t\tproductionTimeToMake: Number.parseFloat(\n\t\t\t\tthis.state.traitsState.getTimeToMake().toFixed(2)\n\t\t\t),\n\t\t\tstorageIsFull: this.state.traitsState.isStorageFull(),\n\t\t\tstorageCurrentSize: this.state.traitsState.currentStorageSize(),\n\t\t\tstorageNaturalSize: this.state.traitsState.getNaturalStorageSize(),\n\t\t\tstorageMachineSize: this.state.traitsState.machines.getMachineStorageSize(),\n\t\t\temployeesUnlocked: this.state.traitsState.getUnlockedEmployees(),\n\t\t\tupgradesUnlocked: this.state.traitsState.getUnlockedUpgrades(),\n\t\t\tpowerCommitted:\n\t\t\t\tthis.state.traitsState.machines.totalPower(true) -\n\t\t\t\tthis.state.traitsState.machines.totalPower(false),\n\t\t\tpowerTotal: this.state.traitsState.machines.totalPower(),\n\t\t\tbuildingCurrentMachine: this.state.traitsState.getCurrentlyBuildingMachine(),\n\t\t\tmachinesUnlockedList: this.state.traitsState.getUnlockedMachines(),\n\t\t\ttotalTimePlayed: this.state.traitsState.totalTimePlayed,\n\t\t\tflexibleMachineryUnlocked: this.state.traitsState\n\t\t\t\t.flexibleMachineryUnlocked,\n\t\t\tflexibleMachinerySetting: this.state.traitsState\n\t\t\t\t.flexibleMachinerySetting,\n\t\t\tflexibleMachineryAbsMax: this.state.traitsState\n\t\t\t\t.flexibleMachineryAbsMax,\n\t\t\tmachineStorageMultiplier: this.state.traitsState\n\t\t\t\t.machineStorageMultiplier,\n\t\t});\n\t};\n\n\ttoggleStatsActive() {\n\t\tlet active = !this.state.statsActive;\n\t\tthis.setState({\n\t\t\tstatsActive: active,\n\t\t\tmanagementReaction: getManagementReaction(\n\t\t\t\tthis.state.traitsState.totalDelivered\n\t\t\t),\n\t\t});\n\t}\n\n\ttogglePatchNotes() {\n\t\tlet active = !this.state.patchNotesActive;\n\t\tthis.setState({ patchNotesActive: active });\n\t}\n\n\tsetActiveTab = (tab) => this.setState({ activeTab: tab });\n\n\ttick() {\n\t\tlet isPaused =\n\t\t\tthis.state.traitsState.gameComplete && this.state.canShowWinScreen;\n\n\t\tthis.state.traitsState.tick(isPaused);\n\t\tthis.setState({\n\t\t\ttraitsState: this.state.traitsState,\n\t\t});\n\n\t\tif (\n\t\t\t!this.state.firstLoad &&\n\t\t\tmoment().diff(this.state.lastSaved) > 1000\n\t\t) {\n\t\t\tthis.saveGame();\n\t\t}\n\n\t\t// this.worker.postMessage(null);\n\t}\n\n\tonFirstLoadModalClosed(saveData) {\n\t\tif (!saveData) {\n\t\t\tlocalStorage.removeItem('thesupplierscomplex_save');\n\t\t}\n\n\t\tthis.state.traitsState.init(saveData);\n\t\tthis.setState({\n\t\t\tfirstLoad: false,\n\t\t});\n\t}\n\n\tonWinScreenClosed() {\n\t\tthis.setState({\n\t\t\tcanShowWinScreen: false,\n\t\t});\n\t}\n\n\tonMakeTraitsClicked() {\n\t\tthis.state.traitsState.onMakeTraitsClicked();\n\t\tthis.updateState();\n\t}\n\n\thireEmployee = (id) => {\n\t\tthis.state.traitsState.hireEmployee(id);\n\t\tthis.updateState();\n\t};\n\n\trender() {\n\t\tconst unlockedUpgrades = this.state.traitsState.getUnlockedUpgrades();\n\t\tconst producingPerS = Number.parseFloat(\n\t\t\tthis.state.traitsState\n\t\t\t\t.getOutcomePerSecond(employeeTypes.PRODUCTION)\n\t\t\t\t.toFixed(2)\n\t\t);\n\t\tconst deliveringPerS = Number.parseFloat(\n\t\t\tthis.state.traitsState\n\t\t\t\t.getOutcomePerSecond(employeeTypes.DELIVERY)\n\t\t\t\t.toFixed(2)\n\t\t);\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{(!this.state.traitsState.gameComplete ||\n\t\t\t\t\t!this.state.canShowWinScreen) && (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t{this.state.firstLoad && (\n\t\t\t\t\t\t\t<FirstLoad\n\t\t\t\t\t\t\t\tonFirstLoadModalClosed={\n\t\t\t\t\t\t\t\t\tthis.onFirstLoadModalClosed\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{!this.state.firstLoad && (\n\t\t\t\t\t\t\t<ComplexNav\n\t\t\t\t\t\t\t\tshowMassDeliveryBtn={\n\t\t\t\t\t\t\t\t\tthis.state.traitsState.massDelivery.isActive\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tfavours={this.state.favours}\n\t\t\t\t\t\t\t\tcanMakeTraits={this.state.canMakeTraits}\n\t\t\t\t\t\t\t\ttotalDelivered={\n\t\t\t\t\t\t\t\t\tthis.state.traitsState.totalDelivered\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tstatsActive={this.state.statsActive}\n\t\t\t\t\t\t\t\tonToggleStatsActive={this.toggleStatsActive}\n\t\t\t\t\t\t\t\tonMakeTraitsClicked={this.onMakeTraitsClicked}\n\t\t\t\t\t\t\t\tonPerformMassDelivery={\n\t\t\t\t\t\t\t\t\tthis.state.traitsState.massDelivery.perform\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tproducingPerS={producingPerS}\n\t\t\t\t\t\t\t\tdeliveringPerS={deliveringPerS}\n\t\t\t\t\t\t\t\tupgradesAvailable={unlockedUpgrades}\n\t\t\t\t\t\t\t\ttotalStorageSize={this.state.totalStorageSize}\n\t\t\t\t\t\t\t\tbottleNeckedPerSecond={\n\t\t\t\t\t\t\t\t\tthis.state.bottleNeckedPerSecond\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{!this.state.firstLoad && (\n\t\t\t\t\t\t\t<ComplexMain\n\t\t\t\t\t\t\t\twrapperHeight={\n\t\t\t\t\t\t\t\t\tthis.state.traitsState.wrapperHeight\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tshowPyro={this.state.showPyro}\n\t\t\t\t\t\t\t\tmanualWorkers={this.state.manualWorkers}\n\t\t\t\t\t\t\t\tdeliverers={this.state.deliverers}\n\t\t\t\t\t\t\t\tbuilders={this.state.builders}\n\t\t\t\t\t\t\t\tgetOutcomePerSecond={\n\t\t\t\t\t\t\t\t\tthis.state.traitsState.getOutcomePerSecond\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tactiveTab={this.state.activeTab}\n\t\t\t\t\t\t\t\tonSetActiveTab={this.setActiveTab}\n\t\t\t\t\t\t\t\tproductionPerClick={\n\t\t\t\t\t\t\t\t\tthis.state.traitsState.madePerClick\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tproductionTimeToMake={\n\t\t\t\t\t\t\t\t\tthis.state.productionTimeToMake\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tproductionProgressPercent={\n\t\t\t\t\t\t\t\t\tthis.state.traitsState.makeProgressPercent\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tcanShowEmployees={this.state.canShowEmployees}\n\t\t\t\t\t\t\t\temployees={this.state.traitsState.employees}\n\t\t\t\t\t\t\t\temployeesUnlocked={this.state.employeesUnlocked}\n\t\t\t\t\t\t\t\temployeesCanHire={\n\t\t\t\t\t\t\t\t\tthis.state.traitsState.canHireEmployee\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\temployeesGetCost={\n\t\t\t\t\t\t\t\t\tthis.state.traitsState.getEmployeeCost\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\temployeesHire={this.hireEmployee}\n\t\t\t\t\t\t\t\tcanShowUpgrades={this.state.canShowUpgrades}\n\t\t\t\t\t\t\t\tupgradesUnlocked={this.state.upgradesUnlocked}\n\t\t\t\t\t\t\t\tupgradesAll={this.state.traitsState.allUpgrades}\n\t\t\t\t\t\t\t\tupgradesCanPurchase={\n\t\t\t\t\t\t\t\t\tthis.state.traitsState.canPurchaseUpgrade\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tupgradesPurchase={this.purchaseUpgrade}\n\t\t\t\t\t\t\t\tstorageCurrentSize={\n\t\t\t\t\t\t\t\t\tthis.state.storageCurrentSize\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tstorageNaturalSize={\n\t\t\t\t\t\t\t\t\tthis.state.storageNaturalSize\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tstorageMachineSize={\n\t\t\t\t\t\t\t\t\tthis.state.storageMachineSize\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tstorageIsFull={this.state.storageIsFull}\n\t\t\t\t\t\t\t\tstorageAmount={this.state.traitsState.stored}\n\t\t\t\t\t\t\t\tstorageTraits={\n\t\t\t\t\t\t\t\t\tthis.state.traitsState.storedTraits\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tstorageMax={\n\t\t\t\t\t\t\t\t\tthis.state.traitsState.visualStorageMax\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tmachineStorageMultiplier={\n\t\t\t\t\t\t\t\t\tthis.state.machineStorageMultiplier || 1\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tdeliveryFadeOutTimeMs={\n\t\t\t\t\t\t\t\t\tthis.state.traitsState\n\t\t\t\t\t\t\t\t\t\t.deliveryFadeOutTimeMs || 2500\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tpowerCommitted={this.state.powerCommitted}\n\t\t\t\t\t\t\t\tpowerTotal={this.state.powerTotal}\n\t\t\t\t\t\t\t\tbuildQueue={\n\t\t\t\t\t\t\t\t\tthis.state.traitsState.machines.buildQueue\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbuildingCurrentMachine={\n\t\t\t\t\t\t\t\t\tthis.state.buildingCurrentMachine\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonCancelMachineFromBuildQueue={\n\t\t\t\t\t\t\t\t\tthis.state.traitsState\n\t\t\t\t\t\t\t\t\t\t.cancelMachineFromQueue\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbuildingGetCancellationRefundAmount={\n\t\t\t\t\t\t\t\t\tthis.state.traitsState\n\t\t\t\t\t\t\t\t\t\t.getCancellationRefundAmount\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbuiltDeliveryBuildings={\n\t\t\t\t\t\t\t\t\tthis.state.builtDeliveryBuildings\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbuiltProdBuildings={\n\t\t\t\t\t\t\t\t\tthis.state.builtProdBuildings\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbuiltPowerBuildings={\n\t\t\t\t\t\t\t\t\tthis.state.builtPowerBuildings\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbuiltStorageBuildings={\n\t\t\t\t\t\t\t\t\tthis.state.builtStorageBuildings\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tareMachinesUnlocked={\n\t\t\t\t\t\t\t\t\tthis.state.traitsState.machines.unlocked\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tmachinesAll={\n\t\t\t\t\t\t\t\t\tthis.state.traitsState.machines.all\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tmachinesUnlockedList={\n\t\t\t\t\t\t\t\t\tthis.state.machinesUnlockedList\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tmachinesGetCost={\n\t\t\t\t\t\t\t\t\tthis.state.traitsState.getMachineCost\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tmachinesAddToQueue={\n\t\t\t\t\t\t\t\t\tthis.state.traitsState.addMachineToQueue\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tmachinesSell={\n\t\t\t\t\t\t\t\t\tthis.state.traitsState.machines.sell\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tmachinesCanBuild={\n\t\t\t\t\t\t\t\t\tthis.state.traitsState.canBuildMachine\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tflexibleMachinerySetting={\n\t\t\t\t\t\t\t\t\tthis.state.flexibleMachinerySetting || 0\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tflexibleMachineryAbsMax={\n\t\t\t\t\t\t\t\t\tthis.state.flexibleMachineryAbsMax || 2\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tflexibleMachineryUnlocked={\n\t\t\t\t\t\t\t\t\tthis.state.flexibleMachineryUnlocked ||\n\t\t\t\t\t\t\t\t\tfalse\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonFlexibleMachineryUpdate={\n\t\t\t\t\t\t\t\t\tthis.onFlexibleMachineryUpdate\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonReallocateProdWorker={\n\t\t\t\t\t\t\t\t\tthis.state.traitsState.reallocateProdWorker\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{!this.state.firstLoad && (\n\t\t\t\t\t\t\t<ComplexFooter\n\t\t\t\t\t\t\t\tversion={this.state.traitsState.version}\n\t\t\t\t\t\t\t\ttogglePatchNotes={this.togglePatchNotes}\n\t\t\t\t\t\t\t\tpatchNotesActive={this.state.patchNotesActive}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t{this.state.traitsState.gameComplete &&\n\t\t\t\t\tthis.state.canShowWinScreen && (\n\t\t\t\t\t\t<WinScreen\n\t\t\t\t\t\t\tstartTime={this.state.traitsState.startTime}\n\t\t\t\t\t\t\tgameWinTime={this.state.traitsState.gameWinTime}\n\t\t\t\t\t\t\tonWinScreenClosed={this.onWinScreenClosed}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t<ComplexStats\n\t\t\t\t\ttotalTimePlayed={this.state.totalTimePlayed}\n\t\t\t\t\tmanagementReaction={this.state.managementReaction}\n\t\t\t\t\ttotalMade={this.state.traitsState.totalMade}\n\t\t\t\t\ttotalDelivered={this.state.traitsState.totalDelivered}\n\t\t\t\t\tfavoursSpent={this.state.traitsState.favoursSpent}\n\t\t\t\t\ttotalWastedProduction={\n\t\t\t\t\t\tthis.state.traitsState.totalWastedProduction\n\t\t\t\t\t}\n\t\t\t\t\ttotalWastedDeliveries={\n\t\t\t\t\t\tthis.state.traitsState.totalWastedDeliveries\n\t\t\t\t\t}\n\t\t\t\t\tproducingPerS={producingPerS}\n\t\t\t\t\tdeliveringPerS={deliveringPerS}\n\t\t\t\t\tattachQuickviews={this.state.traitsState.attachQuickviews}\n\t\t\t\t\tstatsActive={this.state.statsActive}\n\t\t\t\t\tallUpgrades={this.state.traitsState.allUpgrades}\n\t\t\t\t\tareMachinesUnlocked={\n\t\t\t\t\t\tthis.state.traitsState.machines.unlocked\n\t\t\t\t\t}\n\t\t\t\t\tmachinesAll={this.state.traitsState.machines.all}\n\t\t\t\t\tmachinesUnlockedList={this.state.machinesUnlockedList}\n\t\t\t\t/>\n\t\t\t\t<ComplexPatchNotes\n\t\t\t\t\tattachQuickviews={this.state.traitsState.attachQuickviews}\n\t\t\t\t\tpatchNotesActive={this.state.patchNotesActive}\n\t\t\t\t\tonTogglePatchNotes={this.togglePatchNotes}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n}\n","import React from 'react';\nimport ComplexGame from './components/complex_game';\n\nrequire('./resources/styles/styles');\n\nfunction App() {\n\treturn <ComplexGame />;\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n\nserviceWorker.register();\n"],"sourceRoot":""}