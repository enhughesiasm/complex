(this.webpackJsonpcomplex=this.webpackJsonpcomplex||[]).push([[0],[,,,,,,,,function(e,t,i){e.exports=i.p+"static/media/jarmix.3d4ba374.jpg"},,function(e,t,i){e.exports=i.p+"static/media/jar1transinverted.5e65188b.png"},function(e,t,i){e.exports=i.p+"static/media/shop.8f4bb758.jpg"},,function(e,t){e.exports="data:image/jpeg;base64,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"},function(e,t){e.exports="data:image/jpeg;base64,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"},function(e,t){e.exports="data:image/jpeg;base64,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"},function(e,t){e.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEBLAEsAAD/4QCyRXhpZgAATU0AKgAAAAgABgEaAAUAAAABAAAAVgEbAAUAAAABAAAAXgEoAAMAAAABAAIAAAExAAIAAAAQAAAAZgEyAAIAAAAUAAAAdodpAAQAAAABAAAAigAAAAAAAAEsAAAAAQAAASwAAAABcGFpbnQubmV0IDQuMi4xADIwMTQ6MTI6MTUgMTc6MzQ6MjUAAAKgAgAEAAAAAQAADXmgAwAEAAAAAQAAEzEAAAAAAAD/4gOgSUNDX1BST0ZJTEUAAQEAAAOQQURCRQIQAABwcnRyR1JBWVhZWiAHzwAGAAMAAAAAAABhY3NwQVBQTAAAAABub25lAAAAAAAAAAAAAAAAAAAAAQAA9tYAAQAAAADTLUFEQkUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVjcHJ0AAAAwAAAADJkZXNjAAAA9AAAAGd3dHB0AAABXAAAABRia3B0AAABcAAAABRrVFJDAAABhAAAAgx0ZXh0AAAAAENvcHlyaWdodCAxOTk5IEFkb2JlIFN5c3RlbXMgSW5jb3Jwb3JhdGVkAAAAZGVzYwAAAAAAAAANRG90IEdhaW4gMTUlAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABYWVogAAAAAAAA9tYAAQAAAADTLVhZWiAAAAAAAAAAAAAAAAAAAAAAY3VydgAAAAAAAAEAAAAAEAAqAE4AeQCqAOABGwFaAZ4B5QIxAoAC0gMoA4ED3QQ8BJ4FAwVrBdUGQgayByQHmQgQCIkJBQmDCgMKhgsLC5EMGgylDTMNwg5TDuYPexASEKsRRhHiEoETIRPDFGcVDRW1Fl4XCRe1GGQZExnFGngbLRvkHJwdVR4RHs0fjCBMIQ0h0CKUI1okIiTrJbUmgSdOKB0o7Sm+KpErZSw7LRIt6i7EL58wfDFaMjkzGTP7NN41wzaoN484eDlhOkw7ODwlPRQ+BD71P+dA20HQQsZDvUS1Ra9GqUelSKJJoUqgS6FMo02mTqpPr1C1Ub1SxlPPVNpV5lb0WAJZEVoiWzNcRl1aXm5fhGCbYbNizWPnZQJmHmc8aFppemqaa7xs3m4CbydwTHFzcptzw3Ttdhh3RHhxeZ56zXv9fS5+X3+SgMaB+4MwhGeFnobXiBGJS4qHi8ONAI4/j36QvpH/k0GUhZXIlw2YU5mamuKcKp10nr6gCqFWoqOj8aVAppCn4akzqoWr2a0troKv2bEwsoiz4LU6tpW38LlNuqq8CL1nvsfAJ8GJwuvETsWzxxfIfcnky0vMtM4dz4fQ8tJe08rVONam2BXZhdr13Gfd2d9M4MDiNeOr5SHmmegR6YrrA+x+7fnvdfDy8nDz7vVu9u74b/nw+3P89v56////2wBDAAkGBwgHBgkICAgKCgkLDhcPDg0NDhwUFREXIh4jIyEeICAlKjUtJScyKCAgLj8vMjc5PDw8JC1CRkE6RjU7PDn/2wBDAQoKCg4MDhsPDxs5JiAmOTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTn/wAARCAAoACsDASEAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwDb8afFm40nVLnTdK0xXktnMbz3OdpYcHCjHHvmuEvfin4vuWO3UUt1/uwwIB+ZBP60AUW+IHi1uuuXX4YH9Kmt/iP4xgxs1mZv9+JH/mtAG1p/xb8WwsPOitbxe++AqfzUivXPDfiqLWNEtb+a2e2lmB3RA7gpDEdfwoA5bxb4e0OXxdI2oyXVpFc2wmEkClg0gYhsjacDG3061T/4Qrwi4yvimND6SSxgj6g4NADD4H8Ljn/hLbYD/rpF/wDFUqeDvB0f+u8VRuPSOaMH+tAFuDwz4OXBt4tX1U/3Ykcg/wDAgqgfnXZ+DbdI/C2mr5CIDCGAAHIPIJ9yDk+5NAFLxhLcWmp6LdWjxxzb5YdzoWXDJnBAI/uetV21nVCQ0unaZcOBgsXZM/mrfzoAcNZvuo0XTUb1+0E/+0xR/bGrf8s7fTYG9drv/wDE0AUNQvtb+yzyzayyIiMxW3gROgz1O4j867LR4jBpFjCRgx28a4+igUAY3jwBNOsrpiFS2vY3dicBVIZM/wDjwrLimimG6KRJB6qwNAElNZ1QZZlUe5xQBmareWs1nLax3EbyzARBEbcfmO3t9a9KAwMDpQBQ13Tl1bSLuwYhTNGVVj/C3VT+BANctBoekQuTqXhi5+0n780Y85HPqNh4/wC+RQBN/ZXhKbOdIvcjt9kuh/Sqs3hnwxJ/x7eG9SlfttEsX6yMooA0tI8P3aXcbTu8GnQsskdm0iyMZBnDMwAwB1xk8gHNdVQB/9k="},function(e,t){e.exports="data:image/jpeg;base64,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"},,,,,function(e,t,i){e.exports=i.p+"static/media/shelves_bw.6ca742b4.jpg"},,,,function(e,t,i){e.exports=i(41)},,,,,,,,function(e,t,i){i(35),i(36),i(37),i(38),i(39),i(40)},,,function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){"use strict";i.r(t);var a=i(0),r=i.n(a),n=i(21),o=i.n(n),s=i(2),l=i(3),c=i(6),u=i(5),A=i(4),d=i(10),m=i.n(d),p={complex:"The Supplier creates and delivers human traits to the Shop Before Life",favours:"Earn Favours from Management and spend them to improve your business",production:"Make traits by your own hand, and with your own tools.",employees:"You can hire people to help make traits, perform deliveries, and build your factory.",upgrades:"Research technology to make your factory bigger, better and faster.",storage:"This is where you keep your traits. Try not to run out of space!",factory:"Your builders can build machines to industrialise your trait production, delivery and storage. Be careful\u2014the machines use electricity.",tabs:"You can now switch between your home & your factory.",machines:"Build machines to help you create and store traits. They might get out of control pretty fast...",buildqueue:"These are the machines you're planning to build.",factoryVisual:"It's a mess. A beautiful, beautiful mess. Hover over any part for more detailed information.",workers:"Your workers can either make traits by hand, or use your fancy new machines.",power:"All this machinery requires power!",builders:"Factories don't just build themselves.",about:"This is a quick, messy project I threw together in a few days, just for fun. (And I wanted to play a bit more in the world of the prelife.) If you like it, or have any comments, or just want to say hi, get in touch via complex@walkingoncustard.com :) Thanks for playing!",prodBuildings:"Your workers can either make traits manually or via machine. Click on them to reassign from one to the other.",wastedProduction:"Full storage.",wastedDeliveries:"Empty storage.",flexibleMachinery:"Your machines can be repurposed to provide more production or delivery capacity."},h=function(e){return r.a.createElement("span",{className:"helpText is-hidden-mobile "+e.helpKey+" tooltip is-tooltip-primary is-tooltip-multiline is-tooltip-"+(e.direction?e.direction:"top")+" is-tooltip-multiline "+(e.additionalClassName||""),"data-tooltip":p[e.helpKey]?p[e.helpKey]:"Missing key: "+e.helpKey},r.a.createElement("i",{className:"fas fa-question-circle"}))},g=function(e){return r.a.createElement("i",{className:"fas fa-"+e.icon,style:e.style})},y=function(e){return r.a.createElement("button",{className:"button is-small is-rounded massDelivery is-success tooltip is-tooltip-bottom",onClick:e.onPerformMassDelivery,"data-tooltip":"Lucky! Everyone wants to help with your deliveries."},"DELIVER LOTS")},E=function(e){var t=Math.floor(Math.log10(e.amount)),i="",a=e.amount,n="",o="";if(t<3)n=Number.isInteger(a)?Math.floor(a).toLocaleString():Number(a).toFixed(2).toLocaleString();else if(t<6)n=Math.floor(a).toLocaleString();else switch(t){case 6:i=" million",o=a.toString().substring(1,3),n=0!==parseInt(o)?a.toString().substring(0,1)+"."+o:a.toString().substring(0,1);break;case 7:i=" million",o=a.toString().substring(2,4),n=0!==parseInt(o)?a.toString().substring(0,2)+"."+o:a.toString().substring(0,2);break;case 8:i=" million",o=a.toString().substring(3,5),n=0!==parseInt(o)?a.toString().substring(0,3)+"."+o:a.toString().substring(0,3);break;case 9:i=" billion",o=a.toString().substring(1,3),n=0!==parseInt(o)?a.toString().substring(0,1)+"."+o:a.toString().substring(0,1);break;case 10:i=" billion",o=a.toString().substring(2,4),n=0!==parseInt(o)?a.toString().substring(0,2)+"."+o:a.toString().substring(0,2);break;case 11:i=" billion",o=a.toString().substring(3,5),n=0!==parseInt(o)?a.toString().substring(0,3)+"."+o:a.toString().substring(0,3);break;case 12:i=" trillion",o=a.toString().substring(1,3),n=0!==parseInt(o)?a.toString().substring(0,1)+"."+o:a.toString().substring(0,1);break;case 13:i=" trillion",o=a.toString().substring(2,4),n=0!==parseInt(o)?a.toString().substring(0,2)+"."+o:a.toString().substring(0,2);break;case 14:i=" trillion",o=a.toString().substring(3,5),n=0!==parseInt(o)?a.toString().substring(0,3)+"."+o:a.toString().substring(0,3);break;case 15:i=" quadrillion",o=a.toString().substring(1,3),n=0!==parseInt(o)?a.toString().substring(0,1)+"."+o:a.toString().substring(0,1);break;case 16:i=" quadrillion",o=a.toString().substring(2,4),n=0!==parseInt(o)?a.toString().substring(0,2)+"."+o:a.toString().substring(0,2);break;case 17:i=" quadrillion",o=a.toString().substring(3,5),n=0!==parseInt(o)?a.toString().substring(0,3)+"."+o:a.toString().substring(0,3);break;case 18:i=" quintillion",o=a.toString().substring(1,3),n=0!==parseInt(o)?a.toString().substring(0,1)+"."+o:a.toString().substring(0,1);break;case 19:i=" quintillion",o=a.toString().substring(2,4),n=0!==parseInt(o)?a.toString().substring(0,2)+"."+o:a.toString().substring(0,2);break;case 20:i=" quintillion",o=a.toString().substring(3,5),n=0!==parseInt(o)?a.toString().substring(0,3)+"."+o:a.toString().substring(0,3);break;case 21:i=" sextillion",o=a.toString().substring(1,3),n=0!==parseInt(o)?a.toString().substring(0,1)+"."+o:a.toString().substring(0,1);break;case 22:i=" sextillion",o=a.toString().substring(2,4),n=0!==parseInt(o)?a.toString().substring(0,2)+"."+o:a.toString().substring(0,2);break;case 23:i=" sextillion",o=a.toString().substring(3,5),n=0!==parseInt(o)?a.toString().substring(0,3)+"."+o:a.toString().substring(0,3);break;case 24:i=" septillion",o=a.toString().substring(1,3),n=0!==parseInt(o)?a.toString().substring(0,1)+"."+o:a.toString().substring(0,1);break;case 25:i=" septillion",o=a.toString().substring(2,4),n=0!==parseInt(o)?a.toString().substring(0,2)+"."+o:a.toString().substring(0,2);break;case 26:i=" septillion",o=a.toString().substring(3,5),n=0!==parseInt(o)?a.toString().substring(0,3)+"."+o:a.toString().substring(0,3);break;case 27:i=" octillion",o=a.toString().substring(1,3),n=0!==parseInt(o)?a.toString().substring(0,1)+"."+o:a.toString().substring(0,1);break;case 28:i=" octillion",o=a.toString().substring(2,4),n=0!==parseInt(o)?a.toString().substring(0,2)+"."+o:a.toString().substring(0,2);break;case 29:i=" octillion",o=a.toString().substring(3,5),n=0!==parseInt(o)?a.toString().substring(0,3)+"."+o:a.toString().substring(0,3);break;default:i=" gajillion",n=a}var s=e.direction||"bottom";return r.a.createElement("span",{className:"is-size-7-mobile "+(e.amount>999999?"tooltip is-tooltip-"+s:""),"data-tooltip":e.amount+(e.name?" "+e.name:"")},(e.prefix||"")+n+i," ",e.icon&&r.a.createElement(g,{icon:e.icon}))},b=function(e){Object(u.a)(i,e);var t=Object(A.a)(i);function i(e){var a;return Object(s.a)(this,i),(a=t.call(this,e)).state={burgerActive:!1},a.toggleBurger=a.toggleBurger.bind(Object(c.a)(a)),a.onLinkClicked=a.onLinkClicked.bind(Object(c.a)(a)),a}return Object(l.a)(i,[{key:"toggleBurger",value:function(){var e=!this.state.burgerActive;this.setState({burgerActive:e})}},{key:"onLinkClicked",value:function(){this.setState({burgerActive:!1})}},{key:"render",value:function(){var e=this.props,t=e.showMassDeliveryBtn,i=e.favours,a=e.canMakeTraits,n=e.onMakeTraitsClicked,o=e.totalDelivered,s=e.producingPerS,l=e.deliveringPerS,c=e.upgradesAvailable,u=e.totalStorageSize,A=e.bottleNeckedPerSecond;return r.a.createElement("div",null,r.a.createElement("nav",{id:"complexNav",className:"navbar is-dark is-bold is-fixed-top",role:"navigation","aria-label":"main navigation"},r.a.createElement("div",{className:"navbar-brand"},r.a.createElement("a",{href:"https://enhughesiasm.com",className:"navbar-item",activeclassname:"active",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("div",{onClick:this.onNavLinkClicked,className:"tooltip is-tooltip-right is-tooltip-info","data-tooltip":"return to enhughesiasm.com"},r.a.createElement("h1",{className:"is-size-1 has-text-weight-bold",style:{fontFamily:'"Jost*", "Helvetica Neue", Helvetica, Arial, sans-serif'}},"e"))),r.a.createElement("div",{className:"navbar-item is-hidden-desktop"},r.a.createElement("button",{className:"button is-rounded is-small is-success",disabled:!a,onClick:n},"Make Traits")),this.props.totalDelivered>0&&r.a.createElement("div",{className:"navbar-item favours is-hidden-desktop",activeclassname:"active"},r.a.createElement("span",{className:"is-size-7 favourText is-info has-text-weight-bold",style:{marginRight:"1.5rem"}},r.a.createElement(E,{icon:"thumbs-up",name:"Favours",amount:this.props.favours||0})),r.a.createElement(h,{helpKey:"favours",direction:"bottom"})),r.a.createElement("div",{className:"navbar-item is-hidden-desktop has-text-centered massDeliveryItem"},this.props.showMassDeliveryBtn&&r.a.createElement(y,{onPerformMassDelivery:this.props.onPerformMassDelivery}))),r.a.createElement("div",{className:"navbar-menu "+(this.state.burgerActive?"is-active":"")},r.a.createElement("div",{className:"navbar-start",style:{}},r.a.createElement("h2",null,"The Supplier's Complex"),r.a.createElement("div",{className:"navbar-item traitStats is-hidden-mobile is-size-7"},o>10&&r.a.createElement("button",{className:"button is-small is-rounded is-"+(this.props.statsActive?"danger":"light"),"data-show":"quickview","data-target":"statsView",onClick:this.props.onToggleStatsActive},"Statistics")),r.a.createElement("div",{className:"navbar-item upgradesAvailable is-hidden-mobile is-size-7",style:{overflowWrap:"break-word",maxWidth:"10rem"}},o>10&&c.length>0&&r.a.createElement("span",{style:{padding:"0rem 0.5rem 0rem 0.5rem"},className:"notification is-"+(c.length>1?c.length>2?"success":"warning":"light")},"Upgrades Available:"," ",c.length," "))),r.a.createElement("div",{className:"navbar-end is-hidden-mobile"},o>0&&r.a.createElement("div",{className:"navbar-item successfulDeliveries tooltip is-tooltip-bottom is-tooltip-multiline ","data-tooltip":"Producing: "+s+"/s - Storing: "+u+" - Delivering: "+l+"/s",activeclassname:"active"},r.a.createElement("span",{className:"is-size-7 sdText has-text-weight-bold"},r.a.createElement("img",{alt:"a jar",src:m.a,style:{width:"25px",marginRight:".3rem"}}),r.a.createElement(E,{name:"Favours",amount:A})," ","/s")),o>0&&r.a.createElement("div",{className:"navbar-item favours is-hidden-mobile",activeclassname:"active"},r.a.createElement("span",{className:"is-size-7 favourText is-info has-text-weight-bold",style:{marginRight:"1.5rem"}},r.a.createElement(E,{name:"Favours",amount:i||0,icon:"thumbs-up"})),r.a.createElement(h,{helpKey:"favours",direction:"bottom"})),r.a.createElement("div",{className:"navbar-item is-hidden-mobile has-text-centered massDeliveryItem"},t&&r.a.createElement(y,{onPerformMassDelivery:this.props.onPerformMassDelivery}),!t&&r.a.createElement("div",{className:"hasTextCentered",style:{width:"100%"}},r.a.createElement(g,{icon:"globe-europe"}))),r.a.createElement("div",{className:"navbar-item is-hidden-mobile-only"},r.a.createElement("button",{className:"button is-rounded is-size-6 is-success",disabled:!this.props.canMakeTraits,onClick:this.props.onMakeTraitsClicked},"Make Traits"))))))}}]),i}(r.a.Component),f=i(11),k=i.n(f),v=i(22),S=i.n(v),T=function(e){Object(u.a)(i,e);var t=Object(A.a)(i);function i(e){var a;return Object(s.a)(this,i),(a=t.call(this,e)).state={tickLengthMs:10,backgroundX:-210,backgroundY:-450,YMoveRate:.09,maxY:-100,minY:-650,YDirection:"down",shopOpacity:0,shelfOpacity:1,saveData:localStorage.getItem("thesupplierscomplex_save")},a.tick=a.tick.bind(Object(c.a)(a)),a}return Object(l.a)(i,[{key:"componentDidMount",value:function(){var e=this;this.timerID=setInterval((function(){return e.tick()}),this.state.tickLengthMs)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerID)}},{key:"tick",value:function(){var e=this.state.backgroundX+0,t=this.state.YDirection,i="down"===t?-1*this.state.YMoveRate:this.state.YMoveRate,a=this.state.backgroundY+i;a>=this.state.maxY?t="down":a<=this.state.minY&&(t="up"),this.setState({backgroundX:e,backgroundY:a,YDirection:t})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{id:"complexFirstLoad",className:"modal is-active"},r.a.createElement("div",{className:"modal-background has-text-centered",style:{backgroundImage:"url("+S.a+")"},onClick:null},r.a.createElement("h1",{className:"title is-size-5-mobile",style:{marginTop:"0.5rem",marginBottom:"0"}},"The Supplier's Complex"),r.a.createElement("p",{className:"is-size-5 is-size-6-mobile",style:{marginTop:".2rem"}},"Based on"," ",r.a.createElement("a",{href:"https://enhughesiasm.com/sbl",target:"_blank",rel:"noopener noreferrer"},"The Shop Before Life"),", by Neil Hughes")),r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{id:"firstLoadModal",className:"notification is-primary has-text-centered is-paddingless",style:{fontFamily:"Jost*"}},r.a.createElement("div",{id:"background",style:{backgroundImage:"url("+k.a+")",padding:"1rem 2rem",backgroundPosition:this.state.backgroundX+"px "+this.state.backgroundY+"px"}},r.a.createElement("p",{className:"is-size-5 is-size-6-mobile has-text-weight-bold"},"Welcome to the prelife."),r.a.createElement("br",null),r.a.createElement("p",{className:"is-size-5 is-size-6-mobile"},r.a.createElement("strong",null,"The Shop Before Life")," is the magical place where all humans choose who to become once they're born on Earth. And Management have asked you to be the Supplier."),r.a.createElement("br",null),r.a.createElement("p",{className:"is-size-5 is-size-6-mobile"},"Your job is to make enough human traits to supply the Shop."),r.a.createElement("br",null),r.a.createElement("p",{className:"is-size-5 is-size-6-mobile"},"Use Favours from Management to grow your business from a tiny one-person enterprise to a"," ",r.a.createElement("strong",null,"colossal, chaotic valley-spanning megafactory"),"."),r.a.createElement("br",null),r.a.createElement("p",{className:"is-size-5 is-size-6-mobile"},"Good luck."),r.a.createElement("br",null),r.a.createElement("p",{className:"is-size-7 is-size-7-mobile is-italic"},"(Estimated game length: 1\u20142 hours)"),r.a.createElement("br",null),this.state.saveData&&r.a.createElement("div",{className:"buttons is-centered"},r.a.createElement("button",{className:"button is-medium is-rounded is-success",onClick:function(){return e.props.onFirstLoadModalClosed(JSON.parse(e.state.saveData))},style:{fontFamily:"Jost*"}},"Continue"),r.a.createElement("button",{className:"button is-medium is-rounded is-success",onClick:function(){return e.props.onFirstLoadModalClosed(null)},style:{fontFamily:"Jost*"}},"New Game")),!this.state.saveData&&r.a.createElement("button",{className:"button is-medium is-rounded is-success",onClick:function(){return e.props.onFirstLoadModalClosed(null)},style:{fontFamily:"Jost*"}},"I'm ready")))))}}]),i}(r.a.Component),M=i(1),w=i.n(M),R=i(18);function B(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var i=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?i:3&i|8).toString(16)}))}function C(e,t,i,a){window.gtag&&window.gtag("event",e,{event_category:t,event_label:i||"",value:a||0})}var N=function(e){Object(u.a)(i,e);var t=Object(A.a)(i);function i(e){var a;return Object(s.a)(this,i),(a=t.call(this,e)).state={tickLengthMs:10,backgroundX:-350,backgroundY:-500,YMoveRate:0,maxY:-100,minY:-1e3,YDirection:"down"},a.tick=a.tick.bind(Object(c.a)(a)),a}return Object(l.a)(i,[{key:"componentDidMount",value:function(){var e,t=this;this.timerID=setInterval((function(){return t.tick()}),this.state.tickLengthMs),C("win","complex","time_seconds",Math.floor(Number.parseFloat(null===(e=this.props.gameWinTime)||void 0===e?void 0:e.asSeconds())))}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerID)}},{key:"tick",value:function(){var e=this.state.backgroundX+0,t=this.state.YDirection,i="down"===t?-1*this.state.YMoveRate:this.state.YMoveRate,a=this.state.backgroundY+i;a>=this.state.maxY?t="down":a<=this.state.minY&&(t="up"),this.setState({backgroundX:e,backgroundY:a,YDirection:t})}},{key:"render",value:function(){var e=this.props.gameWinTime,t=w.a.duration(0);return e&&(t=w.a.duration(.006*e.asSeconds()*e.asMinutes()/1.8,"years")),r.a.createElement("div",{className:"modal is-active"},r.a.createElement("div",{className:"modal-background",style:{backgroundImage:"url("+k.a+")",backgroundRepeat:"no-repeat",backgroundPositionY:"-700px",backgroundSize:"cover"}}),r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{id:"winScreenModal",style:{background:"linear-gradient(#777, #8D516A) "},className:"notification is-primary has-text-centered"},r.a.createElement("button",{className:"delete",onClick:this.props.onWinScreenClosed},"x"),r.a.createElement("h1",{className:"is-size-5 is-size-6-mobile has-text-weight-bold"},"So, this is Earth..."),r.a.createElement("br",null),r.a.createElement("p",{className:"is-size-5 is-size-6-mobile"},"It took you roughly ",e.humanize(),"\u2014",r.a.createElement("strong",null,w.a.utc(null===e||void 0===e?void 0:e.asMilliseconds()).format("HH:mm:ss"))," ",'exactly\u2014of Earth time to gather the courage to leave the Complex behind and see what "life" is all about.'),r.a.createElement("br",null),r.a.createElement("p",{className:"is-size-6 is-size-7-mobile"},"(In the process, you spent ",t.humanize()," in the prelife.)"),r.a.createElement("br",null),r.a.createElement("p",{className:"is-size-6  is-size-7-mobile"},"You left behind quite a mess of construction, but at least the Shop is always going to be well-supplied with traits."),r.a.createElement("br",null),r.a.createElement("p",{className:"is-size-6  is-size-7-mobile"},"Maybe you'll miss the factory you spent so long building... but after all these centuries, a new adventure beckons."),r.a.createElement("hr",null),r.a.createElement("p",{className:"is-size-6 is-size-7-mobile"},"Thanks for playing! I hope you had fun."),r.a.createElement("br",null),r.a.createElement("p",{className:"is-size-6 is-size-7-mobile"},"If you'd like to say hi, please do:"," ",r.a.createElement("strong",null,"complex@walkingoncustard.com")),r.a.createElement("br",null),r.a.createElement("p",null,r.a.createElement("a",{href:"https://enhughesiasm.com/sbl",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("button",{className:"button is-size-6-mobile is-medium is-success"},"You can explore the prelife further in 'The Shop Before Life'"))),r.a.createElement("p",null,r.a.createElement("button",{className:"button is-medium  is-size-6-mobile is-info",onClick:this.props.onWinScreenClosed},"Or return to the Factory")))))}}]),i}(r.a.Component),I=i(7),O=["Adventurous","Helpful","Affable","Humble","Capable","Imaginative","Charming","Impartial","Confident","Independent","Conscientious","Keen","Cultured","Meticulous","Dependable","Observant","Discreet","Optimistic","Dutiful","Persistent","Encouraging","Precise","Exuberant","Reliable","Fair","Sociable","Fearless","Trusting","Gregarious","Valiant","Accessible","Attractive","Intriguing","Loves Cats","Mathematically Skilled","Good with words","Computer Savvy","ecstatic","colossal","intimidating","phenomenal","adores biscuits","addicted to cheese","Active","Adaptable","Admirable","Adventurous","Agreeable","Hopeful","Optimistic","Alert","Legendary","Meaty","Cosmic","People-centric","Amiable","Anticipative","Appreciative","Articulate","Aspiring","Athletic","Attractive","Balanced","Benevolent","Brilliant","Calm","Capable","Captivating","Caring","Challenging","Charismatic","Charming","Cheerful","Clean","Clear-headed","Clever","Colourful","Compassionate","Conciliatory","Confident","Conscientious","Considerate","Constant","Contemplative","Cooperative","Courageous","Courteous","Creative","Cultured","Curious","Daring","Debonair","Decent","Decisive","Dedicated","Deep","Dignified","Directed","Disciplined","Discreet","Dramatic","Dutiful","Dynamic","Earnest","Ebullient","Educated","Efficient","Elegant","Eloquent","Empathetic","Energetic","Enthusiastic","Fair","Exciting","Extraordinary","Far-sighted","Faithful","Lucky","Firm","Flexible","Focussed","Forceful","Forgiving","Forthright","Freethinking","Friendly","Fun-loving","Gallant","Generous","Gentle","Genuine","Good-natured","Gracious","Hardworking","Healthy","Hearty","Helpful","Heroic","High-minded","Honest","Honorable","Humble","Humorous","Idealistic","Imaginative","Impressive","Incisive","Incorruptible","Independent","Individualistic","Innovative","Inoffensive","Insightful","Insouciant","Intelligent","Intuitive","Invulnerable","Kind","Filled with Knowledge","Leaderly","Leisurely","Liberal","Logical","Lovable","Loyal","Lyrical","Magnanimous","Many-sided","Mature","Methodical","Meticulous","Moderate","Modest","Multi-leveled","Neat","Anti-authoritarian","Objective","Observant","Open","Optimistic","Orderly","Organised","Original","Painstaking","Passionate","Patient","Patriotic","Peaceful","Perceptive","Perfectionist","Personable","Persuasive","Planful","Playful","Polished","Popular","Practical","Precise","Principled","Profound","Protean","Protective","Providential","Prudent","Punctual","Purposeful","Rational","Realistic","Reflective","Relaxed","Reliable","Resourceful","Respectful","Responsible","Responsive","Reverential","Romantic","Rustic","Sage","Scholarly","Scrupulous","Secure","Selfless","Self-critical","Self-defacing","Self-denying","Self-reliant","Self-sufficent","Sensitive","Sentimental","Seraphic","Serious","Sexy","Shrewd","Simple","Skillful","Sober","Sociable","Solid","Sophisticated","Spontaneous","Sporting","Stable","Steadfast","Steady","Stoic","Strong","Studious","Suave","Subtle","Sweet","Sympathetic","Systematic","Tasteful","Teacherly","Thorough","Tidy","Tolerant","Tractable","Trusting","Uncomplaining","Understanding","Undogmatic","Late","Upright","Urbane","Venturesome","Vivacious","Warm","Well-bred","Well-read","Well-rounded","Winning","Wise","Witty","Youthful","Absentminded","Aggressive","Ambitious","Amusing","Artful","Ascetic","Authoritarian","Big-thinking","Breezy","Businesslike","Busy","Casual","Cerebral","Chummy","Circumspect","Competitive","Complex","Confidential","Conservative","Contradictory","Crisp","Cute","Deceptive","Determined","Dominating","Dreamy","Driving","Droll","Dry","Earthy","Emotional","Enigmatic","Experimental","Familial","Folksy","Formal","Freewheeling","Frugal","Glamorous","Guileless","High-spirited","Hurried","Hypnotic","Iconoclastic","Idiosyncratic","Impassive","Impersonal","Impressionable","Intense","Invisible","Irreligious","Irreverent","Maternal","Mellow","Modern","Moralistic","Mystical","Neutral","Noncommittal","Noncompetitive","Obedient","Old-fashioned","Ordinary","Outspoken","Paternalistic","Physical","Placid","Political","Predictable","Preoccupied","Private","Progressive","Proud","Pure","Questioning","Quiet","Religious","Reserved","Restrained","Retiring","Sarcastic","Self-conscious","Sensual","Skeptical","Smooth","Soft","Solemn","Solitary","Stern","Stolid","Strict","Stubborn","Stylish","Subjective","Surprising","Soft","Tough","Unaggressive","Unambitious","Unceremonious","Unchanging","Undemanding","Unfathomable","Unhurried","Uninhibited","Unpatriotic","Unpredictable","Unsentimental","Whimsical"],D=["Abrasive","Abrupt","Aimless","Airy","Aloof","Amoral","Angry","Anxious","Apathetic","Arbitrary","Argumentative","Arrogant","Artificial","Asocial","Assertive","Astigmatic","Barbaric","Bewildered","Bizarre","Bland","Blunt","Boisterous","Brittle","Brutal","Calculating","Callous","Cantankerous","Careless","Cautious","Charmless","Childish","Clumsy","Coarse","Cold","Colourless","Complacent","Compulsive","Conceited","Condemnatory","Conformist","Confused","Contemptible","Conventional","Cowardly","Crafty","Crass","Crazy","Criminal","Critical","Crude","Cruel","Cynical","Decadent","Deceitful","Delicate","Demanding","Dependent","Desperate","Destructive","Devious","Difficult","Dirty","Disconcerting","Discontented","Discouraging","Discourteous","Dishonest","Disloyal","Disobedient","Disorderly","Disorganised","Disrespectful","Disruptive","Distractible","Disturbing","Dogmatic","Domineering","Dull","Discouraged","Egocentric","Envious","Erratic","Escapist","Excitable","Extravagant","Extreme","Faithless","False","Fanatical","Fanciful","Fatalistic","Fawning","Fearful","Fickle","Fiery","Fixed","Flamboyant","Foolish","Forgetful","Fraudulent","Frightening","Frivolous","Gloomy","Graceless","Grand","Greedy","Grim","Gullible","Hateful","Haughty","Hedonistic","Hesitant","High-handed","Hostile","Ignorant","Imitative","Impatient","Impractical","Impudent","Impulsive","Inconsiderate","Incurious","Indecisive","Indulgent","Inert","Inhibited","Insecure","Insensitive","Insincere","Insulting","Intolerant","Irascible","Irrational","Irresponsible","Irritable","Lazy","Libidinous","Loquacious","Malicious","Mannered","Mannerless","Mawkish","Mealy-mouthed","Mechanical","Meddlesome","Melancholic","Messy","Miserable","Miserly","Misguided","Mistaken","Monstrous","Moody","Morbid","Muddle-headed","Naive","Narcissistic","Narrow","Narrow-minded","Negative","Neglectful","Neurotic","Nihilistic","Obnoxious","Obsessive","Obvious","Odd","Offhanded","One-dimensional","One-sided","Opinionated","Opportunistic","Oppressed","Outrageous","Overimaginative","Paranoid","Passive","Pedantic","Perverse","Petty","Phlegmatic","Plodding","Pompous","Possessive","Power-hungry","Predatory","Prejudiced","Presumptuous","Pretentious","Prim","Procrastinating","Provocative","Puritanical","Quirky","Reactionary","Reactive","Regimental","Regretful","Repentant","Repressed","Resentful","Ridiculous","Rigid","Ritualistic","Rowdy","Ruined","Sadistic","Sanctimonious","Scheming","Scornful","Secretive","Sedentary","Selfish","Self-indulgent","Shallow","Shortsighted","Shy","Silly","Single-minded","Sloppy","Slow","Sly","Small-thinking","Softheaded","Sordid","Steely","Stiff","Strong-willed","Stupid","Submissive","Superficial","Superstitious","Suspicious","Tactless","Tasteless","Tense","Thievish","Thoughtless","Timid","Transparent","Treacherous","Trendy","Troublesome","Unappreciative","Uncaring","Uncharitable","Unconvincing","Uncooperative","Uncreative","Uncritical","Undisciplined","Unfriendly","Ungrateful","Hopeful","Unimaginative","Unimpressive","Unpolished","Unprincipled","Unrealistic","Unreflective","Unreliable","Unrestrained","Stable,","Scientific","Vacuous","Vague","Venomous","Vindictive","Vulnerable","Weak","Weak-willed","Well-meaning","Willful","Wishful","Zany","Happy-go-lucky"],P=["Likes ","Allergic to ","Addicted to ","Hates ","Prefers ","Quite likes ","Adores ","Resists ","Avoids ","Pleased by ","Repulsed by ","Despises ","Craves ","Fascinated by ","Intrigued by ","Curious about ","Studies ","Thinks of ","Dreams of ","Often Googles ","Fan of ","Admires ","Cherishes ","Loathes ","Shuns ","Yearns for ","Desires ","Longs for ","Hungers for ","Wants ","Seeks ","Neutral about ","Doesn't care for ","Indifferent to ","Talks about ","Obsessed with ","Interested in ","Believes in ","Hopes for ","Wishes for "],x=["cows","soap operas","reality tv","documentaries","jokes","bad jokes","comedy","depth perception","scuba diving","hair","parties","mountains","dancing","running","mints","buttons","shoes","clothes","makeup","gloves","magic","the environment","growth","kittens","bees","markets","learning","education","teaching","mathematics","chemistry","guitars","languages","painting","drawing","thinking","lighting","jungles","forests","deserts","beaches","pies","dessert","elephants","mice","badgers","parkour","aardvarks","pizza","hippos","food","shopping","the news","singing","songs","music","gymnastics","climbing","athletics","meditating","social media","sightseeing","travelling","writing","bathing","accountancy","the law","zoos","theme parks","museums","art galleries","hugging","shaking hands","talking","new people","speaking","performing","meetings","committees","coffee","hamsters","swimming","running","walking","stretching","sneezing","coughing","armadillos","lions","crocodiles","rams","chickens","contests","ants","insects","gerbils","moles","pirates","water parks","cartoons","diving","the olympics","skincare","showering","old movies","snakes","peace","conflict","bananas","cookies","noodles","cheesy music","tv quizzes","round things","straight lines","abstract art","abstract concepts","philosophy","long books","easy things","challenges","dares","truth or dare","daydreaming","telling stories","composing music","building","engineering","truthfulness","clowns","airports","train stations","caves","furniture","camping","rabbits","vegetables","fruit","apples","work","leisure","carpentry","pasta","cheese","burgers","animals","dogs","cats","ducks","frogs","birds","maps","meat","music","people","history","geography","science","biology","clouds","water","oceans","tomatoes","potatoes","teapots","dry food","hot food","cold food","sushi","television","boats","trains","friendship","houses","cities","the countryside","pubs","competition","acknowledgement","recognition","salad","property","restaurants","tea","snacks","gardens","cars","horses","goats","tricyles","birds","knowledge","power","computers","art","libraries","parks","movies","relationships","fish","politics","eggs","lettuce","sheep","trees","plants","seeds","flowers","football","sports","rugby","cricket","basketball","love","books","games","cider","grapes"],U=["Intrinsically ","Masterfully ","Expertly ","Adeptly ","Keenly ","Enthusiastically ","Uniquely ","Exceedingly ","Notably ","Outstandingly ","Surprisingly ","Very ","Extremely ","Rather ","Partly ","Sort of ","Hardly ","A bit ","A little ","Really ","Truly ","Somewhat ","Just ","Merely ","A touch of ","Always ","Remarkably ","Amazingly ","Exceptionally ","Unusually ","Incredibly ","Particularly ","Terribly ","Totally ","Utterly ","Completely ","Absolutely ","Quite ","Fantastically ","Intriguingly ","Dangerously ","Dreadfully ","Seriously ","Highly ","Bitterly ","Cautiously ","Actually ","Deeply ","Absolutely ","Slightly ","Marginally ","Worryingly ","Concerningly ","Inspirationally "];function F(e){return Math.random()<e?U[Math.floor(Math.random()*U.length)]:""}function L(){var e=Math.random();return e<.6?F(.75)+O[Math.floor(Math.random()*O.length)]:e<.85?F(.25)+P[Math.floor(Math.random()*P.length)]+x[Math.floor(Math.random()*x.length)]:F(.75)+D[Math.floor(Math.random()*D.length)]}var Q={PRODUCTION_EFFICIENCY:"prodefficiency",DELIVERY_GENIUS:"deliverygenius",LABOUR_TRAINING:"Labour Training",ADVANCED_CRAFTING:"Advanced Crafting Lessons",ARTISANS:"Artisanal Traitmaking Seminars",BUILD_ROAD:"build road",STACKABLE_CRATES:"stackable crates",INVENT_CRANES:"invent cranes",HIGH_SPEED_TRAINS:"HIGH_SPEED_TRAINS",HORSES:"horses",WAGONS:"Wagons & Wheels",HUMUNGOUS_WAGONS:"Humungous Wagons",TRAINS:"Invent Trains",CONSTRUCTION_101:"Construction 101",CONSTRUCTION_INT:"Intermediate Construction",CONSTRUCTION_ADV:"Advanced Construction Techniques",BOX_1:"A Box",BOX_2:"A Second Box",BOX_3:"A Third Box",BOX_4:"A Fourth Box",BOX_BIGGER:"Bigger Boxes",BOX_CRATES:"Crates",SHED:"A Shed",STANDARDISED_JARS:"Standardised Jars",VERTICAL_STACKING:"Vertical Stacking",MORE_LAND:"More land",CONTAINERISATION:"Containerisation",AUTOMATED_PIPE_NETWORK:"AUTOMATED_PIPE_NETWORK",WORKBENCH:"A Workbench",TOOLS:"Some Tools",GLASSBLOWING:"Actual glassblowing equipment",LABELS:"Label Applicators",LABEL_ROLLS:"Industrial Label Rolls",TRAIT_SYNTHESIS:"Better Trait Synthesis",TURBO_PRODUCTION:"Turbo Production",INVENT_MACHINERY:"INVENT_MACHINERY",TALES_OF_THE_PRELIFE:"TALES_OF_THE_PRELIFE",WONDER_ABOUT_LIFE:"WONDER_ABOUT_LIFE",WORK_SATISFACTION:"WORK_SATISFACTION",VISIT_THE_SHOP:"VISIT_THE_SHOP",LEAVE_FOR_EARTH:"LEAVE_FOR_EARTH",BETTER_MACHINERY:"Better Machinery",EVEN_BETTER_MACHINERY:"Even Better Machinery",MORE_EFFICIENT_MACHINERY:"More efficient machinery",CHEAPER_MATERIALS:"Cheaper Materials",SMARTER_CONSTRUCTION_METHODS:"Smarter Construction Methods",EVEN_BETTERER_MACHINERY:"Even Betterer Machinery",EVEN_BETTERERER_MACHINERY:"Even Bettererer Machinery",UNIMAGINABLE_MACHINERY:"Unimaginable Machinery",SELF_REPLICATING_MACHINES:"SELF_REPLICATING_MACHINES",FLEXIBLE_MACHINERY:"FLEXIBLE_MACHINERY"},W=[{key:Q.WORKBENCH,name:"A Workbench",description:"It'd be nice not to work on the floor anymore.",explanation:'"Make Traits" becomes a little faster.',icon:"shapes",cost:2,unlocked:!0,unlockedAtTraitsDelivered:1,apply:function(e){e.makeRateMultiplier+=.5,e.getUpgradeByKey(Q.TOOLS).unlocked=!0}},{key:Q.TOOLS,name:"Some Tools",description:"Creating glass with your bare hands is getting painful.",explanation:'"Make Traits" becomes a little faster.',icon:"tools",cost:3,unlocked:!1,unlockedAtTraitsDelivered:3,apply:function(e){e.makeRateMultiplier+=.25,e.getUpgradeByKey(Q.GLASSBLOWING).unlocked=!0}},{key:Q.GLASSBLOWING,name:"Actual glassblowing equipment",description:"This is how the pros do it.",explanation:'"Make Traits" becomes a little faster.',icon:"wine-glass",cost:5,unlocked:!1,unlockedAtTraitsDelivered:20,apply:function(e){e.makeRateBase*=1.5,e.getUpgradeByKey(Q.LABELS).unlocked=!0}},{key:Q.LABELS,name:"Label Applicators",description:"You're starting to hate picking the corners of these horrible sticky labels.",explanation:'"Make Traits" becomes a little faster.',icon:"tags",cost:10,unlocked:!1,unlockedAtTraitsDelivered:35,apply:function(e){e.makeRateBase*=1.5,e.getUpgradeByKey(Q.TRAIT_SYNTHESIS).unlocked=!0}},{key:Q.TRAIT_SYNTHESIS,name:"Better Trait Synthesis",description:"Create twice as many traits at once with your own hands.",explanation:'Doubles the output of "Make Traits".',icon:"brain",cost:10,unlocked:!1,unlockedAtTraitsDelivered:35,apply:function(e){e.madePerClick*=2,e.getUpgradeByKey(Q.LABEL_ROLLS).unlocked=!0}},{key:Q.LABEL_ROLLS,name:"Industrial Label Rolls",description:"Less fiddly, so you can produce traits faster by hand.",explanation:'"Make Traits" is now 25% faster.',icon:"toilet-paper",cost:10,unlocked:!1,unlockedAtTraitsDelivered:50,apply:function(e){e.makeRateMultiplier+=.75,e.getUpgradeByKey(Q.TURBO_PRODUCTION).unlocked=!0}},{key:Q.TURBO_PRODUCTION,name:"Turbo Production",description:"Discover how to produce many traits by hand at once. It's basically magic.",explanation:'Your "Make Traits" button now produces 10x as many traits at once.',icon:"toilet-paper",cost:30,unlocked:!1,unlockedAtTraitsDelivered:180,apply:function(e){e.madePerClick*=10}}],H={PRODUCTION:"production",DELIVERY:"delivery",BUILDER:"builder"},z=[{key:Q.LABOUR_TRAINING,name:"Labour Training",description:"Teach your assistants to work faster.",explanation:"Increases the productivity of your trait-making employees.",icon:"chalkboard-teacher",cost:3875,unlocked:!0,unlockedAtTraitsDelivered:6e3,apply:function(e){var t=e.getEmployeeByType(H.PRODUCTION);t.name="Labourers",t.description="Trait-makers with a little experience.",t.icon="running",e.employees[H.PRODUCTION].costMultiplier+=2,e.employees[H.PRODUCTION].workPerSecondMultiplier+=.5,e.getUpgradeByKey(Q.ADVANCED_CRAFTING).unlocked=!0}},{key:Q.ADVANCED_CRAFTING,name:"Advanced Crafting Lessons",description:"Train your workers to make more, better, faster!",explanation:"Increases the productivity of your trait-making employees.",icon:"chalkboard-teacher",cost:5e5,unlocked:!1,unlockedAtTraitsDelivered:25e5,apply:function(e){var t=e.getEmployeeByType(H.PRODUCTION);t.name="Crafters",t.description="Highly experienced crafters of traits.",t.icon="screwdriver",e.employees[H.PRODUCTION].costMultiplier+=10,e.employees[H.PRODUCTION].workPerSecondMultiplier+=.75,e.getUpgradeByKey(Q.ARTISANS).unlocked=!0}},{key:Q.ARTISANS,name:"Artisanal Traitmaking Seminars",description:"Your workers will become the most skilled crafters in all the prelife.",explanation:"Increases the productivity of your trait-making employees.",icon:"chalkboard-teacher",cost:45e6,unlocked:!1,unlockedAtTraitsDelivered:75e6,apply:function(e){var t=e.getEmployeeByType(H.PRODUCTION);t.name="Artisans",t.description="Artisanal makers of the finest traits.",t.icon="paint-brush",e.employees[H.PRODUCTION].costMultiplier+=100,e.employees[H.PRODUCTION].workPerSecondMultiplier+=1.25}},{key:Q.DELIVERY_GENIUS,name:"Delivery Genius",description:"Teach your volunteers to carry a trait in each hand.",explanation:"Doubles the delivery output of your delivery workers.",icon:"wave-square",cost:25,unlocked:!0,unlockedAtTraitsDelivered:165,apply:function(e){e.employees[H.DELIVERY].outputMultiplier*=2,e.getUpgradeByKey(Q.HORSES).unlocked=!0}},{key:Q.HORSES,name:"Discover Horses",description:"Your volunteers could use these weird long dogs to deliver faster.",explanation:"Increases the delivery output of your delivery workers.",icon:"horse",cost:120,unlocked:!1,unlockedAtTraitsDelivered:300,apply:function(e){var t=e.getEmployeeByType(H.DELIVERY);t.name="Horse Riders",t.description="A charming volunteer delivery service.",t.icon="horse",e.employees[H.DELIVERY].costMultiplier*=3,e.employees[H.DELIVERY].workPerSecondMultiplier*=1.5,e.employees[H.DELIVERY].outputMultiplier*=1.55,t.deliveryAnimationDuration=15,e.getUpgradeByKey(Q.WAGONS).unlocked=!0}},{key:Q.WAGONS,name:"Wagons & Wheels",description:"Something tells you these could be useful for your delivery people.",explanation:"Massively increases the output of your delivery workers.",icon:"dharmachakra",cost:3500,unlocked:!1,unlockedAtTraitsDelivered:6500,apply:function(e){var t=e.getEmployeeByType(H.DELIVERY);t.name="Wagon drivers",t.description="A marvellous fleet of trait-transporters.",t.icon="dharmachakra",e.employees[H.DELIVERY].costMultiplier*=10,e.employees[H.DELIVERY].outputMultiplier*=10,t.deliveryAnimationDuration=10,e.getUpgradeByKey(Q.HUMUNGOUS_WAGONS).unlocked=!0}},{key:Q.HUMUNGOUS_WAGONS,name:"Wagon Convoys",description:"Make many delivery wagons travel together, and feed that hungry Shop faster.",icon:"truck-loading",explanation:"Increases the delivery output of your delivery workers.",cost:125e4,unlocked:!1,unlockedAtTraitsDelivered:12e5,apply:function(e){var t=e.getEmployeeByType(H.DELIVERY);t.name="Wagon Convoys",t.description="A massive force of vehicles to transport your traits.",t.icon="truck-loading",e.employees[H.DELIVERY].costMultiplier*=5,e.employees[H.DELIVERY].outputMultiplier*=1.75,t.deliveryAnimationDuration=10,e.getUpgradeByKey(Q.TRAINS).unlocked=!0}},{key:Q.TRAINS,name:"Invent Trains",description:"Imagine a huge, fast machine barrelling straight to the Shop Before Life.",explanation:"Massively increases the delivery output of your delivery workers.",icon:"train",cost:255e5,unlocked:!1,unlockedAtTraitsDelivered:75e6,apply:function(e){var t=e.getEmployeeByType(H.DELIVERY);t.name="Trains",t.description="Choo-choo! The *most* fun way to deliver human personality traits.",t.icon="train",e.employees[H.DELIVERY].costMultiplier*=2,e.employees[H.DELIVERY].outputMultiplier*=20,t.deliveryAnimationDuration=5,e.getUpgradeByKey(Q.HIGH_SPEED_TRAINS).unlocked=!0}},{key:Q.CONSTRUCTION_101,name:"Construction 101",description:"Develop some expertise in machine construction.",icon:"chalkboard-teacher",explanation:"Doubles the speed of your machine builders.",cost:25e3,unlocked:!0,unlockedAtTraitsDelivered:55e3,apply:function(e){var t=e.getEmployeeByType(H.BUILDER);t.name="Novices",t.description="These people have built a machine or two. Just.",t.icon="hard-hat",e.employees[H.BUILDER].costMultiplier*=2,e.employees[H.BUILDER].workPerSecondMultiplier*=2,e.getUpgradeByKey(Q.CONSTRUCTION_INT).unlocked=!0}},{key:Q.CONSTRUCTION_INT,name:"Intermediate Construction",description:"Train your builders to work faster!",icon:"chalkboard-teacher",explanation:"Doubles the speed of your machine builders.",cost:45e4,unlocked:!1,unlockedAtTraitsDelivered:12e5,apply:function(e){var t=e.getEmployeeByType(H.BUILDER);t.name="Constructors",t.description="Highly experienced builders.",t.icon="hard-hat",e.employees[H.BUILDER].costMultiplier*=2,e.employees[H.BUILDER].workPerSecondMultiplier*=2,e.getUpgradeByKey(Q.CONSTRUCTION_ADV).unlocked=!0}},{key:Q.CONSTRUCTION_ADV,name:"Advanced Construction Techniques",description:"Train your builders to work faster still.",explanation:"More than doubles the speed of your machine builders.",icon:"chalkboard-teacher",cost:25e5,unlocked:!1,unlockedAtTraitsDelivered:9e7,apply:function(e){var t=e.getEmployeeByType(H.BUILDER);t.name="Manufacturers",t.description="The most elite builders in the known universe.",t.icon="hard-hat",e.employees[H.BUILDER].costMultiplier*=2,e.employees[H.BUILDER].workPerSecondMultiplier*=2.5}}],G=[{key:Q.BUILD_ROAD,name:"Build a Road",description:"Hills and forests would be easier to traverse if they were paved over...",explanation:"Halves the amount of time required to deliver traits.",icon:"road",cost:14,unlocked:!0,unlockedAtTraitsDelivered:55,apply:function(e){e.employees[H.DELIVERY].workRequiredMultiplier*=.5,e.tryGetUpgradeByName("Stackable Crates").unlocked=!0}},{key:Q.STACKABLE_CRATES,name:"Stackable Crates",description:"Deliveries will become a joy to watch. So quick, so efficient.",explanation:"Multiplies your delivery rate by 1.5",icon:"truck-loading",cost:15e4,unlocked:!1,unlockedAtTraitsDelivered:82e5,apply:function(e){e.employees[H.DELIVERY].outputMultiplier*=1.5,e.tryGetUpgradeByName("Invent Cranes").unlocked=!0}},{key:Q.INVENT_CRANES,name:"Invent Cranes",description:"Lift containers of crates into your delivery vehicles all at once.",explanation:"Doubles your delivery rate.",icon:"quidditch",cost:95e5,unlocked:!1,unlockedAtTraitsDelivered:125e5,apply:function(e){e.employees[H.DELIVERY].outputMultiplier*=2}},{key:Q.HIGH_SPEED_TRAINS,name:"High Speed Trains",description:"Vastly superior train technology.",explanation:"Massively increases delivery output.",icon:"object-ungroup",cost:1e9,unlocked:!1,unlockedAtTraitsDelivered:12e8,apply:function(e){e.employees[H.DELIVERY].outputMultiplier*=10}}],V=[{key:Q.BETTER_MACHINERY,name:"Better Machinery",description:"If machines are good, then better machines must be even better...",explanation:"Unlocks more productive machines for your factory.",icon:"industry",cost:5e3,unlocked:!1,unlockedAtTraitsDelivered:9500,apply:function(e){e.machines.all.filter((function(e){return 1===e.tier})).forEach((function(e){return e.unlocked=!0})),e.getUpgradeByKey(Q.EVEN_BETTER_MACHINERY).unlocked=!0,e.getUpgradeByKey(Q.FLEXIBLE_MACHINERY).unlocked=!0}},{key:Q.FLEXIBLE_MACHINERY,name:"Flexible Machinery",description:"Teach machines to modify themselves so they can perform different tasks.",explanation:"Unlocks the ability to move factory capacity between production and delivery.",icon:"exchange-alt",cost:15e4,unlocked:!1,unlockedAtTraitsDelivered:125e3,apply:function(e){e.flexibleMachineryUnlocked=!0}},{key:Q.EVEN_BETTER_MACHINERY,name:"Even Better Machinery",description:"Your mind is buzzing with dreams of bigger machines...",explanation:"Unlocks more productive machines for your factory.",icon:"industry",cost:35e4,unlocked:!1,unlockedAtTraitsDelivered:45e4,apply:function(e){e.machines.all.filter((function(e){return 2===e.tier})).forEach((function(e){return e.unlocked=!0})),e.getUpgradeByKey(Q.CHEAPER_MATERIALS).unlocked=!0,e.getUpgradeByKey(Q.EVEN_BETTERER_MACHINERY).unlocked=!0}},{key:Q.CHEAPER_MATERIALS,name:"Industrial Quarrying",description:"Pull metal straight out of the ground so all your machines will be cheaper.",explanation:"Reduces the cost of your machines by 25%",icon:"mountain",cost:6e5,unlocked:!1,unlockedAtTraitsDelivered:45e4,apply:function(e){e.machineCostMultiplier*=.75,e.getUpgradeByKey(Q.MORE_EFFICIENT_MACHINERY).unlocked=!0,e.getUpgradeByKey(Q.SMARTER_CONSTRUCTION_METHODS).unlocked=!0}},{key:Q.MORE_EFFICIENT_MACHINERY,name:"More efficient machinery",description:"Your old designs were wasteful, but now you see how they can be GREATLY improved.",explanation:"Doubles the output of all of your production machines.",icon:"square-root-alt",cost:125e5,unlocked:!1,unlockedAtTraitsDelivered:265e5,apply:function(e){e.machineOutputMultiplier*=2,e.getUpgradeByKey(Q.CHEAPER_MATERIALS).unlocked=!0}},{key:Q.SMARTER_CONSTRUCTION_METHODS,name:"Smarter Construction Methods",description:"Encourage your builders to work faster.",explanation:"Speeds up construction work by 25%",icon:"industry",cost:15e5,unlocked:!1,unlockedAtTraitsDelivered:255e4,apply:function(e){e.employees[H.BUILDER].workPerSecondMultiplier*=1.25}},{key:Q.EVEN_BETTERER_MACHINERY,name:"Even Betterer Machinery",description:"What if everything were bigger still?",explanation:"Unlocks more productive machines for your factory.",icon:"industry",cost:95e4,unlocked:!1,unlockedAtTraitsDelivered:25e5,apply:function(e){e.machines.all.filter((function(e){return 3===e.tier})).forEach((function(e){return e.unlocked=!0})),e.getUpgradeByKey(Q.EVEN_BETTERERER_MACHINERY).unlocked=!0}},{key:Q.EVEN_BETTERERER_MACHINERY,name:"Even Bettererer Machinery",description:"Okay, but what if everything was BIGGER AGAIN?",explanation:"Unlocks more productive machines for your factory.",icon:"industry",cost:115e5,unlocked:!1,unlockedAtTraitsDelivered:75e6,apply:function(e){e.machines.all.filter((function(e){return 4===e.tier})).forEach((function(e){return e.unlocked=!0})),e.getUpgradeByKey(Q.UNIMAGINABLE_MACHINERY).unlocked=!0}},{key:Q.UNIMAGINABLE_MACHINERY,name:"Unimaginable Machinery",description:"YOUR MIND IS FILLED WITH A GINORMOUS FACTORY",explanation:"Unlocks more productive machines for your factory.",icon:"industry",cost:95e6,unlocked:!1,unlockedAtTraitsDelivered:25e7,apply:function(e){e.machines.all.filter((function(e){return 5===e.tier})).forEach((function(e){return e.unlocked=!0})),e.getUpgradeByKey(Q.SELF_REPLICATING_MACHINES).unlocked=!0}},{key:Q.SELF_REPLICATING_MACHINES,name:"Self-Replicating Machines",description:"Speed up construction by teaching machines to build themselves.",explanation:"Reduces the work required to build each machine by 50%",icon:"object-ungroup",cost:5e8,unlocked:!1,unlockedAtTraitsDelivered:4e8,apply:function(e){e.employees[H.BUILDER].workPerSecondMultiplier*=2}}],j=[{key:Q.INVENT_MACHINERY,name:"Invent Machinery",description:"This is getting out of hand. Perhaps you need an actual factory..?",explanation:"Unlocks the ability to build machines.",icon:"industry",cost:300,unlocked:!0,unlockedAtTraitsDelivered:120,apply:function(e,t){e.machines.unlocked=!0,e.getUpgradeByKey(Q.TALES_OF_THE_PRELIFE).unlocked=!0,e.getUpgradeByKey(Q.BETTER_MACHINERY).unlocked=!0,t&&t(),C("upgrade","complex","INVENT_MACHINERY")}},{key:Q.TALES_OF_THE_PRELIFE,name:"Tales of the Prelife",description:"Have a storyteller visit, and tell you stories from the rest of the prelife.",explanation:"???",icon:"comment",cost:1e4,unlocked:!1,unlockedAtTraitsDelivered:1e3,apply:function(e,t){e.getUpgradeByKey(Q.WONDER_ABOUT_LIFE).unlocked=!0,t&&t(),C("upgrade","complex","TALES_OF_THE_PRELIFE - 1/5")}},{key:Q.WONDER_ABOUT_LIFE,name:"Tales of Earth",description:"This work is fun. You're helping people prepare to live their lives. But what else is out there...?",explanation:"???",icon:"question",cost:1e6,unlocked:!1,unlockedAtTraitsDelivered:1e4,apply:function(e,t){e.getUpgradeByKey(Q.WORK_SATISFACTION).unlocked=!0,t&&t(),C("upgrade","complex","WONDER_ABOUT_LIFE - 2/5")}},{key:Q.WORK_SATISFACTION,name:"Find Satisfaction in Work",description:"Who cares what else there is? Surely throwing yourself into your work will be enough.",explanation:"???",icon:"question",cost:1e7,unlocked:!1,unlockedAtTraitsDelivered:1e4,apply:function(e,t){e.getUpgradeByKey(Q.VISIT_THE_SHOP).unlocked=!0,t&&t(),C("upgrade","complex","WORK_SATISFACTION - 3/5")}},{key:Q.VISIT_THE_SHOP,name:"Visit the Shop Before Life",description:"It'd be nice to see what actually happens with all these traits, for once.",explanation:"???",icon:"question",cost:1e8,unlocked:!1,unlockedAtTraitsDelivered:1e5,apply:function(e,t){e.getUpgradeByKey(Q.LEAVE_FOR_EARTH).unlocked=!0,t&&t(),C("upgrade","complex","VISIT_THE_SHOP - 4/5")}},{key:Q.LEAVE_FOR_EARTH,name:"Leave for Earth",description:"Leave your factory behind and head to the Shop Before Life\u2014and then onto Earth. It's time for life to begin...",explanation:"???",icon:"globe-europe",cost:25e9,unlocked:!1,unlockedAtTraitsDelivered:1e6,apply:function(e,t){e.gameComplete=!0,e.gameWinTime=e.totalTimePlayed.clone(),t&&t(),C("upgrade","complex","LEAVE_FOR_EARTH - 5/5")}}],Y=[{key:Q.BOX_1,name:"A Box",description:"A place to store human traits.",explanation:"Increases storage by 1",icon:"box",cost:1,unlocked:!0,unlockedAtTraitsDelivered:1,apply:function(e){e.increaseStorageSize(1),e.getUpgradeByKey(Q.BOX_2).unlocked=!0}},{key:Q.BOX_2,name:"A Second Box",description:"Imagine what you could keep in it!",explanation:"Increases storage by 1",icon:"box",cost:6,unlocked:!1,unlockedAtTraitsDelivered:5,apply:function(e){e.increaseStorageSize(1),e.getUpgradeByKey(Q.BOX_3).unlocked=!0,e.getUpgradeByKey(Q.BOX_4).unlocked=!0}},{key:Q.BOX_3,name:"A Third Box",description:"You're starting to really like boxes.",explanation:"Increases storage by 1",icon:"box",cost:7,unlocked:!1,unlockedAtTraitsDelivered:15,apply:function(e){e.increaseStorageSize(1)}},{key:Q.BOX_4,name:"A Fourth Box",description:"Soon you'll need a box for all these boxes.",explanation:"Increases storage by 1",icon:"box",cost:8,unlocked:!1,unlockedAtTraitsDelivered:45,apply:function(e){e.increaseStorageSize(1),e.getUpgradeByKey(Q.BOX_BIGGER).unlocked=!0}},{key:Q.BOX_BIGGER,name:"Bigger Boxes",description:"Like boxes, but bigger, and therefore BETTER!",explanation:"Doubles your basic box storage.",icon:"boxes",cost:15,unlocked:!1,unlockedAtTraitsDelivered:75,apply:function(e){e.increaseStorageMultiplierByFactor(2),e.getUpgradeByKey(Q.BOX_CRATES).unlocked=!0}},{key:Q.BOX_CRATES,name:"Crates",description:"Like boxes with superpowers.",explanation:"Doubles your basic box storage.",icon:"ruler-horizontal",cost:15,unlocked:!1,unlockedAtTraitsDelivered:200,apply:function(e){e.increaseStorageMultiplierByFactor(2),e.getUpgradeByKey(Q.SHED).unlocked=!0}},{key:Q.SHED,name:"A Shed",description:"A fun place to hang out. Or to store boxes of traits.",explanation:"Increases your basic box storage.",icon:"home",cost:50,unlocked:!1,unlockedAtTraitsDelivered:475,apply:function(e){e.increaseStorageSize(5),e.getUpgradeByKey(Q.STANDARDISED_JARS).unlocked=!0}},{key:Q.STANDARDISED_JARS,name:"Standardised Jars",description:"Eureka! You can fit WAY more traits in the same space if you make them all the same size.",explanation:"Vastly increases your basic box storage.",icon:"vector-square",cost:550,unlocked:!1,unlockedAtTraitsDelivered:1350,apply:function(e){e.increaseStorageMultiplierByFactor(25),e.getUpgradeByKey(Q.VERTICAL_STACKING).unlocked=!0}},{key:Q.VERTICAL_STACKING,name:"Vertical Stacking",description:"Putting things on top of other things could be a more effective use of space.",explanation:"Doubles your basic box storage.",icon:"ruler-vertical",cost:950,unlocked:!1,unlockedAtTraitsDelivered:1e4,apply:function(e){e.increaseStorageMultiplierByFactor(2),e.getUpgradeByKey(Q.MORE_LAND).unlocked=!0}},{key:Q.MORE_LAND,name:"More land",description:"Your warehouses demand more space.",explanation:"Massively increases the storage capacity of all warehouses.",icon:"home",cost:45e5,unlocked:!1,unlockedAtTraitsDelivered:3e6,apply:function(e){e.machineStorageMultiplier*=10,e.getUpgradeByKey(Q.CONTAINERISATION).unlocked=!0}},{key:Q.CONTAINERISATION,name:"Containerisation",description:"Boxes inside crates inside containers inside warehouses. It's a storage-lovers dream.",explanation:"Massively increases the storage capacity of all warehouses.",icon:"dolly-flatbed",cost:1e7,unlocked:!1,unlockedAtTraitsDelivered:4e7,apply:function(e){e.machineStorageMultiplier*=10,e.getUpgradeByKey(Q.AUTOMATED_PIPE_NETWORK).unlocked=!0}},{key:Q.AUTOMATED_PIPE_NETWORK,name:"Automated Pipe Network",description:"Increase storage by removing the need for people to operate your warehouses.",explanation:"Massively increases the storage capacity of all warehouses.",icon:"eye-dropper",cost:2e8,unlocked:!1,unlockedAtTraitsDelivered:8e8,apply:function(e){e.machineStorageMultiplier*=10}}],K={loadAll:function(){var e=0,t=[];return W.forEach((function(i){t.push(Object(I.a)({id:e,purchased:!1},i)),e++})),z.forEach((function(i){t.push(Object(I.a)({id:e,purchased:!1},i)),e++})),G.forEach((function(i){t.push(Object(I.a)({id:e,purchased:!1},i)),e++})),V.forEach((function(i){t.push(Object(I.a)({id:e,purchased:!1},i)),e++})),Y.forEach((function(i){t.push(Object(I.a)({id:e,purchased:!1},i)),e++})),j.forEach((function(i){t.push(Object(I.a)({id:e,purchased:!1},i)),e++})),t.sort((function(e,t){return e.cost>t.cost?1:-1})),t}},q={NONE:"none",LEMON_POWER:"lemonpower",MACHINING_TABLE:"machiningtable",LOADER:"loader",ASSEMBLER:"assembler",WATER_POWER:"waterpower",SMALL_WAREHOUSE:"smallwarehouse",CONVEYOR_BELT:"conveyorbelt",STEAM_POWER:"steampower",MEDIUM_WAREHOUSE:"mediumwarehouse",TURBINE_POWER:"turbinepower",TRAIT_PUMP:"traitpump",INDUSTRIAL_WAREHOUSE:"industrialwarehouse",ASSEMBLY_LINE:"assemblyline",COAL_POWER:"coalpower",TRAIT_COMPRESSOR:"traitcompressor",MASSIVE_WHEEL:"massivewheel"},J={MANUAL:"manual",MACHINE:"machine"},_={NONE:"none",POWER:"power",STORAGE:"storage",PRODUCTION:"production",DELIVERY:"delivery"};function Z(e,t,i,a){if(i.work.paused)i.outcomePerSecond=0;else{var r=t.employees[i.type],n=1*e/1e3*i.workPerSecond(t);i.work.progress+=n;var o=i.workRequiredToComplete*r.workRequiredMultiplier,s=Math.floor(i.outputPerCompletion*r.outputMultiplier);if(i.type===H.DELIVERY)s*=t.getMachineByType(q.LOADER).totalDeliveryMultiplier(),s=Math.floor(s);if(s*=t.getFlexibleMultiplier(i.type),s=Math.floor(s),i.work.progress>=o){for(var l=!1;i.work.progress>o;){a(s)<s&&(l=!0),i.work.progress-=o}i.work.progress=0,l&&!i.work.justFailed&&(i.work.justFailed=!0,setTimeout((function(){return i.work.justFailed=!1}),t.justFailedMs))}var c=1*o/i.workPerSecond(t);i.currentTimeTaken=c,i.outcomePerSecond=s/c}}var X=[{name:"Assistants",description:"Hire someone to help make traits.",type:H.PRODUCTION,icon:"user",baseCost:4,unlockedAtTraitsDelivered:7,baseWorkPerSecond:30,workPerSecond:function(e){return e.overallWorkMultiplier*this.baseWorkPerSecond*e.employees[H.PRODUCTION].workPerSecondMultiplier*this.allocation.manual},workRequiredToComplete:200,outputPerCompletion:1,hiredAmount:0,outcomePerSecond:0,hire:function(e){e.employees[H.PRODUCTION].hiredAmount+=1,this.canReallocate(J.MACHINE,e)?this.allocation.machines+=1:this.allocation.manual+=1,e.machines.spreadAllocation(this.allocation.machines)},work:{paused:!1,progress:0,justFailed:!1},allocation:{manual:0,machines:0},canReallocate:function(e,t){var i=t.machines.getCountByRole(_.PRODUCTION);switch(e){case J.MANUAL:return this.allocation.machines>0;case J.MACHINE:return this.allocation.manual>0&&this.allocation.machines<i;default:return!1}},reallocate:function(e,t){e===J.MANUAL&&this.canReallocate(e,t)?(this.allocation.machines-=1,this.allocation.manual+=1):e===J.MACHINE&&this.canReallocate(e,t)&&(this.allocation.machines+=1,this.allocation.manual-=1),t.machines.spreadAllocation(this.allocation.machines)},unlocked:function(e){return e.totalDelivered>=this.unlockedAtTraitsDelivered},tick:function(e,t,i){Z(e,t,i,t.makeTraits)}},{name:"Volunteers",description:"A kindly person will carry a trait to the Shop Before Life.",icon:"people-carry",type:H.DELIVERY,baseCost:4,unlockedAtTraitsDelivered:20,workPerSecond:function(e){return e.overallWorkMultiplier*this.baseWorkPerSecond*e.employees[H.DELIVERY].workPerSecondMultiplier*e.employees[H.DELIVERY].hiredAmount},baseWorkPerSecond:20,outputPerCompletion:1,workRequiredToComplete:280,outcomePerSecond:0,deliveryAnimationDuration:20,hire:function(e){e.employees[H.DELIVERY].hiredAmount+=1},work:{paused:!1,progress:0,justFailed:!1},unlocked:function(e){return e.totalDelivered>=this.unlockedAtTraitsDelivered},tick:function(e,t,i){Z(e,t,i,t.autoDeliverTraits)}},{name:"Amateurs",description:"Some random people will help build your factory.",icon:"hammer",type:H.BUILDER,unlockedAtTraitsDelivered:400,baseWorkPerSecond:10,workPerSecond:function(e){return e.overallWorkMultiplier*this.baseWorkPerSecond*e.employees[H.BUILDER].workPerSecondMultiplier*e.employees[H.BUILDER].hiredAmount},workRequiredToComplete:1e4,baseCost:25,outputPerCompletion:1,outcomePerSecond:0,hire:function(e){e.employees[H.BUILDER].hiredAmount+=1},work:{building:q.NONE,paused:!1,progress:0,justFailed:!1},unlocked:function(e){return e.machines.unlocked},checkBuildQueue:function(e,t){if(t.work.building===q.NONE){if(!(e.machines.buildQueue.length>0))return t.work.building=q.NONE,void(t.outcomePerSecond=0);t.work.building=e.machines.buildQueue[0].type;var i=e.machines.all.filter((function(e){return e.type===t.work.building}))[0];t.workRequiredToComplete=i.workRequiredToBuild}},tick:function(e,t,i){if(i.work.paused)i.outcomePerSecond=0;else{var a=t.employees[H.BUILDER];if(i.checkBuildQueue(t,i),i.work.building!==q.NONE){var r=t.machines.all.filter((function(e){return e.type===i.work.building}))[0];if(r){var n=1*e/1e3*i.workPerSecond(t);i.work.progress+=n;for(var o=!1,s=i.workRequiredToComplete*a.workRequiredMultiplier;i.work.progress>=s;){t.buildMachine(r,i.outputPerCompletion*a.outputMultiplier)||(o=!0),i.work.progress-=s,i.work.progress=Math.max(0,i.work.progress),i.work.building=q.NONE,i.checkBuildQueue(t,i),i.work.building===q.NONE&&(i.work.progress=0),o&&(i.work.justFailed=!0,setTimeout((function(){return i.work.justFailed=!1}),t.justFailedMs))}var l=1*s/i.workPerSecond(t);i.currentTimeTaken=l,i.outcomePerSecond=i.outputPerCompletion*a.outputMultiplier*1/l}else console.error("can't find machine to build: "+i.work.building)}}}}],$=[{name:"None",type:q.NONE,role:_.NONE,unlocked:!1,storage:function(){return 0},canBuild:function(){return!1}},{name:"Lemon Power",tier:0,description:"Simple, delicious electricity.",icon:"lemon",type:q.LEMON_POWER,role:_.POWER,unlocked:!0,baseCost:65,power:10,workRequiredToBuild:500,builtAmount:0,storage:function(){return 0}},{tier:0,name:"Machining Table",description:"Electrified tools to produce traits FAST.",type:q.MACHINING_TABLE,role:_.PRODUCTION,icon:"wrench",unlocked:!0,baseCost:100,power:-5,builtAmount:0,workers:0,workRequiredToBuild:2500,baseProduction:10,multProduction:.97,traitsPerOutput:5,baseWorkPerSecond:function(){return this.baseProduction*this.multProduction},storage:function(){return 0},work:{required:100,progress:0},traitsOutputPerSecond:0,currentTimeTaken:0},{tier:0,name:"Loader",description:"Each loader speeds up delivery more than the one before.",type:q.LOADER,role:_.DELIVERY,icon:"arrow-circle-down",unlocked:!0,baseCost:150,power:-20,builtAmount:0,workers:0,workRequiredToBuild:3e3,baseDelivery:.45,multDelivery:.4,traitsPerOutput:1,totalDeliveryMultiplier:function(){return 1+this.baseDelivery*this.multDelivery*Math.pow(this.builtAmount,1.65)},storage:function(){return 0},work:{required:100,progress:0},traitsOutputPerSecond:0,currentTimeTaken:0},{tier:1,name:"Small Warehouse",description:"A vast place to put your box collection.",type:q.SMALL_WAREHOUSE,role:_.STORAGE,icon:"warehouse",unlocked:!1,baseCost:1e3,power:-150,builtAmount:0,workRequiredToBuild:2500,baseStorage:1500,multStorage:1,storage:function(){return this.baseStorage*this.multStorage}},{tier:1,name:"Personality Assembler",description:"Generates traits faster than electrified tables.",type:q.ASSEMBLER,role:_.PRODUCTION,icon:"cogs",unlocked:!1,baseCost:2e3,power:-200,builtAmount:0,workers:0,workRequiredToBuild:12500,baseProduction:15,multProduction:1.6,traitsPerOutput:35,baseWorkPerSecond:function(){return this.baseProduction*this.multProduction},storage:function(){return 0},work:{required:100,progress:0},traitsOutputPerSecond:0,currentTimeTaken:0},{name:"Water Power",tier:1,description:"Use that nearby river to generate electricity.",icon:"water",type:q.WATER_POWER,role:_.POWER,unlocked:!1,baseCost:1500,power:300,workRequiredToBuild:1e4,builtAmount:0,baseProduction:0,multProduction:1,baseDelivery:0,multDelivery:1,storage:function(){return 0}},{tier:2,name:"Medium Warehouse",description:"Boxes just aren't enough anymore.",type:q.MEDIUM_WAREHOUSE,role:_.STORAGE,icon:"hospital-alt",unlocked:!1,baseCost:125e3,power:-500,builtAmount:0,workRequiredToBuild:2e4,baseProduction:1,multProduction:1,baseStorage:1e4,multStorage:1,storage:function(){return this.baseStorage*this.multStorage}},{tier:2,name:"Conveying Machines",description:"Produce traits faster by shipping them quickly around your factory.",type:q.CONVEYOR_BELT,role:_.PRODUCTION,icon:"bacon",unlocked:!1,baseCost:15e4,power:-500,builtAmount:0,workers:0,workRequiredToBuild:4e4,baseProduction:15,multProduction:3.8,traitsPerOutput:250,baseWorkPerSecond:function(){return this.baseProduction*this.multProduction},storage:function(){return 0},work:{required:100,progress:0},traitsOutputPerSecond:0,currentTimeTaken:0},{name:"Steam Power",tier:2,description:"BOIL the river to make MORE electricity.",icon:"mug-hot",type:q.STEAM_POWER,role:_.POWER,unlocked:!1,baseCost:1e5,power:1e3,workRequiredToBuild:25e3,builtAmount:0,baseProduction:0,multProduction:1,baseDelivery:0,multDelivery:1,storage:function(){return 0}},{name:"Turbine Power",tier:3,description:"Why stop at the river? Harness electricity from the air itself.",icon:"wind",type:q.TURBINE_POWER,role:_.POWER,unlocked:!1,baseCost:1e6,power:2e4,workRequiredToBuild:75e3,builtAmount:0,baseProduction:0,multProduction:1,storage:function(){return 0}},{tier:3,name:"Trait Pump",description:"Fills thousands of jars at once to generate traits SUPER fast.",type:q.TRAIT_PUMP,role:_.PRODUCTION,icon:"gas-pump",unlocked:!1,baseCost:12e5,power:-1e4,builtAmount:0,workers:0,workRequiredToBuild:1e5,baseProduction:15,multProduction:3.8,traitsPerOutput:2e3,baseWorkPerSecond:function(){return this.baseProduction*this.multProduction},storage:function(){return 0},work:{required:100,progress:0},traitsOutputPerSecond:0,currentTimeTaken:0},{tier:4,name:"Industrial Warehouse",description:"The biggest box anyone could ever imagine.",type:q.INDUSTRIAL_WAREHOUSE,role:_.STORAGE,icon:"industry",unlocked:!1,baseCost:95e5,power:-2e5,builtAmount:0,workRequiredToBuild:125e3,baseProduction:1,multProduction:1,baseStorage:5e4,multStorage:1,storage:function(){return this.baseStorage*this.multStorage}},{name:"Coal Power",tier:4,description:"Burn rocks to make more electricity than boring old air and water put together.",icon:"burn",type:q.COAL_POWER,role:_.POWER,unlocked:!1,baseCost:55e5,power:1e5,workRequiredToBuild:1e5,builtAmount:0,baseProduction:0,multProduction:1,storage:function(){return 0}},{tier:4,name:"Assembly Line",description:"Identical machines producing traits in a line. Soul-crushing, but VERY productive.",type:q.ASSEMBLY_LINE,role:_.PRODUCTION,icon:"grip-lines",unlocked:!1,baseCost:12e6,power:-1e5,builtAmount:0,workers:0,workRequiredToBuild:2e5,baseProduction:15,multProduction:18,traitsPerOutput:2500,baseWorkPerSecond:function(){return this.baseProduction*this.multProduction},storage:function(){return 0},work:{required:100,progress:0},traitsOutputPerSecond:0,currentTimeTaken:0},{tier:5,name:"Trait Compressor",description:"Concentrates traits at the highest possible density so they can be produced at incredible speed.",type:q.TRAIT_COMPRESSOR,role:_.PRODUCTION,icon:"star",unlocked:!1,baseCost:9e7,power:-1e6,builtAmount:0,workers:0,workRequiredToBuild:8e5,baseProduction:15,multProduction:20,traitsPerOutput:16e3,baseWorkPerSecond:function(){return this.baseProduction*this.multProduction},storage:function(){return 0},work:{required:100,progress:0},traitsOutputPerSecond:0,currentTimeTaken:0},{name:"Massive Stone Wheel",tier:5,description:"This tremendous flywheel stores and releases all the electricity you'll ever need.",icon:"hockey-puck",type:q.MASSIVE_WHEEL,role:_.POWER,unlocked:!1,baseCost:65e6,power:2e6,workRequiredToBuild:25e4,builtAmount:0,baseProduction:0,multProduction:1,baseDelivery:0,multDelivery:1,storage:function(){return 0}}],ee=i(23),te=i.n(ee),ie={SUCCESS:!0,NOPOWER:"nopower",NOFAVOURS:"nofavours"},ae=i(24),re=i.n(ae),ne={debug:!1,overallWorkMultiplier:1.2,totalTimePlayed:w.a.duration(0),stored:0,storedTraits:[],storageMax:1e12,storageBase:1,storageMultiplier:1,machineStorageMultiplier:1,isMakingTraits:!1,justFailedToMake:!1,workRequiredToMakeTrait:60,makeRateBase:10,makeRateMultiplier:1,makeProgressPercent:0,madePerClick:1,gameComplete:!1,totalMade:0,totalDelivered:0,totalWastedProduction:0,totalWastedDeliveries:0,favours:0,favoursSpent:0,deliveryRateBase:1,deliveryRateMultiplier:1,costScalingExponent:1.45,costScalingBaseMultiplier:1.12,machineCostMultiplier:1,machineOutputMultiplier:1,flexibleMachineryUnlocked:!1,flexibleMachinerySetting:0,flexibleMachineryAbsMax:3,flexibleMachineFactor:.15,employees:{production:{hiredAmount:0,outputMultiplier:1,costMultiplier:1,workPerSecondMultiplier:1,workRequiredMultiplier:1},delivery:{hiredAmount:0,outputMultiplier:1,costMultiplier:1,workPerSecondMultiplier:1,workRequiredMultiplier:1},builder:{hiredAmount:0,outputMultiplier:1,costMultiplier:1,workPerSecondMultiplier:1,workRequiredMultiplier:1}},upgradesPurchased:[],machinesBuilt:{lemonpower:0,machiningtable:0,loader:0,smallwarehouse:0,assembler:0,waterpower:0,conveyorbelt:0,steampower:0,mediumwarehouse:0,turbinepower:0,traitpump:0,industrialwarehouse:0,assemblyline:0,coalpower:0,traitcompressor:0,massivewheel:0}},oe=(w.a.duration(0),{version:"0.9.3",tickLengthMs:20,lastTickTime:w()(),tickInProgress:!1,visualStorageMax:16,wrapperHeight:92,justFailedMs:1250,deliveryFadeOutTimeMs:2500,startTime:w()(),gameComplete:!1,gameWinTime:w.a.duration(123456),allEmployees:[],allUpgrades:[],initComplete:!1,init:function(e){var t=ne;if(e){for(var i in e)switch(i){case"totalTimePlayed":t[i]=w.a.duration(e[i]);break;default:t[i]=e[i]}for(var a in t.employees)t.employees[a].outputMultiplier=1,t.employees[a].costMultiplier=1,t.employees[a].workPerSecondMultiplier=1,t.employees[a].workRequiredMultiplier=1}for(var r in t)oe[r]=t[r];oe.allUpgrades=[],oe.allEmployees=[],oe.machines.all=[],oe.machines.unlocked=!1,oe.massDelivery.isActive=!1;var n=0;X.forEach((function(e){oe.allEmployees.push(Object(I.a)({id:n},e)),n++})),oe.getEmployeeByType(H.PRODUCTION).allocation.manual=oe.employees[H.PRODUCTION].hiredAmount;var o=0;for(var s in $.forEach((function(e){oe.machines.all.push(Object(I.a)({id:o},e)),o++})),oe.machines.all=oe.machines.all.sort(function e(t){var i=Array.prototype.slice.call(arguments,1);return function(a,r){var n=0;return 0===(n=Number.isInteger(a[t])&&Number.isInteger(r[t])?a[t]-r[t]:(a[t]||"").toString().localeCompare((r[t]||"").toString()))&&arguments.length>1?e.apply(null,i)(a,r):n}}("role","baseCost")),oe.machinesBuilt){var l=oe.machinesBuilt[s];if(l>0){oe.getMachineByType(s).builtAmount+=l;var c=oe.getEmployeeByType(H.PRODUCTION);c.canReallocate(J.MACHINE,oe)&&c.reallocate(J.MACHINE,oe)}}if(oe.allUpgrades=K.loadAll(),t.upgradesPurchased&&t.upgradesPurchased.length>0)for(var u in t.upgradesPurchased){var A=oe.getUpgradeByKey(t.upgradesPurchased[u]);A&&oe.applyUpgrade(A)}te.a.create(oe.massDelivery.averageWaitInMilliseconds,oe.massDelivery.trigger).start(),oe.stored=Math.min(oe.stored,oe.currentStorageSize());for(var d=oe.getEmployeeByType(H.PRODUCTION);d.canReallocate(J.MACHINE,oe);)d.reallocate(J.MACHINE,oe);oe.updateVisualStorage(),oe.initComplete=!0,oe.lastTickTime=w()()},makeWorkPerSecond:function(){return oe.makeRateBase*oe.makeRateMultiplier},massDelivery:{averageWaitInMilliseconds:2e5,isActive:!1,trigger:function(){oe.massDelivery.isActive=!0},perform:function(){var e=oe.stored,t=0;t=e<100?e:e<1e4?Math.floor(.5*e):e<1e6?Math.floor(.4*e):Math.floor(.2*e),oe.autoDeliverTraits(t),oe.massDelivery.isActive=!1}},getTimeToMake:function(){return 1*oe.workRequiredToMakeTrait/(oe.makeWorkPerSecond()*oe.overallWorkMultiplier)},getOutcomePerSecond:function(e){var t=0;return oe.allEmployees.forEach((function(i){i.type===e&&(t+=i.outcomePerSecond||0)})),e===H.PRODUCTION&&oe.machines.getBuiltByRole(_.PRODUCTION).forEach((function(e){t+=e.traitsOutputPerSecond||0})),Number.parseFloat(t.toFixed(2))},getBottleneckedPerSecond:function(){var e=oe.getOutcomePerSecond(H.PRODUCTION),t=oe.currentStorageSize(),i=oe.getOutcomePerSecond(H.DELIVERY);return Math.min(Math.min(e,i),t)},currentStorageSize:function(){return Math.min(oe.getNaturalStorageSize()+oe.machines.getMachineStorageSize(),oe.storageMax)},getNaturalStorageSize:function(){return Math.min(oe.storageBase*oe.storageMultiplier,oe.storageMax)},getUpgradeById:function(e){return oe.allUpgrades.filter((function(t){return t.id===e}))[0]},tryGetUpgradeByName:function(e){var t=oe.allUpgrades.filter((function(t){return t.name===e}));return t&&t.length>0?t[0]:null},getUpgradeByKey:function(e){return oe.allUpgrades.filter((function(t){return t.key===e}))[0]},getUnlockedUpgrades:function(){return oe.allUpgrades.filter((function(e){return e.unlocked&&oe.totalDelivered>=e.unlockedAtTraitsDelivered&&!e.purchased}))},canPurchaseUpgrade:function(e){var t=oe.allUpgrades.filter((function(t){return t.id===e}))[0];return t?oe.favours>=t.cost&&!t.purchased:(console.error("missing upgrade in canPurchaseUpgrade, id: "+e),!1)},purchaseUpgrade:function(e,t){var i=oe.allUpgrades.filter((function(t){return t.id===e}))[0];i?oe.canPurchaseUpgrade(e)?(oe.favours-=i.cost,oe.favoursSpent+=i.cost,oe.applyUpgrade(i,t)):console.error("attempting to purchase unpurchasable upgrade: "+e):console.error("missing upgrade in purchaseUpgrade, id: "+e)},applyUpgrade:function(e,t){e.purchased=!0,e.apply(oe,t),0===oe.upgradesPurchased.filter((function(t){return t===e.key})).length&&oe.upgradesPurchased.push(e.key)},getUnlockedEmployees:function(){return oe.allEmployees.filter((function(e){return e.unlocked(oe)}))},canHireEmployee:function(e){return oe.allEmployees.filter((function(t){return t.id===e}))[0]?oe.favours>=oe.getEmployeeCost(e):(console.error("missing employee in canHireEmployee, id: "+e),!1)},getEmployeeByType:function(e){return oe.allEmployees.filter((function(t){return t.type===e}))[0]},getEmployeeCost:function(e){var t=oe.allEmployees.filter((function(t){return t.id===e}))[0];if(!t)return console.error("missing employee in getEmployeeCost, id: "+e),9999999999990;var i=oe.employees[t.type];if(0===i.hiredAmount)return t.baseCost;var a=t.baseCost*i.costMultiplier*Math.pow(oe.costScalingBaseMultiplier,i.hiredAmount);return i.hiredAmount<15?Math.ceil(a/2*2):5*Math.ceil(a/5)},hireEmployee:function(e){var t=oe.allEmployees.filter((function(t){return t.id===e}))[0];if(!t)return console.error("missing employee in hireEmployee, id: "+e),!1;var i=oe.getEmployeeCost(e);oe.favours-=i,oe.favoursSpent+=i,t.hire(oe)},canReallocateProdWorker:function(e){return oe.getEmployeeByType(H.PRODUCTION).canReallocate(e,oe)},reallocateProdWorker:function(e){var t=oe.getEmployeeByType(H.PRODUCTION);t.canReallocate(e,oe)&&t.reallocate(e,oe)},getFlexibleMultiplier:function(e){if(!oe.flexibleMachineryUnlocked||0===oe.flexibleMachinerySetting)return 1;switch(e){case H.PRODUCTION:return 1-oe.flexibleMachinerySetting*oe.flexibleMachineFactor;case H.DELIVERY:return 1+oe.flexibleMachinerySetting*oe.flexibleMachineFactor;default:console.error("called getFlexibleMultiplier with wrong type: "+e)}return 1},machines:{unlocked:!1,justBuilt:!1,all:[],cancellationRefundFactor:.5,getBuiltByRole:function(e){return oe.machines.all.filter((function(t){return t.role===e&&t.builtAmount>0}))},getCountByRole:function(e){var t=oe.machines.getBuiltByRole(e);return t.length>0?t.map((function(e){return e.builtAmount||0})).reduce((function(e,t){return e+t})):0},totalPower:function(e){var t=0;return oe.machines.all.filter((function(e){return e.unlocked&&e.builtAmount>0})).forEach((function(e){t+=e.power*e.builtAmount})),e&&oe.machines.buildQueue.forEach((function(e){t+=oe.machines.all.filter((function(t){return t.type===e.type}))[0].power})),t},spreadAllocation:function(e){oe.machines.getBuiltByRole(_.PRODUCTION).sort((function(e){return e.cost})).reverse().forEach((function(t){t.workers=0,e>0&&(e>=t.builtAmount?(t.workers=t.builtAmount,e-=t.builtAmount):(t.workers=e,e=0))}))},buildQueue:[],getMachineStorageSize:function(){var e=0;return oe.machines.all.filter((function(e){return e.builtAmount>0&&e.role===_.STORAGE})).forEach((function(t){e+=t.storage()*oe.machineStorageMultiplier*t.builtAmount})),e},sell:function(e){if(!(e.builtAmount<=0)){e.builtAmount--;var t=oe.getMachineCost(e.type),i=oe.getCancellationRefundAmount(t);oe.favours+=i,oe.favoursSpent-=i,oe.getEmployeeByType(H.PRODUCTION).reallocate(J.MANUAL,oe)}},tick:function(e){if(oe.machines.unlocked){var t=oe.machines.getBuiltByRole(_.PRODUCTION),i=oe.getEmployeeByType(H.PRODUCTION);t&&t.forEach((function(t){if(t.workers>0)if(i.work.paused)t.traitsOutputPerSecond=0,t.currentTimeTaken=0;else{var a=1*oe.overallWorkMultiplier*t.baseWorkPerSecond()*t.workers*i.baseWorkPerSecond*oe.employees[H.PRODUCTION].workPerSecondMultiplier;t.work.progress+=a*e/1e3;var r=!1,n=t.traitsPerOutput*oe.machineOutputMultiplier*oe.getFlexibleMultiplier(H.PRODUCTION);for(n=Math.floor(n);t.work.progress>=t.work.required;){var o=oe.makeTraits(n);t.work.progress-=t.work.required,o||(r=!0)}r&&!t.work.justFailed&&(t.work.justFailed=!0,setTimeout((function(){return t.work.justFailed=!1}),oe.justFailedMs));var s=1*t.work.required/a;t.currentTimeTaken=s,t.traitsOutputPerSecond=n/s}else t.traitsOutputPerSecond=0,t.currentTimeTaken=0}))}}},getUnlockedMachines:function(){return 0===oe.machines.all.map((function(e){return e.builtAmount})).reduce((function(e,t){return(e||0)+(t||0)}),0)?oe.machines.all.filter((function(e){return e.unlocked&&e.type===q.LEMON_POWER})):oe.machines.all.filter((function(e){return e.unlocked}))},canBuildMachine:function(e){var t=oe.getMachineCost(e.type),i=Math.min(oe.machines.totalPower(!1),oe.machines.totalPower(!0));return t>oe.favours?ie.NOFAVOURS:i+e.power<0?ie.NOPOWER:ie.SUCCESS},getMachineCost:function(e){var t=oe.getMachineByType(e);t||console.error("missing machine in getMachineCost: ("+e+" )");var i=oe.machines.buildQueue.filter((function(t){return t.type===e})).length,a=t.builtAmount+i;if(0===a)return t.baseCost*oe.machineCostMultiplier;var r=t.baseCost*oe.machineCostMultiplier*Math.pow(oe.costScalingBaseMultiplier,a);return 5*Math.ceil(r/5)},addMachineToQueue:function(e,t){oe.favours-t<0?alert("no money for machine, should not happen"):(oe.machines.buildQueue.push({type:e.type,cost:t,name:e.name}),oe.favours-=t,oe.favoursSpent+=t)},getCancellationRefundAmount:function(e){return Math.floor(e*oe.machines.cancellationRefundFactor)},cancelMachineFromQueue:function(e,t){if(oe.machines.buildQueue[t].type===e.type){oe.machines.buildQueue.splice(t,1);var i=oe.getCancellationRefundAmount(e.cost);oe.favours+=i,oe.favoursSpent-=i,0===t&&(oe.getEmployeeByType(H.BUILDER).work.building=q.NONE,oe.getEmployeeByType(H.BUILDER).work.progress=0)}else alert("something weird happened with the build queue, sorry.")},getMachineByType:function(e){return oe.machines.all.filter((function(t){return t.type===e}))[0]},getCurrentlyBuildingMachine:function(){var e=oe.getEmployeeByType(H.BUILDER);return e&&e.work&&oe.getMachineByType(e.work.building)||oe.getMachineByType(q.NONE)},buildMachine:function(e,t){if(e){var i=oe.machines.buildQueue[0];if(i)if(i.type===e.type){if(!(oe.machines.totalPower()+e.power<0)){e.builtAmount+=t,oe.machinesBuilt[e.type]?oe.machinesBuilt[e.type]+=t:oe.machinesBuilt[e.type]=t,oe.machines.buildQueue.splice(0,1),oe.machines.justBuilt=!0;var a=oe.getEmployeeByType(H.PRODUCTION);return a.canReallocate(J.MACHINE,oe)&&a.reallocate(J.MACHINE,oe),!0}oe.cancelMachineFromQueue(i,0)}else console.error("incorrect type for buildQueueItem in buildMachine: ("+e.type+" )");else console.error("missing buildQueueItem in buildMachine: ("+e.type+" )")}else console.error("missing machine in buildMachine")},onMakeTraitsClicked:function(){oe.isMakingTraits||(oe.isMakingTraits=!0)},progressMakingTraits:function(e){if(oe.makeProgressPercent>=100)return oe.makeProgressPercent=0,oe.isMakingTraits=!1,void(oe.makeTraits(oe.madePerClick)||oe.justFailedToMake||(oe.justFailedToMake=!0,setTimeout((function(){return oe.justFailedToMake=!1}),oe.justFailedMs)));var t=1*e/1e3;oe.makeProgressPercent+=1*t/(1*oe.workRequiredToMakeTrait/(oe.makeWorkPerSecond()*oe.overallWorkMultiplier))*100},canMakeTraits:function(){return!oe.isMakingTraits},makeTraits:function(e){if(!e)return 0;if(e=Math.floor(e),oe.isStorageFull())return oe.totalWastedProduction+=Math.max(e,0),0;var t=oe.addToStorage(e);return oe.totalMade+=t,oe.totalWastedProduction+=Math.max(e-t,0),t},isStorageFull:function(){return oe.stored>=oe.currentStorageSize()},increaseStorageSize:function(e){oe.storageBase+=e},increaseStorageMultiplierByAmount:function(e){oe.storageMultiplier+=e},increaseStorageMultiplierByFactor:function(e){oe.storageMultiplier*=e},updateVisualStorage:function(){if(oe.storedTraits.filter((function(e){return!e.delivered})).length!==oe.stored){var e=Math.min(oe.visualStorageMax,oe.stored),t=oe.stored<=oe.visualStorageMax&&oe.currentStorageSize()<oe.visualStorageMax&&oe.storedTraits.length<oe.visualStorageMax+4?oe.storedTraits.filter((function(e){return!e.delivered})).length:oe.storedTraits.length;if(t<e)for(var i=0;i<e-t;i++){var a={id:B(),name:L(),delivered:!1,deliver:function(){var e=this;this.delivered=!0,oe.selfDeliver(1),setTimeout((function(){return oe.removeFromVisualStorage(e.id)}),oe.deliveryFadeOutTimeMs)}};a.deliver=a.deliver.bind(a),oe.storedTraits.push(a)}}},addToStorage:function(e){e<0&&(e=0);var t=oe.stored;return oe.stored=Math.min(oe.stored+e,oe.currentStorageSize()),oe.updateVisualStorage(),Math.max(oe.stored-t,0)},getDeliverySpeed:function(){return oe.deliveryRateBase*oe.deliveryRateMultiplier},autoDeliverTraits:function(e){if(e<=0)return 0;oe.updateVisualStorage(),e=Math.floor(e);var t=0,i=oe.stored,a=Math.min(i,e);if(0===a)return 0;var r=i-a;if(r>=oe.visualStorageMax)oe.selfDeliver(a),t=a;else if(r<=0){var n=oe.storedTraits.filter((function(e){return!e.delivered}));n.forEach((function(e){return e.deliver()})),oe.selfDeliver(i-n.length)}else{var o=oe.storedTraits.filter((function(e){return!e.delivered})).length-r,s=oe.storedTraits.filter((function(e){return!e.delivered})).slice(0,o);s.length;var l=a-s.length;s.forEach((function(e){return e.deliver()})),l>0&&oe.selfDeliver(l),t=a}return t<e&&(oe.totalWastedDeliveries+=e-t),t},selfDeliver:function(e){e<=0&&(e=0),oe.favours+=e,oe.totalDelivered+=e,oe.stored-=e,oe.stored<0&&(oe.stored=0)},removeFromVisualStorage:function(e){oe.storedTraits=oe.storedTraits.filter((function(t){return t.id!==e})),oe.updateVisualStorage()},attachQuickviews:function(){re.a.attach()},tick:function(e){if(oe.initComplete&&!e&&!oe.tickInProgress){oe.tickInProgress=!0;try{var t=w()().diff(oe.lastTickTime);oe.totalTimePlayed.add(t),oe.isMakingTraits&&oe.progressMakingTraits(t),oe.updateVisualStorage(),oe.allEmployees.forEach((function(e){oe.employees[e.type].hiredAmount>0&&e.tick(t,oe,e)})),oe.machines.tick(t),oe.updateVisualStorage(),oe.lastTickTime=w()(),oe.tickInProgress=!1}catch(i){console.error("Exception in tick",i),oe.tickInProgress=!1}}}}),se=oe,le=i(8),ce=i.n(le),ue=function(e){var t=e.upgrade;return r.a.createElement("li",{className:"is-size-7 has-text-variant-italic tooltip is-tooltip-left","data-tooltip":t.description},t.name)},Ae=function(e){var t=e.allUpgrades.filter((function(e){return e.purchased}));return r.a.createElement("div",{id:"upgradesBought"},r.a.createElement("p",null,r.a.createElement("strong",null,"Purchased ")," ",t.length," of ",e.allUpgrades.length," "),r.a.createElement("ul",{className:"box is-paddingless has-spacing-top"},t.map((function(e){return r.a.createElement(ue,{key:e.id,upgrade:e})}))))},de=function(e){Object(u.a)(i,e);var t=Object(A.a)(i);function i(){return Object(s.a)(this,i),t.apply(this,arguments)}return Object(l.a)(i,[{key:"componentDidMount",value:function(){this.props.attachQuickviews()}},{key:"render",value:function(){var e,t,i=w.a.duration(0);return this.props.totalTimePlayed&&(i=w.a.duration(.006*this.props.totalTimePlayed.asSeconds()*this.props.totalTimePlayed.asMinutes()/1.8,"years")),r.a.createElement("div",{id:"statsView",className:"quickview "+(this.props.statsActive?"is-active":"")},r.a.createElement("div",{className:"statsHeader notification is-primary has-text-centered is-flex"},r.a.createElement("span",{className:"title is-size-4"},"Statistics")),r.a.createElement("div",{className:"quickview-body"},r.a.createElement("div",{className:"quickview-block has-text-centered"},r.a.createElement("p",null,r.a.createElement("strong",null,r.a.createElement(g,{icon:"globe-europe"})," Time Played (Earth):"," "),r.a.createElement("span",null,w.a.utc(null===(e=this.props.totalTimePlayed)||void 0===e?void 0:e.asMilliseconds()).format("HH:mm:ss")," ")),r.a.createElement("p",null,r.a.createElement("strong",null,r.a.createElement(g,{icon:"heartbeat"})," Time Lived (Prelife):"," "),r.a.createElement("span",null,null===(t=i)||void 0===t?void 0:t.humanize()," ")),r.a.createElement("p",null,r.a.createElement("strong",null,"Favours Spent: ")," ",r.a.createElement(E,{amount:this.props.favoursSpent})),r.a.createElement("div",{className:"is-divider","data-content":"TRAITS"}),r.a.createElement("p",null,r.a.createElement("strong",null,"Made: ")," ",r.a.createElement(E,{amount:this.props.totalMade||0})),r.a.createElement("p",null,r.a.createElement("strong",null,"Delivered: ")," ",r.a.createElement(E,{amount:this.props.totalDelivered||0})),r.a.createElement("p",null,r.a.createElement(h,{helpKey:"wastedProduction",direction:"right"})," ",r.a.createElement("strong",null,"Wasted Production: ")," ",r.a.createElement(E,{amount:this.props.totalWastedProduction||0})),r.a.createElement("p",null,r.a.createElement(h,{helpKey:"wastedDeliveries",direction:"right"})," ",r.a.createElement("strong",null,"Empty Deliveries: ")," ",r.a.createElement(E,{amount:this.props.totalWastedDeliveries||0})),r.a.createElement("p",null,r.a.createElement("strong",null,"Production Efficiency: ")," ",(100*this.props.totalMade/(this.props.totalWastedProduction+this.props.totalMade)).toFixed(1),"%"),r.a.createElement("p",null,r.a.createElement("strong",null,"Delivery Efficiency: ")," ",(100*this.props.totalDelivered/(this.props.totalWastedDeliveries+this.props.totalDelivered)).toFixed(1),"%"),r.a.createElement("img",{alt:"",src:ce.a,style:{width:"40px"}}),r.a.createElement("div",{className:"is-divider","data-content":"AUTOMATIC"}),r.a.createElement("p",null,r.a.createElement("strong",null,"Producing ")," ",this.props.producingPerS," traits / second"," "),r.a.createElement("p",null,r.a.createElement("strong",null,"Delivering ")," ",this.props.deliveringPerS," traits / second"," "),r.a.createElement("div",{className:"is-divider","data-content":"UPGRADES"}),r.a.createElement(Ae,{allUpgrades:this.props.allUpgrades}),this.props.areMachinesUnlocked&&r.a.createElement("div",{className:"is-divider","data-content":"MACHINES"}),this.props.areMachinesUnlocked&&r.a.createElement("p",null,r.a.createElement("strong",null,"Invented: ")," ",this.props.machinesUnlockedList.length," "),this.props.areMachinesUnlocked&&r.a.createElement("p",null,r.a.createElement("strong",null,"Built: ")," ",this.props.machinesAll.map((function(e){return e.builtAmount||0})).reduce((function(e,t){return e+t}),0)))),r.a.createElement("footer",{className:"quickview-footer has-text-centered is-size-7 notification is-primary"},r.a.createElement("span",{className:"smallprint"},"Management ",this.props.managementReaction,".")))}}]),i}(r.a.Component),me=function(){var e=r.a.useState(window.innerWidth),t=Object(R.a)(e,2),i=t[0],a=t[1];return r.a.useEffect((function(){var e=function(){return a(window.innerWidth)};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),{width:i}},pe=function(e){var t=(new Date).getFullYear();me().width;return r.a.createElement("div",{className:"footer is-paddingless is-size-7-mobile "},r.a.createElement("div",{className:"notification footerContents is-dark is-marginless smallPrint content has-text-centered",style:{padding:".2rem",alignItems:"center"}},r.a.createElement("span",null,"v",e.version),r.a.createElement("span",null,r.a.createElement("button",{class:"button "+(e.patchNotesActive?"is-danger":"is-dark"),onClick:e.togglePatchNotes},"Changelog")),r.a.createElement("span",null,"\xa9 Neil Hughes 2019",2019!==t?"\u2014"+t:"","\xa0",r.a.createElement(h,{helpKey:"about"})),r.a.createElement("span",null,r.a.createElement("a",{className:"button is-light is-small",target:"_blank",rel:"noopener noreferrer",href:"https://enhughesiasm.com/sbl"},"Based on The Shop Before Life")),r.a.createElement("span",null,r.a.createElement("a",{className:"button is-rounded is-primary is-small",target:"_blank",rel:"noopener noreferrer",href:"https://www.buymeacoffee.com/enhughesiasm"},r.a.createElement("img",{style:{width:"12px"},src:"https://cdn.buymeacoffee.com/buttons/bmc-new-btn-logo.svg",alt:"Buy me a coffee"}),r.a.createElement("span",{style:{marginLeft:"10px",fontSize:"12px"}},"Buy me a coffee")))))},he={HOME:"home",FACTORY:"machines"},ge=function(e){return r.a.createElement("div",{style:{maxHeight:"4rem",minHeight:"4rem"},className:"tile is-child homeBox box production "+(e.justFailedToMake?"justFailed":"")},r.a.createElement(h,{helpKey:"production",direction:"left"}),r.a.createElement("span",{className:"subtitle is-size-6-mobile is-hidden-touch "+(e.justFailedToMake?"justFailed":"")},"PRODUCTION (Make ",e.productionPerClick," in ",e.productionTimeToMake," seconds)"),r.a.createElement("span",{className:"subtitle is-size-6-mobile is-hidden-desktop "+(e.justFailedToMake?"justFailed":"")},"PRODUCTION"),r.a.createElement("div",{className:"progressContainer"},r.a.createElement("progress",{className:"progress is-primary",value:e.productionProgressPercent,max:"100"},e.productionProgressPercent,"%")))},ye=function(e){Object(u.a)(i,e);var t=Object(A.a)(i);function i(){return Object(s.a)(this,i),t.apply(this,arguments)}return Object(l.a)(i,[{key:"render",value:function(){return r.a.createElement("div",{key:this.props.id,className:"card "+(this.props.additionalClass||" ")+(this.props.justFailed?" justFailed ":" ")},r.a.createElement("div",{className:"card-header"},r.a.createElement("span",{className:"card-header-icon is-size-7 is-size-7-mobile "+(this.props.tooltipData?"tooltip is-tooltip-right is-tooltip-info":""),"data-tooltip":this.props.tooltipData},r.a.createElement(g,{icon:this.props.icon})),r.a.createElement("span",{className:"card-header-title is-not-centered is-size-7 is-size-7-mobile"},this.props.name),this.props.cost&&r.a.createElement("span",{className:"cost is-size-7 is-size-7-mobile  has-text-weight-bold has-text-centered "+(this.props.favoursAvailable?" available":"")},r.a.createElement(E,{amount:this.props.cost,direction:"top",name:"Favours",icon:"thumbs-up"}))),r.a.createElement("div",{className:"card-content is-size-7-mobile "},this.props.power&&r.a.createElement("span",{className:"power notification is-paddingless is-size-7 is-marginless "+(this.props.power>0?" is-warning ":" is-light ")},r.a.createElement(E,{amount:Math.abs(this.props.power),prefix:this.props.power>0?"+":"-",icon:"bolt"})),r.a.createElement("span",{className:"description is-size-7"},this.props.description),r.a.createElement("div",{className:"buttonContainer"},!1,r.a.createElement("button",{className:"button mainButton is-small is-size-7-mobile "+(this.props.canPurchase?" is-success ":" is-danger ")+(this.props.buildTooltipText?" tooltip is-tooltip-right is-tooltip-multiline ":" "),style:{opacity:1},"data-tooltip":this.props.buildTooltipText,disabled:!this.props.canPurchase,onClick:this.props.onPurchaseClicked},this.props.purchaseText))),this.props.showProgressBar&&r.a.createElement("div",{className:"card-footer tooltip is-tooltip-bottom is-tooltip-info","data-tooltip":this.props.tooltipData},!this.props.paused&&r.a.createElement("progress",{style:{height:"0.7rem"},className:"progress is-marginless is-"+(this.props.progressTooFast?"success":"primary"),value:this.props.progressTooFast?null:this.props.progress,max:this.props.workRequiredToComplete},this.props.progress,"%"),this.props.paused&&r.a.createElement("progress",{style:{height:"0.7rem"},className:"progress is-marginless is-danger",value:this.props.workRequiredToComplete,max:this.props.workRequiredToComplete},this.props.workRequiredToComplete,"%"),r.a.createElement("div",{className:"pauseIcon tooltip is-tooltip-info is-tooltip-left "+(this.props.paused?"has-text-danger":"has-text-info"),style:{cursor:"pointer"},"data-tooltip":this.props.pauseText,onClick:this.props.onPauseClicked},r.a.createElement(g,{icon:this.props.pauseIcon}))))}}]),i}(r.a.Component),Ee=function(e){var t=e.employeesUnlocked,i=e.employeesCanHire,a=e.employeesGetCost,n=e.employeesHire,o=e.employees;return r.a.createElement("div",{className:"tile is-child homeBox box employees cardList"},r.a.createElement(h,{helpKey:"employees",direction:"left"}),r.a.createElement("span",{className:"subtitle is-size-6-mobile "},"EMPLOYEES"),t.map((function(e){var t=i(e.id),s=a(e.id),l=e.work.paused?"play-circle":"pause-circle",c=e.work.paused?"Order them back to work!":"Ask them to stop work, for some reason.",u=e.type===H.PRODUCTION?"Making traits by hand: ":e.type===H.DELIVERY?"Delivering traits: ":"Building machines: ",A=o[e.type];return r.a.createElement(ye,{key:e.id,id:e.id,additionalClass:"employee",icon:e.icon,name:A.hiredAmount+" "+e.name,description:e.description,favoursAvailable:t,canPurchase:t,cost:s,onPurchaseClicked:function(){return n(e.id)},justFailed:e.work.justFailed,tooltipData:u+(e.outcomePerSecond||0).toFixed(2)+" per second",purchaseText:"Hire",showProgressBar:!0,progressTooFast:e.currentTimeTaken<.9,progress:e.work.progress,workRequiredToComplete:e.workRequiredToComplete*A.workRequiredMultiplier,paused:e.work.paused,onPauseClicked:function(){return e.work.paused=!e.work.paused},pauseText:c,pauseIcon:l,currentTimeTaken:e.currentTimeTaken})})))},be=function(e){var t=e.upgradesUnlocked,i=e.upgradesAll,a=e.upgradesCanPurchase,n=e.upgradesPurchase,o=i.filter((function(e){return!e.purchased})).length;return r.a.createElement("div",{className:"tile is-child homeBox box upgrades cardList"},r.a.createElement(h,{helpKey:"upgrades",direction:"left"}),r.a.createElement("span",{className:"subtitle is-size-6-mobile "},"UPGRADES"),r.a.createElement("div",{id:"upgradeBox"},0===t.length&&o>0&&r.a.createElement("div",{className:"message"},"There's ",o," more..."),0===t.length&&0===o&&r.a.createElement("div",{className:"message"},r.a.createElement(g,{icon:"handshake"})," COMPLETE"," ",r.a.createElement(g,{icon:"glass-cheers"})),t.map((function(e){var t=a(e.id);return r.a.createElement(ye,{key:e.id,id:e.id,additionalClass:"upgrade",icon:e.icon,name:e.name,description:e.description,canPurchase:t,favoursAvailable:t,cost:e.cost,buildTooltipText:e.explanation,purchaseText:"Buy",onPurchaseClicked:function(){return n(e.id)}})}))))},fe=i(13),ke=i.n(fe),ve=i(14),Se=i.n(ve),Te=i(15),Me=i.n(Te),we=i(16),Re=i.n(we),Be=i(17),Ce=i.n(Be),Ne={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:(4-2*e)*e-1},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}},Ie=[ke.a,Se.a,Me.a,Re.a,Ce.a],Oe=function(e){Object(u.a)(i,e);var t=Object(A.a)(i);function i(e){var a;return Object(s.a)(this,i),(a=t.call(this,e)).state={image:Ie[Math.floor(Math.random()*Ie.length)],deliveryTime:w()()},a}return Object(l.a)(i,[{key:"render",value:function(){var e=this,t=40;if(this.props.delivered){var i=w()().diff(this.state.deliveryTime)/this.props.deliveryFadeOutTimeMs;t-=t*Ne.easeInQuint(i)}return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{height:t+"px"},onClick:function(){e.props.delivered||(e.setState({deliveryTime:w()()}),e.props.onClickDeliver())},className:"traitBoxEntry "+(this.props.delivered?"delivered":"")},r.a.createElement("span",{className:"imgContainer"},r.a.createElement("img",{src:this.state.image,alt:"a jar"})),r.a.createElement("span",{className:"traitName"},this.props.name),!this.props.delivered&&r.a.createElement("button",{className:"button is-success is-rounded is-small is-pulled-right",style:{marginRight:"1rem"}},"Deliver"),this.props.delivered&&r.a.createElement("button",{className:"button is-warning is-rounded is-small is-pulled-right",disabled:!0},"Delivering")))}}]),i}(r.a.Component),De=function(e){var t=e.storageCurrentSize,i=e.storageIsFull,a=e.storageTraits,n=e.storageAmount,o=e.storageMax,s=e.deliveryFadeOutTimeMs,l=Math.floor(Math.log10(t))+1;return r.a.createElement("div",{className:"tile is-child homeBox box traitBox "+(i?" full":"")},r.a.createElement(h,{helpKey:"storage",direction:"left"}),r.a.createElement("span",{className:"subtitle is-size-6-mobile "+(i?" full":"")},"Storage (",n.toLocaleString().padStart(l,"0")," / ",t.toLocaleString(),") ",i?" - Full":""),a&&a.map((function(e){return r.a.createElement(Oe,{key:e.id,name:e.name,delivered:e.delivered,onClickDeliver:e.deliver,deliveryFadeOutTimeMs:s})})),(n-o>1||t>=2e3)&&r.a.createElement("div",{className:"has-text-centered is-size-7",style:{marginTop:".7rem"}},r.a.createElement("em",null,"(& ",r.a.createElement(E,{amount:Math.max(n-o,0)})," more...)")))},Pe=function(e){Object(u.a)(i,e);var t=Object(A.a)(i);function i(){return Object(s.a)(this,i),t.apply(this,arguments)}return Object(l.a)(i,[{key:"render",value:function(){return r.a.createElement("div",{className:"tile is-ancestor"},r.a.createElement("div",{className:"tile is-parent is-7 is-6-hd is-vertical"},r.a.createElement(ge,{justFailedToMake:this.props.justFailedProduction,productionPerClick:this.props.productionPerClick,productionTimeToMake:this.props.productionTimeToMake,productionProgressPercent:this.props.productionProgressPercent}),this.props.canShowEmployees&&r.a.createElement(Ee,{employeesUnlocked:this.props.employeesUnlocked,employees:this.props.employees,employeesCanHire:this.props.employeesCanHire,employeesGetCost:this.props.employeesGetCost,employeesHire:this.props.employeesHire}),this.props.canShowUpgrades&&r.a.createElement(be,{upgradesUnlocked:this.props.upgradesUnlocked,upgradesAll:this.props.upgradesAll,upgradesCanPurchase:this.props.upgradesCanPurchase,upgradesPurchase:this.props.upgradesPurchase})),r.a.createElement("div",{className:"tile is-parent is-5 is-6-hd"},r.a.createElement(De,{storageCurrentSize:this.props.storageCurrentSize,storageIsFull:this.props.storageIsFull,storageTraits:this.props.storageTraits,storageAmount:this.props.storageAmount,storageMax:this.props.storageMax,deliveryFadeOutTimeMs:this.props.deliveryFadeOutTimeMs})))}}]),i}(r.a.Component),xe=function(e){return r.a.createElement("div",{className:"outputIndicator "+e.additionalClassName+" notification is-size-7 is-paddingless is-marginless is-"+e.notificationType},r.a.createElement(g,{icon:"arrow-down"}),"\xa0",e.text,"\xa0",e.amountText&&r.a.createElement("span",null,e.amountText),!e.amountText&&r.a.createElement(E,{amount:e.amount}),"\xa0",e.icon&&r.a.createElement(g,{icon:e.icon}),!e.icon&&r.a.createElement("img",{alt:"",src:m.a,width:"20"}),"\xa0",e.suffixText)},Ue=function(e){var t=e.buildings.map((function(e){return e.power*e.builtAmount||0})).reduce((function(e,t){return e+t}),0),i=-1*(e.totalFactoryPower-t),a=[];return e.buildings.forEach((function(e,t){for(var r=0;r<e.builtAmount;r++)e.x=t,i>0?(e.isUsed=!0,e.amountUsed=Math.min(i,e.power)):(e.isUsed=!1,e.amountUsed=0),i-=e.power,a.push(Object(I.a)({},e))})),r.a.createElement("div",{id:"powerBuildings",className:"visualBuildings"},a.map((function(e,t){var i=e.name+(e.amountUsed>0?" - Using "+e.amountUsed+" of "+e.power:" - "+e.power+" Unused");return r.a.createElement("span",{key:e.x*t+t,className:"powerBuilding building tooltip is-tooltip-left is-tooltip-"+(e.isUsed?"warning isUsed":"danger"),"data-tooltip":i},r.a.createElement(g,{icon:e.icon}))})),r.a.createElement(xe,{text:"Generating",icon:"bolt",additionalClassName:"totalPowerOutput",notificationType:e.totalFactoryPower>0?"success":"warning",amount:t,suffixText:" - "+e.totalFactoryPower+" unused"}))},Fe=function(e,t){return e<0?0:e-t<=0?e:Math.max(Math.min(t,e-t),0)},Le=function(e){var t=e.storageNaturalSize,i=e.storageMachineSize,a=e.storageAmount,n=e.storageIsFull,o=e.machineStorageMultiplier,s=t+i,l=a,c=[],u=Math.floor(Math.log10(s))+1;c.push({id:0,name:"Boxes & things",icon:"box",size:t,storing:Fe(l,t)}),c[0].isFull=c[0].size===c[0].storing,l-=t;var A=1;return e.buildings.forEach((function(e){for(var t=0;t<e.builtAmount;t++){var i={id:++A,name:e.name,icon:e.icon,size:e.storage()*o,storing:Fe(l,e.storage()*o)};i.isFull=i.size===i.storing,l-=e.storage(),c.push(i)}})),r.a.createElement("div",{id:"storageBuildings",className:"visualBuildings"},c.map((function(e){return r.a.createElement("span",{className:"storageBuilding building tooltip is-tooltip-left is-tooltip-"+(e.isFull?"warning isFull":"success"),key:e.id,"data-tooltip":e.name+" ("+(e.isFull?e.size:e.storing)+"/"+e.size+")"},r.a.createElement(g,{icon:e.icon}))})),r.a.createElement(xe,{text:"Storing",additionalClassName:"totalStorageOutput",notificationType:n?"danger":"success",amountText:a.toLocaleString().padStart(u,"0"),suffixText:" / "+(t+i).toLocaleString()}))},Qe=i(25),We=function(e){var t=e.manualWorkers,i=t.outcomePerSecond,a=e.buildings.map((function(e){return e.traitsOutputPerSecond})).reduce((function(e,t){return e+t}),0),n=i+a,o=i<100?3:0,s=a<100?3:0,l=n<100?3:0;return r.a.createElement("div",{id:"prodBuildings",className:"visualBuildings"},r.a.createElement("span",{style:{cursor:"pointer"},onClick:function(){return e.onReallocateProdWorker(J.MANUAL)},className:"building manualWorker tooltip is-tooltip-left is-tooltip-"+(i>0?"success working":"warning notWorking"),"data-tooltip":"Manual Production - "+t.allocation.manual+" workers - "+i.toFixed(o)+"/s"},r.a.createElement(g,{icon:t.icon})),e.buildings.map((function(t,i){return Object(Qe.a)(Array(t.builtAmount)).map((function(a,n){return r.a.createElement("span",{key:i*n+n,className:"prodBuilding "+(n<t.workers?"buildingAllocated":"buildingUnallocated")},r.a.createElement("span",{style:{cursor:"pointer"},onClick:function(){return e.onReallocateProdWorker(J.MACHINE)},className:"building tooltip is-tooltip-left is-tooltip-"+(n<t.workers?"success":"danger"),"data-tooltip":t.name+" - "+(n<t.workers?(1*t.traitsOutputPerSecond/t.workers).toFixed(s)+"/s":" 0/s - No worker!")},r.a.createElement(g,{icon:t.icon})))}))})),r.a.createElement(xe,{text:"Producing",additionalClassName:"totalProdOutput",notificationType:n>0?"success":"danger",amount:Number.parseFloat((i+a||0).toFixed(l)),suffixText:"per second"}))},He=0,ze=.66,Ge=.95,Ve=function(e){var t=e.deliverers,i=e.getOutcomePerSecond,a=e.builtDeliveryBuildings,n=(null===a||void 0===a?void 0:a.filter((function(e){return e.type===q.LOADER})).length)>0,o={};n&&(o=a.filter((function(e){return e.type===q.LOADER}))[0]);var s=i(H.DELIVERY),l=1*s/i(H.PRODUCTION),c=He;l>ze&&(c=ze),l>Ge&&(c=Ge);var u=c===He?"danger":c===ze?"warning":"success",A=s<100?2:0;return r.a.createElement("div",{id:"deliveryPeople",className:"visualBuildings"},n&&r.a.createElement("span",{className:"building has-text-success loaders tooltip is-tooltip-left is-tooltip-success","data-tooltip":o.builtAmount+" Loaders - Delivery speed x"+o.totalDeliveryMultiplier().toFixed(2)},o.builtAmount," ",r.a.createElement(g,{icon:o.icon})),r.a.createElement("span",{style:{animationDuration:t.deliveryAnimationDuration+"s"},className:"building delivery tooltip is-tooltip-multiline is-tooltip-top is-tooltip-"+u+" is-delivery-"+u,"data-tooltip":t.hiredAmount+" "+t.name+" making "+s.toFixed(A)+" deliveries per second"},r.a.createElement(g,{icon:t.icon})),r.a.createElement(xe,{text:"Delivering",additionalClassName:"totalDeliveryOutput",notificationType:u,amount:Number.parseFloat(s.toFixed(A)),suffixText:"per second"}))};var je=function(e){var t=function(e){switch(e){case 0:case 1:return"";case 2:case 3:return Math.pow(10,e);case 4:case 5:return Math.pow(10,e-3)+" thousand";case 6:case 7:case 8:return Math.pow(10,e-6)+" million";case 9:case 10:case 11:return Math.pow(10,e-9)+" billion";case 12:case 13:case 14:return Math.pow(10,e-12)+" trillion";case 15:case 16:case 17:return Math.pow(10,e-15)+" quadrillion";default:return" zillions"}}(Math.floor(Math.log10(e.amount)));return r.a.createElement("div",{id:"currentJarOutput",className:"is-size-6"},e.jars.length>0&&r.a.createElement("span",{className:"appearingJar",style:{animationDuration:e.jars[0].lifespan+"ms"}},r.a.createElement("img",{alt:"",src:e.jars[0].jar}),"\xa0",e.jars[0].name," ",t&&r.a.createElement("span",null,"x ",t)))},Ye=[ke.a,ce.a,Se.a,ce.a,Me.a,ce.a,Re.a,ce.a,Ce.a,ce.a];var Ke=function(e){Object(u.a)(i,e);var t=Object(A.a)(i);function i(e){var a;Object(s.a)(this,i);return(a=t.call(this,e)).state={jars:[{name:L(),born:w()(),jar:Ye[Math.floor(Math.random()*Ye.length)],lifespan:5e4}],jarLifespanMilliseconds:5e4},a.tick=a.tick.bind(Object(c.a)(a)),a}return Object(l.a)(i,[{key:"componentDidMount",value:function(){var e=this;this.timerID=setInterval((function(){return e.tick()}),500)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerID)}},{key:"tick",value:function(){if(this.state.jars.length<1){var e={name:L(),born:w()(),jar:Ye[Math.floor(Math.random()*Ye.length)],lifespan:this.state.jarLifespanMilliseconds};this.setState({jars:[e]})}else{w()().diff(this.state.jars[0].born)>this.state.jarLifespanMilliseconds&&this.setState({jars:[]});var t=this.props.builtProdBuildings.map((function(e){return e.traitsOutputPerSecond})).reduce((function(e,t){return e+t}),0),i=(r=8e3)+(t-(a=0))*(500-r)/(1e6-a);i=Math.min(8e3,i),i=Math.max(500,i),this.setState({jarLifespanMilliseconds:i})}var a,r}},{key:"render",value:function(){var e=this.props,t=e.manualWorkers,i=e.builtProdBuildings,a=e.builtPowerBuildings,n=e.builtStorageBuildings,o=e.powerTotal,s=t.outcomePerSecond+i.map((function(e){return e.traitsOutputPerSecond})).reduce((function(e,t){return e+t}),0);return r.a.createElement("div",{id:"factoryVisual",className:"tile is-child box homeBox"},r.a.createElement("span",{className:"subtitle"},"Factory"),r.a.createElement(h,{helpKey:"factoryVisual",direction:"left"}),a.length>0&&r.a.createElement("div",{id:"allBuildings"},r.a.createElement(Ue,{buildings:a,totalFactoryPower:o}),r.a.createElement(h,{helpKey:"prodBuildings"}),r.a.createElement(We,{storageIsFull:this.props.storageIsFull,manualWorkers:t,buildings:i,onReallocateProdWorker:this.props.onReallocateProdWorker}),r.a.createElement(Le,{buildings:n,storageNaturalSize:this.props.storageNaturalSize,storageMachineSize:this.props.storageMachineSize,storageIsFull:this.props.storageIsFull,storageAmount:this.props.storageAmount,machineStorageMultiplier:this.props.machineStorageMultiplier}),r.a.createElement(Ve,{deliverers:this.props.deliverers,getOutcomePerSecond:this.props.getOutcomePerSecond,builtDeliveryBuildings:this.props.builtDeliveryBuildings}),s>0&&r.a.createElement(je,{jars:this.state.jars,amount:s}),r.a.createElement("div",{className:"is-divider","data-content":"THE SHOP BEFORE LIFE"})))}}]),i}(r.a.Component),qe=function(e){var t,i=e.machinesAll,a=e.machinesUnlockedList,n=e.machinesGetCost,o=e.machinesAddToQueue,s=e.machinesSell,l=e.machinesCanBuild,c=(t=function(e){return e.role},a.reduce((function(e,i,a,r){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:t(i);return(e[n]||(e[n]=[])).push(i),e}),{})),u=[];for(var A in c)u.push({role:A,machines:c[A]});return r.a.createElement("div",{className:"tile is-child homeBox box has-text-centered is-paddingless cardList"},r.a.createElement(h,{helpKey:"machines",direction:"left"}),r.a.createElement("div",{className:"subtitle is-size-6-mobile",style:{padding:"0 1.25rem"}},"MACHINES (INVENTED ",a.length," /"," ",i.length-1,")"),u.map((function(e){return r.a.createElement("div",{key:e.role},r.a.createElement("div",{className:"is-divider","data-content":e.role.toUpperCase()}),e.machines.map((function(e){var t=l(e),i="";t===ie.NOPOWER?i="Not enough power.":t===ie.NOFAVOURS&&(i="Not enough favours.");var a=n(e.type);return r.a.createElement(ye,{key:e.id,id:e.id,additionalClass:"machine",icon:e.icon,name:e.name+(e.builtAmount>0?" ("+e.builtAmount+")":""),description:e.description,favoursAvailable:t!==ie.NOFAVOURS,canPurchase:t===ie.SUCCESS,cost:a,onPurchaseClicked:function(){return o(e,a)},sellText:e.builtAmount>0?"Sell ("+e.builtAmount+")":"",onSellClicked:function(){return s(e)},justFailed:e.justFailed,tooltipData:(e.outcomePerSecond||0).toFixed(2)+"/s",purchaseText:"Build",power:e.power,buildTooltipText:i})})))})))},Je=function(e){var t=e.buildingCurrentMachine,i=t.type!==q.NONE;return r.a.createElement("div",{className:"buildProgress notification is-light"},i&&r.a.createElement("span",{className:"is-size-7"},"Building"," ",r.a.createElement("span",{className:"has-text-weight-bold"},t.name)," ","in"," ",e.builders.currentTimeTaken?e.builders.currentTimeTaken.toFixed(2):"?"," ","seconds"),!i&&r.a.createElement("span",{className:"is-size-7"},r.a.createElement(g,{icon:"frown"})," Nothing being built"),r.a.createElement("progress",{className:"progress is-primary",value:e.builders.work.progress,max:e.builders.workRequiredToComplete},e.builders.workRequiredToComplete,"%"))},_e=function(e){Object(u.a)(i,e);var t=Object(A.a)(i);function i(){return Object(s.a)(this,i),t.apply(this,arguments)}return Object(l.a)(i,[{key:"render",value:function(){return r.a.createElement("div",{className:"statusEntry notification is-paddingless is-"+this.props.notificationType+(this.props.additionalClass||" ")},r.a.createElement(g,{icon:this.props.icon}),r.a.createElement("span",{className:"is-size-7 has-text-weight-bold"},this.props.text),r.a.createElement(h,{helpKey:this.props.helpKey,direction:"right"}),this.props.showProgressBar&&r.a.createElement("div",{className:"card-footer tooltip is-tooltip-bottom is-tooltip-info","data-tooltip":(this.props.currentTimeTaken||0).toFixed(2)+" seconds"},r.a.createElement("progress",{className:"progress is-marginless is-primary",value:this.props.progress,max:this.props.workRequiredToComplete},this.props.workRequiredToComplete,"%")))}}]),i}(r.a.Component),Ze=function(e){return r.a.createElement("div",{className:"tile is-parent has-text-centered is-marginless is-paddingless",key:e.index},r.a.createElement("div",{style:{marginLeft:".7rem !important"},className:"tile is-child is-8 is-marginless is-paddingless is-size-7"},e.index+1,". ",e.entry.name),r.a.createElement("div",{className:"tile is-child is-2 is-marginless is-paddingless is-size-7"},e.entry.cost),r.a.createElement("div",{className:"tile is-child is-2 is-marginless is-paddingless is-size-7"},r.a.createElement("div",{style:{cursor:"pointer"},onClick:function(){return e.onCancelMachineFromBuildQueue(e.entry,e.index)},className:"tooltip is-tooltip-left","data-tooltip":"Refunds "+e.buildingGetCancellationRefundAmount(e.entry.cost)+" of "+e.entry.cost+" Favours"},r.a.createElement(g,{icon:"times-circle"}))))},Xe=function(e){var t=e.buildQueue;return r.a.createElement("div",{className:"tile is-child buildqueue box"},t.length>0&&r.a.createElement("div",{className:"tile is-ancestor is-vertical queue"},r.a.createElement("div",{className:"tile is-parent has-text-centered has-text-weight-bold is-paddingless"},r.a.createElement("div",{className:"tile is-child is-8 is-size-7"}),r.a.createElement("div",{className:"tile is-child is-2 is-size-7"},"Cost"),r.a.createElement("div",{className:"tile is-child is-2 is-size-7"},"Cancel")),t.slice(0,3).map((function(t,i){return r.a.createElement(Ze,{key:i,entry:t,index:i,onCancelMachineFromBuildQueue:e.onCancelMachineFromBuildQueue,buildingGetCancellationRefundAmount:e.buildingGetCancellationRefundAmount})})),t.length>3&&r.a.createElement("div",{className:"has-text-weight-bold has-text-centered is-size-7"}," (",t.length-3," more...)")))},$e=function(e){var t=e.getOutcomePerSecond(H.PRODUCTION),i=e.getOutcomePerSecond(H.DELIVERY),a=e.flexibleMachinerySetting!==e.flexibleMachineryAbsMax,n=e.flexibleMachinerySetting!==-1*e.flexibleMachineryAbsMax;return r.a.createElement("div",{className:"tile is-parent is-flex is-paddingless is-margingless has-text-centered notification is-light",style:{alignItems:"center",justifyContent:"center",flexDirection:"column"}},r.a.createElement("h3",{className:"has-text-centered has-text-weight-bold",style:{padding:".7rem"}},"Flexible Machinery"),r.a.createElement(h,{helpKey:"flexibleMachinery"}),r.a.createElement("div",{className:"level is-flex machineryCont",style:{alignItems:"center",justifyContent:"center"}},r.a.createElement("div",{className:"level-item is-flex",style:{alignItems:"center",justifyContent:"center",flexDirection:"column"}},r.a.createElement("div",{className:"level-item"},r.a.createElement("p",null,"Producing ",r.a.createElement(E,{amount:t})," ","/ s")),r.a.createElement("div",{className:"level-item"},r.a.createElement("button",{className:"button is-small is-rounded is-"+(n?"success":"danger"),disabled:!n,onClick:function(){return e.onFlexibleMachineryUpdate({type:"production",current:e.flexibleMachinerySetting,absMax:e.flexibleMachineryAbsMax})}},"More Production"))),r.a.createElement("div",{className:"level-item",style:{padding:"0 1rem"}},r.a.createElement("input",{className:"slider is-medium is-circle is-warning is-success",step:"1",min:-1*e.flexibleMachineryAbsMax,max:e.flexibleMachineryAbsMax,value:e.flexibleMachinerySetting,type:"range",disabled:!0})),r.a.createElement("div",{className:"level-item is-flex",style:{alignItems:"center",justifyContent:"center",flexDirection:"column"}},r.a.createElement("div",{className:"level-item"},r.a.createElement("p",null,"Delivery ",r.a.createElement(E,{amount:i})," ","/ s")),r.a.createElement("div",{className:"level-item"},r.a.createElement("button",{className:"button is-small is-rounded is-"+(a?"success":"danger"),disabled:!a,onClick:function(){return e.onFlexibleMachineryUpdate({type:"delivery",current:e.flexibleMachinerySetting,absMax:e.flexibleMachineryAbsMax})}},"More Delivery")))))},et=function(e){var t=e.builders,i=e.flexibleMachinerySetting,a=e.flexibleMachineryUnlocked,n=e.onFlexibleMachineryUpdate;return r.a.createElement("div",{id:"factoryStatus",className:"tile is-child is-12 is-size-7 homeBox box status has-text-centered"},r.a.createElement("div",{className:"subtitle is-size-6-mobile"},"BUILDING"),r.a.createElement("div",{className:"tile is-parent is-paddingless is-margingless"},r.a.createElement("div",{className:"tile is-child is-paddingless is-marginless"},r.a.createElement(_e,{text:(t.hiredAmount||0)+" "+t.name,icon:"hard-hat",helpKey:"builders",notificationType:t.hiredAmount>0?"light":"danger"}),r.a.createElement(Je,{builders:t,buildingCurrentMachine:e.buildingCurrentMachine})),r.a.createElement(Xe,{buildQueue:e.buildQueue,onCancelMachineFromBuildQueue:e.onCancelMachineFromBuildQueue,buildingGetCancellationRefundAmount:e.buildingGetCancellationRefundAmount})),a&&r.a.createElement($e,{flexibleMachinerySetting:i,flexibleMachineryAbsMax:e.flexibleMachineryAbsMax,onFlexibleMachineryUpdate:n,getOutcomePerSecond:e.getOutcomePerSecond}))},tt=function(e){var t=e.builders,i=e.powerCommitted,a=e.manualWorkers,n=e.employees,o=e.deliverers,s=n.builder.hiredAmount,l=n.delivery.hiredAmount;return t.hiredAmount=s,o.hiredAmount=l,r.a.createElement("div",{id:"factoryTab",className:"tile is-ancestor "},r.a.createElement("div",{className:"tile is-7 is-vertical"},r.a.createElement("div",{className:"tile is-parent"},r.a.createElement(et,{builders:t,committedPower:i,buildingCurrentMachine:e.buildingCurrentMachine,buildQueue:e.buildQueue,onCancelMachineFromBuildQueue:e.onCancelMachineFromBuildQueue,buildingGetCancellationRefundAmount:e.buildingGetCancellationRefundAmount,flexibleMachinerySetting:e.flexibleMachinerySetting,flexibleMachineryAbsMax:e.flexibleMachineryAbsMax,flexibleMachineryUnlocked:e.flexibleMachineryUnlocked,onFlexibleMachineryUpdate:e.onFlexibleMachineryUpdate,getOutcomePerSecond:e.getOutcomePerSecond})),r.a.createElement("div",{className:"tile is-parent"},s>0&&r.a.createElement(qe,{machinesAll:e.machinesAll,machinesUnlockedList:e.machinesUnlockedList,machinesGetCost:e.machinesGetCost,machinesAddToQueue:e.machinesAddToQueue,machinesSell:e.machinesSell,machinesCanBuild:e.machinesCanBuild}))),r.a.createElement("div",{className:"tile is-parent is-5"},s>0&&r.a.createElement(Ke,{manualWorkers:a,deliverers:o,getOutcomePerSecond:e.getOutcomePerSecond,builtProdBuildings:e.builtProdBuildings,builtDeliveryBuildings:e.builtDeliveryBuildings,builtPowerBuildings:e.builtPowerBuildings,builtStorageBuildings:e.builtStorageBuildings,powerTotal:e.powerTotal,storageAmount:e.storageAmount,storageIsFull:e.storageIsFull,storageNaturalSize:e.storageNaturalSize,storageMachineSize:e.storageMachineSize,machineStorageMultiplier:e.machineStorageMultiplier,onReallocateProdWorker:e.onReallocateProdWorker})))},it=function(e){return r.a.createElement("main",{style:{paddingBottom:"3rem"}},e.showPyro&&r.a.createElement("div",{className:"pyro is-fixed-top"},r.a.createElement("div",{className:"before"}),r.a.createElement("div",{className:"after"})),r.a.createElement("div",{className:"section"},r.a.createElement("div",{className:"columns"},r.a.createElement("div",{id:"complexGame",className:"column has-spacing-top"},e.areMachinesUnlocked&&e.employees.builder.hiredAmount>0&&r.a.createElement("span",null,r.a.createElement("div",{className:"tabs is-centered is-toggle is-toggle-rounded"},r.a.createElement("ul",null,r.a.createElement("li",{className:"is-size-7-mobile "+(e.activeTab===he.HOME?" is-active":"")},r.a.createElement("a",{onClick:function(){return e.onSetActiveTab(he.HOME)}},"Home")),r.a.createElement("li",{className:"is-size-7-mobile "+(e.activeTab===he.FACTORY?" is-active":"")},r.a.createElement("a",{onClick:function(){return e.onSetActiveTab(he.FACTORY)}},"Factory"))))),e.activeTab===he.HOME&&r.a.createElement(Pe,{productionPerClick:e.productionPerClick,productionTimeToMake:e.productionTimeToMake,productionProgressPercent:e.productionProgressPercent,canShowEmployees:e.canShowEmployees,employees:e.employees,employeesUnlocked:e.employeesUnlocked,employeesCanHire:e.employeesCanHire,employeesGetCost:e.employeesGetCost,employeesHire:e.employeesHire,canShowUpgrades:e.canShowUpgrades,upgradesUnlocked:e.upgradesUnlocked,upgradesAll:e.upgradesAll,upgradesCanPurchase:e.upgradesCanPurchase,upgradesPurchase:e.upgradesPurchase,deliveryFadeOutTimeMs:e.deliveryFadeOutTimeMs,storageCurrentSize:e.storageCurrentSize,storageIsFull:e.storageIsFull,storageTraits:e.storageTraits,storageAmount:e.storageAmount,storageMax:e.storageMax}),e.activeTab===he.FACTORY&&r.a.createElement(tt,{employees:e.employees,manualWorkers:e.manualWorkers,deliverers:e.deliverers,builders:e.builders,getOutcomePerSecond:e.getOutcomePerSecond,powerCommitted:e.powerCommitted,powerTotal:e.powerTotal,storageAmount:e.storageAmount,storageIsFull:e.storageIsFull,storageNaturalSize:e.storageNaturalSize,storageMachineSize:e.storageMachineSize,machineStorageMultiplier:e.machineStorageMultiplier,buildQueue:e.buildQueue,buildingCurrentMachine:e.buildingCurrentMachine,onCancelMachineFromBuildQueue:e.onCancelMachineFromBuildQueue,buildingGetCancellationRefundAmount:e.buildingGetCancellationRefundAmount,builtProdBuildings:e.builtProdBuildings,builtDeliveryBuildings:e.builtDeliveryBuildings,builtPowerBuildings:e.builtPowerBuildings,builtStorageBuildings:e.builtStorageBuildings,machinesAll:e.machinesAll,machinesUnlockedList:e.machinesUnlockedList,machinesGetCost:e.machinesGetCost,machinesAddToQueue:e.machinesAddToQueue,machinesSell:e.machinesSell,machinesCanBuild:e.machinesCanBuild,flexibleMachinerySetting:e.flexibleMachinerySetting,flexibleMachineryUnlocked:e.flexibleMachineryUnlocked,onFlexibleMachineryUpdate:e.onFlexibleMachineryUpdate,flexibleMachineryAbsMax:e.flexibleMachineryAbsMax,onReallocateProdWorker:e.onReallocateProdWorker})))))},at=function(e){Object(u.a)(i,e);var t=Object(A.a)(i);function i(){return Object(s.a)(this,i),t.apply(this,arguments)}return Object(l.a)(i,[{key:"componentDidMount",value:function(){this.props.attachQuickviews()}},{key:"render",value:function(){return r.a.createElement("div",{id:"quickviewPatchNotes",className:"patchNotes quickview"+(this.props.patchNotesActive?" is-active":"")},r.a.createElement("header",{className:"quickview-header notification is-danger"},r.a.createElement("p",{className:"title"},"things have changed in the prelife..."),r.a.createElement("span",{className:"delete","data-dismiss":"quickview",onClick:this.props.onTogglePatchNotes})),r.a.createElement("div",{className:"quickview-body"},r.a.createElement("div",{className:"quickview-block"},r.a.createElement("p",{className:"subtitle"},"v0.9.3 - 10 May 2020"),r.a.createElement("ul",null,r.a.createElement("li",null,"improved mobile CSS - still very messy but now at least playable!")),r.a.createElement("p",{className:"subtitle"},"v0.9.2 - 08 May 2020"),r.a.createElement("ul",null,r.a.createElement("li",null,"moved host")),r.a.createElement("p",{className:"subtitle"},"v0.9.1 - 14 Nov 2019"),r.a.createElement("ul",null,r.a.createElement("li",null,"tweaked the storage system to better handle weird edge cases"),r.a.createElement("li",null,"accepted that all human creations are ultimately imperfect")),r.a.createElement("p",{className:"subtitle"},"v0.9.0 - 13 Nov 2019"),r.a.createElement("ul",null,r.a.createElement("li",null,"fixed yet more ",r.a.createElement("s",null,"idiotic")," subtle bugs allowing traits to be double-delivered or missed"),r.a.createElement("li",null,"added thousand separators in various places where numbers were getting difficult to read"),r.a.createElement("li",null,r.a.createElement("strong",null,"smoother delivery animations"),"\u2014no more buttons jumping about annoyingly")),r.a.createElement("p",{className:"subtitle"},"v0.2.2 - 1 Nov 2019"),r.a.createElement("ul",null,r.a.createElement("li",null,"added dividers between machine types in the machines box for visual clarity"),r.a.createElement("li",null,"added ",r.a.createElement("strong",null,"flexible machinery")," ","upgrade\u2014moves capacity between production/delivery as required")),r.a.createElement("p",{className:"subtitle"},"v0.2.1 - 28 Oct 2019"),r.a.createElement("ul",null,r.a.createElement("li",null,"removed obsolete ability to sell machines"),r.a.createElement("li",null,"minor bugfixes")),r.a.createElement("hr",null),r.a.createElement("p",{className:"subtitle"},"v0.2.0 - 26 Oct 2019"),r.a.createElement("ul",null,r.a.createElement("li",null,"added simple changelog"),r.a.createElement("li",null,"massive refactoring to support"," ",r.a.createElement("strong",null,"save/load")," and also"," ",r.a.createElement("strong",null,"fix page reloading exploit")," to prevent duplicating upgrades"),r.a.createElement("li",null,"employee progress bars are now indeterminate when producing super fast, to"," ",r.a.createElement("strong",null,"reduce unnecessary strobe effect")),r.a.createElement("li",null,"storage upgrades now end in a round number for extra satisfaction"),r.a.createElement("li",null,"'e' homepage link now opens in a new window to prevent accidental loss of progress"),r.a.createElement("li",null,"buffed delivery upgrades 'stackable crates' and 'invent cranes'"),r.a.createElement("li",null,"industrial warehouse now has the actual intended size"),r.a.createElement("li",null,"polished machine descriptions & displays"),r.a.createElement("li",null,"added tooltips to explain the functionality of all upgrades as you buy them"),r.a.createElement("li",null,"improved stats screen; added"," ",r.a.createElement("strong",null,"accurate playtimer (in Earth & prelife time)"),"; efficiency stats; machine stats"),r.a.createElement("li",null,r.a.createElement("strong",null,"rebalancing:")," tweaked values for all production machines and added"," ",r.a.createElement("strong",null,"Loaders"),"\u2014exponentially powerful delivery machines. Maintaining balance between production/delivery should now be smoother and more in the player's control."),r.a.createElement("li",null,r.a.createElement("strong",null,"rebalancing:")," tweaked all early game values and upgrades to reduce waiting time early on"),r.a.createElement("li",null,r.a.createElement("strong",null,"rebalancing:")," added extra late game upgrades to further smooth progression"),r.a.createElement("li",null,"fixed subtle bug preventing some traits from appearing properly in storage"),r.a.createElement("li",null,"fixed *other* subtle bug allowing small numbers of traits to be double-delivered")))))}}]),i}(r.a.Component),rt={overallWorkMultiplier:1.2,totalTimePlayed:w.a.duration(0),costScalingExponent:1.45,costScalingBaseMultiplier:1.1,stored:0,storageMax:1e12,isMakingTraits:!1,totalMade:0,totalDelivered:0,totalWastedProduction:0,totalWastedDeliveries:0,flexibleMachinerySetting:0,favours:0,favoursSpent:0,employees:{production:{hiredAmount:0,outputMultiplier:1,costMultiplier:1,workPerSecondMultiplier:1,workRequiredMultiplier:1},delivery:{hiredAmount:0,outputMultiplier:1,costMultiplier:1,workPerSecondMultiplier:1,workRequiredMultiplier:1},builder:{hiredAmount:0,outputMultiplier:1,costMultiplier:1,workPerSecondMultiplier:1,workRequiredMultiplier:1}},upgradesPurchased:[],machinesBuilt:{}},nt=["impatient","irritable","anxious","testy","fretful"],ot=["intrigued","fascinated","captivated","enthralled","charmed","curious"],st=["impressed","amazed","struck","excited","dazzled"],lt=["absent","missing","distracted","preoccupied","oblivious"],ct=["tiring","weary","losing interest","becoming bored"],ut=["silent"],At=["extremely ","very ","rather ","highly ","particularly ","remarkably ","","","","",""],dt=["oddly ","unusually ","suspiciously ","weirdly ","confusingly ","curiously ","","","","",""];function mt(e){var t=Math.floor(Math.log10(e)),i=" are ",a=[],r="";return t<3?(a=nt,r=At[Math.floor(Math.random()*At.length)]):t<6?a=ot:t<9?(a=st,r=At[Math.floor(Math.random()*At.length)]):t<12?(a=lt,r=dt[Math.floor(Math.random()*At.length)]):t<15?(r=dt[Math.floor(Math.random()*At.length)],a=ct):a=ut,i+=r,i+=a[Math.floor(Math.random()*a.length)]}var pt=function(e){Object(u.a)(i,e);var t=Object(A.a)(i);function i(e){var a;return Object(s.a)(this,i),(a=t.call(this,e)).activatePyro=function(){a.setState({showPyro:!0,pyroStart:w()()}),window.scrollTo(0,0)},a.purchaseUpgrade=function(e){a.state.traitsState.purchaseUpgrade(e,a.activatePyro)},a.onFlexibleMachineryUpdate=function(e){if(e)switch(e.type){case"production":se.flexibleMachinerySetting>-1*se.flexibleMachineryAbsMax&&se.flexibleMachinerySetting--;break;case"delivery":se.flexibleMachinerySetting<se.flexibleMachineryAbsMax&&se.flexibleMachinerySetting++;break;default:console.error("unknown flexible machinery: ",e)}},a.updateState=function(){var e=a.state.showPyro;a.state.showPyro&&(w()().diff(a.state.pyroStart)>a.state.pyroLength&&(e=!1));a.setState({showPyro:e,canShowEmployees:a.state.traitsState.getUnlockedEmployees().length>0,canShowUpgrades:a.state.traitsState.totalDelivered>=1,bottleNeckedPerSecond:a.state.traitsState.getBottleneckedPerSecond(),favours:a.state.traitsState.favours,totalStorageSize:a.state.traitsState.currentStorageSize(),canMakeTraits:a.state.traitsState.canMakeTraits(),builtDeliveryBuildings:a.state.traitsState.machines.getBuiltByRole(_.DELIVERY),builtProdBuildings:a.state.traitsState.machines.getBuiltByRole(_.PRODUCTION),builtPowerBuildings:a.state.traitsState.machines.getBuiltByRole(_.POWER).sort((function(e){return e.power})).reverse(),builtStorageBuildings:a.state.traitsState.machines.getBuiltByRole(_.STORAGE),manualWorkers:a.state.traitsState.getEmployeeByType(H.PRODUCTION),deliverers:a.state.traitsState.getEmployeeByType(H.DELIVERY),builders:a.state.traitsState.getEmployeeByType(H.BUILDER),productionTimeToMake:Number.parseFloat(a.state.traitsState.getTimeToMake().toFixed(2)),storageIsFull:a.state.traitsState.isStorageFull(),storageCurrentSize:a.state.traitsState.currentStorageSize(),storageNaturalSize:a.state.traitsState.getNaturalStorageSize(),storageMachineSize:a.state.traitsState.machines.getMachineStorageSize(),employeesUnlocked:a.state.traitsState.getUnlockedEmployees(),upgradesUnlocked:a.state.traitsState.getUnlockedUpgrades(),powerCommitted:a.state.traitsState.machines.totalPower(!0)-a.state.traitsState.machines.totalPower(!1),powerTotal:a.state.traitsState.machines.totalPower(),buildingCurrentMachine:a.state.traitsState.getCurrentlyBuildingMachine(),machinesUnlockedList:a.state.traitsState.getUnlockedMachines(),totalTimePlayed:a.state.traitsState.totalTimePlayed,flexibleMachineryUnlocked:a.state.traitsState.flexibleMachineryUnlocked,flexibleMachinerySetting:a.state.traitsState.flexibleMachinerySetting,flexibleMachineryAbsMax:a.state.traitsState.flexibleMachineryAbsMax,machineStorageMultiplier:a.state.traitsState.machineStorageMultiplier})},a.setActiveTab=function(e){return a.setState({activeTab:e})},a.hireEmployee=function(e){a.state.traitsState.hireEmployee(e),a.updateState()},a.state={debug:se.debug,firstLoad:!0,lastSaved:w()(),traitsState:se,statsActive:!1,patchNotesActive:!1,canShowWinScreen:!0,activeTab:(se.debug,he.HOME),showPyro:!1,pyroStart:w()(),pyroLength:5e3,canMakeTraits:!1,canShowEmployees:se.getUnlockedEmployees().length>0,canShowUpgrades:se.totalDelivered>=1,bottleNeckedPerSecond:0,favours:0,totalStorageSize:0,builtDeliveryBuildings:[],builtProdBuildings:[],builtPowerBuildings:[],builtStorageBuildings:[],manualWorkers:se.getEmployeeByType(H.PRODUCTION),deliverers:se.getEmployeeByType(H.DELIVERY),builders:se.getEmployeeByType(H.BUILDER),productionTimeToMake:0,storageIsFull:!1,storageCurrentSize:0,storageNaturalSize:0,storageMachineSize:0,employeesUnlocked:[],upgradesUnlocked:[],machinesUnlockedList:[],powerCommitted:0,powerTotal:0,buildingCurrentMachine:se.getCurrentlyBuildingMachine(),totalTimePlayed:w.a.duration(0),managementReaction:mt(0),flexibleMachineryUnlocked:!1,flexibleMachinerySetting:0,flexibleMachineryAbsMax:0,machineStorageMultiplier:1},a.onFirstLoadModalClosed=a.onFirstLoadModalClosed.bind(Object(c.a)(a)),a.onWinScreenClosed=a.onWinScreenClosed.bind(Object(c.a)(a)),a.onMakeTraitsClicked=a.onMakeTraitsClicked.bind(Object(c.a)(a)),a.toggleStatsActive=a.toggleStatsActive.bind(Object(c.a)(a)),a.togglePatchNotes=a.togglePatchNotes.bind(Object(c.a)(a)),a.saveGame=a.saveGame.bind(Object(c.a)(a)),a}return Object(l.a)(i,[{key:"componentDidMount",value:function(){var e=this;this.timerID=setInterval((function(){return e.tick()}),this.state.traitsState.tickLengthMs),this.updateState(),this.slowTimerID=setInterval((function(){return e.updateState()}),4*this.state.traitsState.tickLengthMs)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerID),clearInterval(this.slowTimerID)}},{key:"saveGame",value:function(){var e={};for(var t in rt)switch(t){case"totalTimePlayed":e[t]=this.state.traitsState[t].asMilliseconds();break;default:e[t]=this.state.traitsState[t]}if(e){var i=JSON.stringify(e);localStorage.setItem("thesupplierscomplex_save",i),this.setState({lastSaved:w()()})}}},{key:"toggleStatsActive",value:function(){var e=!this.state.statsActive;this.setState({statsActive:e,managementReaction:mt(this.state.traitsState.totalDelivered)})}},{key:"togglePatchNotes",value:function(){var e=!this.state.patchNotesActive;this.setState({patchNotesActive:e})}},{key:"tick",value:function(){var e=this.state.traitsState.gameComplete&&this.state.canShowWinScreen;this.state.traitsState.tick(e),this.setState({traitsState:this.state.traitsState}),!this.state.firstLoad&&w()().diff(this.state.lastSaved)>1e3&&this.saveGame()}},{key:"onFirstLoadModalClosed",value:function(e){e||localStorage.removeItem("thesupplierscomplex_save"),this.state.traitsState.init(e),this.setState({firstLoad:!1})}},{key:"onWinScreenClosed",value:function(){this.setState({canShowWinScreen:!1})}},{key:"onMakeTraitsClicked",value:function(){this.state.traitsState.onMakeTraitsClicked(),this.updateState()}},{key:"render",value:function(){var e=this.state.traitsState.getUnlockedUpgrades(),t=Number.parseFloat(this.state.traitsState.getOutcomePerSecond(H.PRODUCTION).toFixed(2)),i=Number.parseFloat(this.state.traitsState.getOutcomePerSecond(H.DELIVERY).toFixed(2));return r.a.createElement("div",null,(!this.state.traitsState.gameComplete||!this.state.canShowWinScreen)&&r.a.createElement("div",null,this.state.firstLoad&&r.a.createElement(T,{onFirstLoadModalClosed:this.onFirstLoadModalClosed}),!this.state.firstLoad&&r.a.createElement(b,{showMassDeliveryBtn:this.state.traitsState.massDelivery.isActive,favours:this.state.favours,canMakeTraits:this.state.canMakeTraits,totalDelivered:this.state.traitsState.totalDelivered,statsActive:this.state.statsActive,onToggleStatsActive:this.toggleStatsActive,onMakeTraitsClicked:this.onMakeTraitsClicked,onPerformMassDelivery:this.state.traitsState.massDelivery.perform,producingPerS:t,deliveringPerS:i,upgradesAvailable:e,totalStorageSize:this.state.totalStorageSize,bottleNeckedPerSecond:this.state.bottleNeckedPerSecond}),!this.state.firstLoad&&r.a.createElement(it,{wrapperHeight:this.state.traitsState.wrapperHeight,showPyro:this.state.showPyro,manualWorkers:this.state.manualWorkers,deliverers:this.state.deliverers,builders:this.state.builders,getOutcomePerSecond:this.state.traitsState.getOutcomePerSecond,activeTab:this.state.activeTab,onSetActiveTab:this.setActiveTab,productionPerClick:this.state.traitsState.madePerClick,productionTimeToMake:this.state.productionTimeToMake,productionProgressPercent:this.state.traitsState.makeProgressPercent,canShowEmployees:this.state.canShowEmployees,employees:this.state.traitsState.employees,employeesUnlocked:this.state.employeesUnlocked,employeesCanHire:this.state.traitsState.canHireEmployee,employeesGetCost:this.state.traitsState.getEmployeeCost,employeesHire:this.hireEmployee,canShowUpgrades:this.state.canShowUpgrades,upgradesUnlocked:this.state.upgradesUnlocked,upgradesAll:this.state.traitsState.allUpgrades,upgradesCanPurchase:this.state.traitsState.canPurchaseUpgrade,upgradesPurchase:this.purchaseUpgrade,storageCurrentSize:this.state.storageCurrentSize,storageNaturalSize:this.state.storageNaturalSize,storageMachineSize:this.state.storageMachineSize,storageIsFull:this.state.storageIsFull,storageAmount:this.state.traitsState.stored,storageTraits:this.state.traitsState.storedTraits,storageMax:this.state.traitsState.visualStorageMax,machineStorageMultiplier:this.state.machineStorageMultiplier||1,deliveryFadeOutTimeMs:this.state.traitsState.deliveryFadeOutTimeMs||2500,powerCommitted:this.state.powerCommitted,powerTotal:this.state.powerTotal,buildQueue:this.state.traitsState.machines.buildQueue,buildingCurrentMachine:this.state.buildingCurrentMachine,onCancelMachineFromBuildQueue:this.state.traitsState.cancelMachineFromQueue,buildingGetCancellationRefundAmount:this.state.traitsState.getCancellationRefundAmount,builtDeliveryBuildings:this.state.builtDeliveryBuildings,builtProdBuildings:this.state.builtProdBuildings,builtPowerBuildings:this.state.builtPowerBuildings,builtStorageBuildings:this.state.builtStorageBuildings,areMachinesUnlocked:this.state.traitsState.machines.unlocked,machinesAll:this.state.traitsState.machines.all,machinesUnlockedList:this.state.machinesUnlockedList,machinesGetCost:this.state.traitsState.getMachineCost,machinesAddToQueue:this.state.traitsState.addMachineToQueue,machinesSell:this.state.traitsState.machines.sell,machinesCanBuild:this.state.traitsState.canBuildMachine,flexibleMachinerySetting:this.state.flexibleMachinerySetting||0,flexibleMachineryAbsMax:this.state.flexibleMachineryAbsMax||2,flexibleMachineryUnlocked:this.state.flexibleMachineryUnlocked||!1,onFlexibleMachineryUpdate:this.onFlexibleMachineryUpdate,onReallocateProdWorker:this.state.traitsState.reallocateProdWorker}),!this.state.firstLoad&&r.a.createElement(pe,{version:this.state.traitsState.version,togglePatchNotes:this.togglePatchNotes,patchNotesActive:this.state.patchNotesActive})),this.state.traitsState.gameComplete&&this.state.canShowWinScreen&&r.a.createElement(N,{startTime:this.state.traitsState.startTime,gameWinTime:this.state.traitsState.gameWinTime,onWinScreenClosed:this.onWinScreenClosed}),r.a.createElement(de,{totalTimePlayed:this.state.totalTimePlayed,managementReaction:this.state.managementReaction,totalMade:this.state.traitsState.totalMade,totalDelivered:this.state.traitsState.totalDelivered,favoursSpent:this.state.traitsState.favoursSpent,totalWastedProduction:this.state.traitsState.totalWastedProduction,totalWastedDeliveries:this.state.traitsState.totalWastedDeliveries,producingPerS:t,deliveringPerS:i,attachQuickviews:this.state.traitsState.attachQuickviews,statsActive:this.state.statsActive,allUpgrades:this.state.traitsState.allUpgrades,areMachinesUnlocked:this.state.traitsState.machines.unlocked,machinesAll:this.state.traitsState.machines.all,machinesUnlockedList:this.state.machinesUnlockedList}),r.a.createElement(at,{attachQuickviews:this.state.traitsState.attachQuickviews,patchNotesActive:this.state.patchNotesActive,onTogglePatchNotes:this.togglePatchNotes}))}}]),i}(r.a.Component);i(34);var ht=function(){return r.a.createElement(pt,null)},gt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function yt(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var i=e.installing;null!=i&&(i.onstatechange=function(){"installed"===i.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ht,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/complex",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/complex","/service-worker.js");gt?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(i){var a=i.headers.get("content-type");404===i.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):yt(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):yt(t,e)}))}}()}],[[26,1,2]]]);
//# sourceMappingURL=main.2cb8caa4.chunk.js.map